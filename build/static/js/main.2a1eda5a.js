/*! For license information please see main.2a1eda5a.js.LICENSE.txt */
(()=>{var e={43:(e,t,n)=>{"use strict";e.exports=n(202)},153:(e,t,n)=>{"use strict";var r=n(43),i=Symbol.for("react.element"),s=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,s={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)a.call(t,r)&&!l.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===s[r]&&(s[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:u,props:s,_owner:o.current}}t.Fragment=s,t.jsx=c,t.jsxs=c},174:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=t.partialVisbile,r=t.partialVisible,i=t.centerMode,s=t.ssr,a=t.responsive;if((n||r)&&i)throw new Error("center mode can not be used at the same time with partialVisible");if(!a)throw s?new Error("ssr mode need to be used in conjunction with responsive prop"):new Error("Responsive prop is needed for deciding the amount of items to show on the screen");if(a&&"object"!=typeof a)throw new Error("responsive prop must be an object")}},202:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var w=b.prototype=new y;w.constructor=b,m(w,v.prototype),w.isPureReactComponent=!0;var _=Array.isArray,E=Object.prototype.hasOwnProperty,x={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function k(e,t,r){var i,s={},a=null,o=null;if(null!=t)for(i in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(a=""+t.key),t)E.call(t,i)&&!S.hasOwnProperty(i)&&(s[i]=t[i]);var l=arguments.length-2;if(1===l)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===s[i]&&(s[i]=l[i]);return{$$typeof:n,type:e,key:a,ref:o,props:s,_owner:x.current}}function T(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var C=/\/+/g;function I(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function N(e,t,i,s,a){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l=!1;if(null===e)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return a=a(l=e),e=""===s?"."+I(l,0):s,_(a)?(i="",null!=e&&(i=e.replace(C,"$&/")+"/"),N(a,t,i,"",function(e){return e})):null!=a&&(T(a)&&(a=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,i+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(C,"$&/")+"/")+e)),t.push(a)),1;if(l=0,s=""===s?".":s+":",_(e))for(var c=0;c<e.length;c++){var u=s+I(o=e[c],c);l+=N(o,t,i,u,a)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(o=e.next()).done;)l+=N(o=o.value,t,i,u=s+I(o,c++),a);else if("object"===o)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function A(e,t,n){if(null==e)return e;var r=[],i=0;return N(e,r,"","",function(e){return t.call(n,e,i++)}),r}function P(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var j={current:null},R={transition:null},D={ReactCurrentDispatcher:j,ReactCurrentBatchConfig:R,ReactCurrentOwner:x};function O(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:A,forEach:function(e,t,n){A(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return A(e,function(){t++}),t},toArray:function(e){return A(e,function(e){return e})||[]},only:function(e){if(!T(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=i,t.Profiler=a,t.PureComponent=b,t.StrictMode=s,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.act=O,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=m({},e.props),s=e.key,a=e.ref,o=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,o=x.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)E.call(t,c)&&!S.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];i.children=l}return{$$typeof:n,type:e.type,key:s,ref:a,props:i,_owner:o}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=k,t.createFactory=function(e){var t=k.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=T,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:P}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=R.transition;R.transition={};try{e()}finally{R.transition=t}},t.unstable_act=O,t.useCallback=function(e,t){return j.current.useCallback(e,t)},t.useContext=function(e){return j.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return j.current.useDeferredValue(e)},t.useEffect=function(e,t){return j.current.useEffect(e,t)},t.useId=function(){return j.current.useId()},t.useImperativeHandle=function(e,t,n){return j.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return j.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return j.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return j.current.useMemo(e,t)},t.useReducer=function(e,t,n){return j.current.useReducer(e,t,n)},t.useRef=function(e){return j.current.useRef(e)},t.useState=function(e){return j.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return j.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return j.current.useTransition()},t.version="18.3.1"},232:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(526),i=n(673);t.getLookupTableForNextSlides=function(e,t,n,s){var a={},o=i.getSlidesToSlide(t,n);return Array(e).fill(0).forEach(function(e,n){var i=r.getOriginalCounterPart(n,t,s);if(0===n)a[0]=i;else{var l=a[n-1]+o;a[n]=l}}),a}},234:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<s(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,a=i>>>1;r<a;){var o=2*(r+1)-1,l=e[o],c=o+1,u=e[c];if(0>s(l,n))c<i&&0>s(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[o]=n,r=o);else{if(!(c<i&&0>s(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,h=null,f=3,p=!1,m=!1,g=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function _(e){if(g=!1,w(e),!m)if(null!==r(c))m=!0,R(E);else{var t=r(u);null!==t&&D(_,t.startTime-e)}}function E(e,n){m=!1,g&&(g=!1,y(T),T=-1),p=!0;var s=f;try{for(w(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!N());){var a=h.callback;if("function"===typeof a){h.callback=null,f=h.priorityLevel;var o=a(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof o?h.callback=o:h===r(c)&&i(c),w(n)}else i(c);h=r(c)}if(null!==h)var l=!0;else{var d=r(u);null!==d&&D(_,d.startTime-n),l=!1}return l}finally{h=null,f=s,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var x,S=!1,k=null,T=-1,C=5,I=-1;function N(){return!(t.unstable_now()-I<C)}function A(){if(null!==k){var e=t.unstable_now();I=e;var n=!0;try{n=k(!0,e)}finally{n?x():(S=!1,k=null)}}else S=!1}if("function"===typeof b)x=function(){b(A)};else if("undefined"!==typeof MessageChannel){var P=new MessageChannel,j=P.port2;P.port1.onmessage=A,x=function(){j.postMessage(null)}}else x=function(){v(A,0)};function R(e){k=e,S||(S=!0,x())}function D(e,n){T=v(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,R(E))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,s){var a=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?a+s:a:s=a,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:s,expirationTime:o=s+o,sortIndex:-1},s>a?(e.sortIndex=s,n(u,e),null===r(c)&&e===r(u)&&(g?(y(T),T=-1):g=!0,D(_,s-a))):(e.sortIndex=o,n(c,e),m||p||(m=!0,R(E))),e},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},257:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n(43);t.isMouseMoveEvent=function(e){return"clientY"in e};var s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t}(i.Component);t.default=s},337:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(673);t.populateNextSlides=function(e,t,n){void 0===n&&(n=0);var i,s,a=e.slidesToShow,o=e.currentSlide,l=e.itemWidth,c=e.totalItems,u=r.getSlidesToSlide(e,t),d=o+1+n+a+(0<n?0:u);return s=d<=c?-l*(i=o+n+(0<n?0:u)):c<d&&o!==c-a?-l*(i=c-a):i=void 0,{nextSlides:i,nextPosition:s}}},364:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n(43),s=n(694),a=n(257),o=n(406),l=n(400),c=n(834),u=n(673),d=400,h="transform 400ms ease-in-out",f=function(e){function t(t){var n=e.call(this,t)||this;return n.containerRef=i.createRef(),n.listRef=i.createRef(),n.state={itemWidth:0,slidesToShow:0,currentSlide:0,totalItems:i.Children.count(t.children),deviceType:"",domLoaded:!1,transform:0,containerWidth:0},n.onResize=n.onResize.bind(n),n.handleDown=n.handleDown.bind(n),n.handleMove=n.handleMove.bind(n),n.handleOut=n.handleOut.bind(n),n.onKeyUp=n.onKeyUp.bind(n),n.handleEnter=n.handleEnter.bind(n),n.setIsInThrottle=n.setIsInThrottle.bind(n),n.next=s.throttle(n.next.bind(n),t.transitionDuration||d,n.setIsInThrottle),n.previous=s.throttle(n.previous.bind(n),t.transitionDuration||d,n.setIsInThrottle),n.goToSlide=s.throttle(n.goToSlide.bind(n),t.transitionDuration||d,n.setIsInThrottle),n.onMove=!1,n.initialX=0,n.lastX=0,n.isAnimationAllowed=!1,n.direction="",n.initialY=0,n.isInThrottle=!1,n.transformPlaceHolder=0,n}return r(t,e),t.prototype.resetTotalItems=function(){var e=this,t=i.Children.count(this.props.children),n=s.notEnoughChildren(this.state)?0:Math.max(0,Math.min(this.state.currentSlide,t));this.setState({totalItems:t,currentSlide:n},function(){e.setContainerAndItemWidth(e.state.slidesToShow,!0)})},t.prototype.setIsInThrottle=function(e){void 0===e&&(e=!1),this.isInThrottle=e},t.prototype.setTransformDirectly=function(e,t){var n=this.props.additionalTransfrom;this.transformPlaceHolder=e;var r=u.getTransform(this.state,this.props,this.transformPlaceHolder);this.listRef&&this.listRef.current&&(this.setAnimationDirectly(t),this.listRef.current.style.transform="translate3d("+(r+n)+"px,0,0)")},t.prototype.setAnimationDirectly=function(e){this.listRef&&this.listRef.current&&(this.listRef.current.style.transition=e?this.props.customTransition||h:"none")},t.prototype.componentDidMount=function(){this.setState({domLoaded:!0}),this.setItemsToShow(),window.addEventListener("resize",this.onResize),this.onResize(!0),this.props.keyBoardControl&&window.addEventListener("keyup",this.onKeyUp),this.props.autoPlay&&(this.autoPlay=setInterval(this.next,this.props.autoPlaySpeed))},t.prototype.setClones=function(e,t,n,r){var a=this;void 0===r&&(r=!1),this.isAnimationAllowed=!1;var o=i.Children.toArray(this.props.children),l=s.getInitialSlideInInfiniteMode(e||this.state.slidesToShow,o),c=s.getClones(this.state.slidesToShow,o),u=o.length<this.state.slidesToShow?0:this.state.currentSlide;this.setState({totalItems:c.length,currentSlide:n&&!r?u:l},function(){a.correctItemsPosition(t||a.state.itemWidth)})},t.prototype.setItemsToShow=function(e,t){var n=this,r=this.props.responsive;Object.keys(r).forEach(function(i){var s=r[i],a=s.breakpoint,o=s.items,l=a.max,c=a.min,u=[window.innerWidth];window.screen&&window.screen.width&&u.push(window.screen.width);var d=Math.min.apply(Math,u);c<=d&&d<=l&&(n.setState({slidesToShow:o,deviceType:i}),n.setContainerAndItemWidth(o,e,t))})},t.prototype.setContainerAndItemWidth=function(e,t,n){var r=this;if(this.containerRef&&this.containerRef.current){var i=this.containerRef.current.offsetWidth,a=s.getItemClientSideWidth(this.props,e,i);this.setState({containerWidth:i,itemWidth:a},function(){r.props.infinite&&r.setClones(e,a,t,n)}),t&&this.correctItemsPosition(a)}},t.prototype.correctItemsPosition=function(e,t,n){t&&(this.isAnimationAllowed=!0),!t&&this.isAnimationAllowed&&(this.isAnimationAllowed=!1);var r=this.state.totalItems<this.state.slidesToShow?0:-e*this.state.currentSlide;n&&this.setTransformDirectly(r,!0),this.setState({transform:r})},t.prototype.onResize=function(e){var t;t=!!this.props.infinite&&("boolean"!=typeof e||!e),this.setItemsToShow(t)},t.prototype.componentDidUpdate=function(e,n){var r=this,i=e.keyBoardControl,a=e.autoPlay,o=e.children,l=n.containerWidth,c=n.domLoaded,u=n.currentSlide;if(this.containerRef&&this.containerRef.current&&this.containerRef.current.offsetWidth!==l&&(this.itemsToShowTimeout&&clearTimeout(this.itemsToShowTimeout),this.itemsToShowTimeout=setTimeout(function(){r.setItemsToShow(!0)},this.props.transitionDuration||d)),i&&!this.props.keyBoardControl&&window.removeEventListener("keyup",this.onKeyUp),!i&&this.props.keyBoardControl&&window.addEventListener("keyup",this.onKeyUp),a&&!this.props.autoPlay&&this.autoPlay&&(clearInterval(this.autoPlay),this.autoPlay=void 0),a||!this.props.autoPlay||this.autoPlay||(this.autoPlay=setInterval(this.next,this.props.autoPlaySpeed)),o.length!==this.props.children.length?t.clonesTimeout=setTimeout(function(){r.props.infinite?r.setClones(r.state.slidesToShow,r.state.itemWidth,!0,!0):r.resetTotalItems()},this.props.transitionDuration||d):this.props.infinite&&this.state.currentSlide!==u&&this.correctClonesPosition({domLoaded:c}),this.transformPlaceHolder!==this.state.transform&&(this.transformPlaceHolder=this.state.transform),this.props.autoPlay&&this.props.rewind&&!this.props.infinite&&s.isInRightEnd(this.state)){var h=this.props.transitionDuration||d;t.isInThrottleTimeout=setTimeout(function(){r.setIsInThrottle(!1),r.resetAutoplayInterval(),r.goToSlide(0,void 0,!!r.props.rewindWithAnimation)},h+this.props.autoPlaySpeed)}},t.prototype.correctClonesPosition=function(e){var n=this,r=e.domLoaded,a=i.Children.toArray(this.props.children),o=s.checkClonesPosition(this.state,a,this.props),l=o.isReachingTheEnd,c=o.isReachingTheStart,u=o.nextSlide,h=o.nextPosition;this.state.domLoaded&&r&&(l||c)&&(this.isAnimationAllowed=!1,t.transformTimeout=setTimeout(function(){n.setState({transform:h,currentSlide:u})},this.props.transitionDuration||d))},t.prototype.next=function(e){var n=this;void 0===e&&(e=0);var r=this.props,i=r.afterChange,a=r.beforeChange;if(!s.notEnoughChildren(this.state)){var o=s.populateNextSlides(this.state,this.props,e),l=o.nextSlides,c=o.nextPosition,u=this.state.currentSlide;void 0!==l&&void 0!==c&&("function"==typeof a&&a(l,this.getState()),this.isAnimationAllowed=!0,this.props.shouldResetAutoplay&&this.resetAutoplayInterval(),this.setState({transform:c,currentSlide:l},function(){"function"==typeof i&&(t.afterChangeTimeout=setTimeout(function(){i(u,n.getState())},n.props.transitionDuration||d))}))}},t.prototype.previous=function(e){var n=this;void 0===e&&(e=0);var r=this.props,i=r.afterChange,a=r.beforeChange;if(!s.notEnoughChildren(this.state)){var o=s.populatePreviousSlides(this.state,this.props,e),l=o.nextSlides,c=o.nextPosition;if(void 0!==l&&void 0!==c){var u=this.state.currentSlide;"function"==typeof a&&a(l,this.getState()),this.isAnimationAllowed=!0,this.props.shouldResetAutoplay&&this.resetAutoplayInterval(),this.setState({transform:c,currentSlide:l},function(){"function"==typeof i&&(t.afterChangeTimeout2=setTimeout(function(){i(u,n.getState())},n.props.transitionDuration||d))})}}},t.prototype.resetAutoplayInterval=function(){this.props.autoPlay&&(clearInterval(this.autoPlay),this.autoPlay=setInterval(this.next,this.props.autoPlaySpeed))},t.prototype.componentWillUnmount=function(){window.removeEventListener("resize",this.onResize),this.props.keyBoardControl&&window.removeEventListener("keyup",this.onKeyUp),this.props.autoPlay&&this.autoPlay&&(clearInterval(this.autoPlay),this.autoPlay=void 0),this.itemsToShowTimeout&&clearTimeout(this.itemsToShowTimeout),t.clonesTimeout&&clearTimeout(t.clonesTimeout),t.isInThrottleTimeout&&clearTimeout(t.isInThrottleTimeout),t.transformTimeout&&clearTimeout(t.transformTimeout),t.afterChangeTimeout&&clearTimeout(t.afterChangeTimeout),t.afterChangeTimeout2&&clearTimeout(t.afterChangeTimeout2),t.afterChangeTimeout3&&clearTimeout(t.afterChangeTimeout3)},t.prototype.resetMoveStatus=function(){this.onMove=!1,this.initialX=0,this.lastX=0,this.direction="",this.initialY=0},t.prototype.getCords=function(e){var t=e.clientX,n=e.clientY;return{clientX:u.parsePosition(this.props,t),clientY:u.parsePosition(this.props,n)}},t.prototype.handleDown=function(e){if(!(!a.isMouseMoveEvent(e)&&!this.props.swipeable||a.isMouseMoveEvent(e)&&!this.props.draggable||this.isInThrottle)){var t=this.getCords(a.isMouseMoveEvent(e)?e:e.touches[0]),n=t.clientX,r=t.clientY;this.onMove=!0,this.initialX=n,this.initialY=r,this.lastX=n,this.isAnimationAllowed=!1}},t.prototype.handleMove=function(e){if(!(!a.isMouseMoveEvent(e)&&!this.props.swipeable||a.isMouseMoveEvent(e)&&!this.props.draggable||s.notEnoughChildren(this.state))){var t=this.getCords(a.isMouseMoveEvent(e)?e:e.touches[0]),n=t.clientX,r=t.clientY,i=this.initialX-n,o=this.initialY-r;if(this.onMove){if(!(Math.abs(i)>Math.abs(o)))return;var l=s.populateSlidesOnMouseTouchMove(this.state,this.props,this.initialX,this.lastX,n,this.transformPlaceHolder),c=l.direction,u=l.nextPosition,d=l.canContinue;c&&(this.direction=c,d&&void 0!==u&&this.setTransformDirectly(u)),this.lastX=n}}},t.prototype.handleOut=function(e){this.props.autoPlay&&!this.autoPlay&&(this.autoPlay=setInterval(this.next,this.props.autoPlaySpeed));var t="touchend"===e.type&&!this.props.swipeable,n=("mouseleave"===e.type||"mouseup"===e.type)&&!this.props.draggable;if(!t&&!n&&this.onMove){if(this.setAnimationDirectly(!0),"right"===this.direction)if(this.initialX-this.lastX>=this.props.minimumTouchDrag){var r=Math.round((this.initialX-this.lastX)/this.state.itemWidth);this.next(r)}else this.correctItemsPosition(this.state.itemWidth,!0,!0);"left"===this.direction&&(this.lastX-this.initialX>this.props.minimumTouchDrag?(r=Math.round((this.lastX-this.initialX)/this.state.itemWidth),this.previous(r)):this.correctItemsPosition(this.state.itemWidth,!0,!0)),this.resetMoveStatus()}},t.prototype.isInViewport=function(e){var t=e.getBoundingClientRect(),n=t.top,r=void 0===n?0:n,i=t.left,s=void 0===i?0:i,a=t.bottom,o=void 0===a?0:a,l=t.right,c=void 0===l?0:l;return 0<=r&&0<=s&&o<=(window.innerHeight||document.documentElement.clientHeight)&&c<=(window.innerWidth||document.documentElement.clientWidth)},t.prototype.isChildOfCarousel=function(e){return!!(e instanceof Element&&this.listRef&&this.listRef.current)&&this.listRef.current.contains(e)},t.prototype.onKeyUp=function(e){var t=e.target;switch(e.keyCode){case 37:if(this.isChildOfCarousel(t))return this.previous();break;case 39:if(this.isChildOfCarousel(t))return this.next();break;case 9:if(this.isChildOfCarousel(t)&&t instanceof HTMLInputElement&&this.isInViewport(t))return this.next()}},t.prototype.handleEnter=function(e){a.isMouseMoveEvent(e)&&this.autoPlay&&this.props.autoPlay&&this.props.pauseOnHover&&(clearInterval(this.autoPlay),this.autoPlay=void 0)},t.prototype.goToSlide=function(e,n,r){var i=this;if(void 0===r&&(r=!0),!this.isInThrottle){var s=this.state.itemWidth,a=this.props,o=a.afterChange,l=a.beforeChange,c=this.state.currentSlide;"function"!=typeof l||n&&("object"!=typeof n||n.skipBeforeChange)||l(e,this.getState()),this.isAnimationAllowed=r,this.props.shouldResetAutoplay&&this.resetAutoplayInterval(),this.setState({currentSlide:e,transform:-s*e},function(){i.props.infinite&&i.correctClonesPosition({domLoaded:!0}),"function"!=typeof o||n&&("object"!=typeof n||n.skipAfterChange)||(t.afterChangeTimeout3=setTimeout(function(){o(c,i.getState())},i.props.transitionDuration||d))})}},t.prototype.getState=function(){return this.state},t.prototype.renderLeftArrow=function(e){var t=this,n=this.props,r=n.customLeftArrow,s=n.rtl;return i.createElement(l.LeftArrow,{customLeftArrow:r,getState:function(){return t.getState()},previous:this.previous,disabled:e,rtl:s})},t.prototype.renderRightArrow=function(e){var t=this,n=this.props,r=n.customRightArrow,s=n.rtl;return i.createElement(l.RightArrow,{customRightArrow:r,getState:function(){return t.getState()},next:this.next,disabled:e,rtl:s})},t.prototype.renderButtonGroups=function(){var e=this,t=this.props.customButtonGroup;return t?i.cloneElement(t,{previous:function(){return e.previous()},next:function(){return e.next()},goToSlide:function(t,n){return e.goToSlide(t,n)},carouselState:this.getState()}):null},t.prototype.renderDotsList=function(){var e=this;return i.createElement(o.default,{state:this.state,props:this.props,goToSlide:this.goToSlide,getState:function(){return e.getState()}})},t.prototype.renderCarouselItems=function(){var e=[];if(this.props.infinite){var t=i.Children.toArray(this.props.children);e=s.getClones(this.state.slidesToShow,t)}return i.createElement(c.default,{clones:e,goToSlide:this.goToSlide,state:this.state,notEnoughChildren:s.notEnoughChildren(this.state),props:this.props})},t.prototype.render=function(){var e=this.props,t=e.deviceType,n=e.arrows,r=e.renderArrowsWhenDisabled,a=e.removeArrowOnDeviceType,o=e.infinite,l=e.containerClass,c=e.sliderClass,d=e.customTransition,f=e.additionalTransfrom,p=e.renderDotsOutside,m=e.renderButtonGroupOutside,g=e.className,v=e.rtl,y=s.getInitialState(this.state,this.props),b=y.shouldRenderOnSSR,w=y.shouldRenderAtAll,_=s.isInLeftEnd(this.state),E=s.isInRightEnd(this.state),x=n&&!(a&&(t&&-1<a.indexOf(t)||this.state.deviceType&&-1<a.indexOf(this.state.deviceType)))&&!s.notEnoughChildren(this.state)&&w,S=!o&&_,k=!o&&E,T=u.getTransform(this.state,this.props);return i.createElement(i.Fragment,null,i.createElement("div",{className:"react-multi-carousel-list "+l+" "+g,dir:v?"rtl":"ltr",ref:this.containerRef},i.createElement("ul",{ref:this.listRef,className:"react-multi-carousel-track "+c,style:{transition:this.isAnimationAllowed?d||h:"none",overflow:b?"hidden":"unset",transform:"translate3d("+(T+f)+"px,0,0)"},onMouseMove:this.handleMove,onMouseDown:this.handleDown,onMouseUp:this.handleOut,onMouseEnter:this.handleEnter,onMouseLeave:this.handleOut,onTouchStart:this.handleDown,onTouchMove:this.handleMove,onTouchEnd:this.handleOut},this.renderCarouselItems()),x&&(!S||r)&&this.renderLeftArrow(S),x&&(!k||r)&&this.renderRightArrow(k),w&&!m&&this.renderButtonGroups(),w&&!p&&this.renderDotsList()),w&&p&&this.renderDotsList(),w&&m&&this.renderButtonGroups())},t.defaultProps={slidesToSlide:1,infinite:!1,draggable:!0,swipeable:!0,arrows:!0,renderArrowsWhenDisabled:!1,containerClass:"",sliderClass:"",itemClass:"",keyBoardControl:!0,autoPlaySpeed:3e3,showDots:!1,renderDotsOutside:!1,renderButtonGroupOutside:!1,minimumTouchDrag:80,className:"",dotListClass:"",focusOnSelect:!1,centerMode:!1,additionalTransfrom:0,pauseOnHover:!0,shouldResetAutoplay:!0,rewind:!1,rtl:!1,rewindWithAnimation:!1},t}(i.Component);t.default=f},365:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(43),i=n(673),s=n(673);t.populatePreviousSlides=function(e,t,n){void 0===n&&(n=0);var a,o,l=e.currentSlide,c=e.itemWidth,u=e.slidesToShow,d=t.children,h=t.showDots,f=t.infinite,p=i.getSlidesToSlide(e,t),m=l-n-(0<n?0:p),g=(r.Children.toArray(d).length-u)%p;return o=0<=m?(a=m,h&&!f&&0<g&&s.isInRightEnd(e)&&(a=l-g),-c*a):a=m<0&&0!==l?0:void 0,{nextSlides:a,nextPosition:o}}},391:(e,t,n)=>{"use strict";var r=n(950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},400:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(43);t.LeftArrow=function(e){var t=e.customLeftArrow,n=e.getState,i=e.previous,s=e.disabled,a=e.rtl;if(t)return r.cloneElement(t,{onClick:function(){return i()},carouselState:n(),disabled:s,rtl:a});var o=a?"rtl":"";return r.createElement("button",{"aria-label":"Go to previous slide",className:"react-multiple-carousel__arrow react-multiple-carousel__arrow--left "+o,onClick:function(){return i()},type:"button",disabled:s})};t.RightArrow=function(e){var t=e.customRightArrow,n=e.getState,i=e.next,s=e.disabled,a=e.rtl;if(t)return r.cloneElement(t,{onClick:function(){return i()},carouselState:n(),disabled:s,rtl:a});var o=a?"rtl":"";return r.createElement("button",{"aria-label":"Go to next slide",className:"react-multiple-carousel__arrow react-multiple-carousel__arrow--right "+o,onClick:function(){return i()},type:"button",disabled:s})}},406:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(43),i=n(526),s=n(232),a=n(673);t.default=function(e){var t=e.props,n=e.state,o=e.goToSlide,l=e.getState,c=t.showDots,u=t.customDot,d=t.dotListClass,h=t.infinite,f=t.children;if(!c||a.notEnoughChildren(n))return null;var p,m=n.currentSlide,g=n.slidesToShow,v=a.getSlidesToSlide(n,t),y=r.Children.toArray(f);p=h?Math.ceil(y.length/v):Math.ceil((y.length-g)/v)+1;var b=s.getLookupTableForNextSlides(p,n,t,y),w=i.getOriginalIndexLookupTableByClones(g,y),_=w[m];return r.createElement("ul",{className:"react-multi-carousel-dot-list "+d},Array(p).fill(0).map(function(e,t){var n,i;if(h){i=b[t];var s=w[i];n=_===s||s<=_&&_<s+v}else{var a=y.length-g,c=t*v;n=(i=a<c?a:c)===m||i<m&&m<i+v&&m<y.length-g}return u?r.cloneElement(u,{index:t,active:n,key:t,onClick:function(){return o(i)},carouselState:l()}):r.createElement("li",{"data-index":t,key:t,className:"react-multi-carousel-dot "+(n?"react-multi-carousel-dot--active":"")},r.createElement("button",{"aria-label":"Go to slide "+(t+1),onClick:function(){return o(i)}}))}))}},488:(e,t,n)=>{e.exports=n(604)},526:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getOriginalCounterPart=function(e,t,n){var r=t.slidesToShow,i=t.currentSlide;return n.length>2*r?e+2*r:i>=n.length?n.length+e:e},t.getOriginalIndexLookupTableByClones=function(e,t){if(t.length>2*e){for(var n={},r=t.length-2*e,i=t.length-r,s=r,a=0;a<i;a++)n[a]=s,s++;var o=t.length+i,l=o+t.slice(0,2*e).length,c=0;for(a=o;a<=l;a++)n[a]=c,c++;var u=o,d=0;for(a=i;a<u;a++)n[a]=d,d++;return n}n={};var h=3*t.length,f=0;for(a=0;a<h;a++)n[a]=f,++f===t.length&&(f=0);return n},t.getClones=function(e,t){return t.length<e?t:t.length>2*e?t.slice(t.length-2*e,t.length).concat(t,t.slice(0,2*e)):t.concat(t,t)},t.getInitialSlideInInfiniteMode=function(e,t){return t.length>2*e?2*e:t.length},t.checkClonesPosition=function(e,t,n){var r,i=e.currentSlide,s=e.slidesToShow,a=e.itemWidth,o=e.totalItems,l=0,c=0,u=0===i,d=t.length-(t.length-2*s);return t.length<s?(c=l=0,u=r=!1):t.length>2*s?((r=i>=d+t.length)&&(c=-a*(l=i-t.length)),u&&(c=-a*(l=d+(t.length-2*s)))):((r=i>=2*t.length)&&(c=-a*(l=i-t.length)),u&&(c=n.showDots?-a*(l=t.length):-a*(l=o/3))),{isReachingTheEnd:r,isReachingTheStart:u,nextSlide:l,nextPosition:c}}},528:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.populateSlidesOnMouseTouchMove=function(e,t,n,r,i,s){var a,o,l=e.itemWidth,c=e.slidesToShow,u=e.totalItems,d=e.currentSlide,h=t.infinite,f=!1,p=Math.round((n-r)/l),m=Math.round((r-n)/l),g=n<i;if(i<n&&p<=c){a="right";var v=Math.abs(-l*(u-c)),y=s-(r-i),b=d===u-c;(Math.abs(y)<=v||b&&h)&&(o=y,f=!0)}return g&&m<=c&&(a="left",((y=s+(i-r))<=0||0===d&&h)&&(f=!0,o=y)),{direction:a,nextPosition:o,canContinue:f}}},548:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t,n){var r;return function(){var i=arguments;r||(e.apply(this,i),r=!0,"function"==typeof n&&n(!0),setTimeout(function(){r=!1,"function"==typeof n&&n(!1)},t))}}},579:(e,t,n)=>{"use strict";e.exports=n(153)},604:(e,t,n)=>{"use strict";var r=n(364);t.default=r.default},624:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.getPartialVisibilityGutter=function(e,t,n,r){var i=0,s=r||n;return t&&s&&(i=e[s].partialVisibilityGutter||e[s].paritialVisibilityGutter),i},t.getWidthFromDeviceType=function(e,t){var n;return t[e]&&(n=(100/t[e].items).toFixed(1)),n},t.getItemClientSideWidth=function(e,t,n){return Math.round(n/(t+(e.centerMode?1:0)))}},673:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(624);function i(e){var t=e.slidesToShow;return e.totalItems<t}function s(e,t,n){var r=n||e.transform;return!t.infinite&&0===e.currentSlide||i(e)?r:r+e.itemWidth/2}function a(e){var t=e.currentSlide,n=e.totalItems;return!(t+e.slidesToShow<n)}function o(e,t,n,r){void 0===t&&(t=0);var s=e.currentSlide,o=e.slidesToShow,l=a(e),c=!n.infinite&&l,u=r||e.transform;if(i(e))return u;var d=u+s*t;return c?d+(e.containerWidth-(e.itemWidth-t)*o):d}function l(e,t){return e.rtl?-1*t:t}t.notEnoughChildren=i,t.getInitialState=function(e,t){var n,i=e.domLoaded,s=e.slidesToShow,a=e.containerWidth,o=e.itemWidth,l=t.deviceType,c=t.responsive,u=t.ssr,d=t.partialVisbile,h=t.partialVisible,f=Boolean(i&&s&&a&&o);u&&l&&!f&&(n=r.getWidthFromDeviceType(l,c));var p=Boolean(u&&l&&!f&&n);return{shouldRenderOnSSR:p,flexBisis:n,domFullyLoaded:f,partialVisibilityGutter:r.getPartialVisibilityGutter(c,d||h,l,e.deviceType),shouldRenderAtAll:p||f}},t.getIfSlideIsVisbile=function(e,t){var n=t.currentSlide,r=t.slidesToShow;return n<=e&&e<n+r},t.getTransformForCenterMode=s,t.isInLeftEnd=function(e){return!(0<e.currentSlide)},t.isInRightEnd=a,t.getTransformForPartialVsibile=o,t.parsePosition=l,t.getTransform=function(e,t,n){var i=t.partialVisbile,a=t.partialVisible,c=t.responsive,u=t.deviceType,d=t.centerMode,h=n||e.transform,f=r.getPartialVisibilityGutter(c,i||a,u,e.deviceType);return l(t,a||i?o(e,f,t,n):d?s(e,t,n):h)},t.getSlidesToSlide=function(e,t){var n=e.domLoaded,r=e.slidesToShow,i=e.containerWidth,s=e.itemWidth,a=t.deviceType,o=t.responsive,l=t.slidesToSlide||1,c=Boolean(n&&r&&i&&s);return t.ssr&&t.deviceType&&!c&&Object.keys(o).forEach(function(e){var t=o[e].slidesToSlide;a===e&&t&&(l=t)}),c&&Object.keys(o).forEach(function(e){var t=o[e],n=t.breakpoint,r=t.slidesToSlide,i=n.max,s=n.min;r&&window.innerWidth>=s&&window.innerWidth<=i&&(l=r)}),l}},694:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(526);t.getOriginalCounterPart=r.getOriginalCounterPart,t.getClones=r.getClones,t.checkClonesPosition=r.checkClonesPosition,t.getInitialSlideInInfiniteMode=r.getInitialSlideInInfiniteMode;var i=n(624);t.getWidthFromDeviceType=i.getWidthFromDeviceType,t.getPartialVisibilityGutter=i.getPartialVisibilityGutter,t.getItemClientSideWidth=i.getItemClientSideWidth;var s=n(673);t.getInitialState=s.getInitialState,t.getIfSlideIsVisbile=s.getIfSlideIsVisbile,t.getTransformForCenterMode=s.getTransformForCenterMode,t.getTransformForPartialVsibile=s.getTransformForPartialVsibile,t.isInLeftEnd=s.isInLeftEnd,t.isInRightEnd=s.isInRightEnd,t.notEnoughChildren=s.notEnoughChildren,t.getSlidesToSlide=s.getSlidesToSlide;var a=n(548);t.throttle=a.default;var o=n(174);t.throwError=o.default;var l=n(337);t.populateNextSlides=l.populateNextSlides;var c=n(365);t.populatePreviousSlides=c.populatePreviousSlides;var u=n(528);t.populateSlidesOnMouseTouchMove=u.populateSlidesOnMouseTouchMove},730:(e,t,n)=>{"use strict";var r=n(43),i=n(853);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,o={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(o[e]=t,e=0;e<t.length;e++)a.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function m(e,t,n,r,i,s,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=a}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){g[e]=new m(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){g[e]=new m(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){g[e]=new m(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){g[e]=new m(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){g[e]=new m(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)});var v=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(p,e)||!d.call(f,e)&&(h.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)}),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)});var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_=Symbol.for("react.element"),E=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),C=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),j=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var R=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var D=Symbol.iterator;function O(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=D&&e[D]||e["@@iterator"])?e:null}var L,M=Object.assign;function F(e){if(void 0===L)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);L=t&&t[1]||""}return"\n"+L+e}var U=!1;function V(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),s=r.stack.split("\n"),a=i.length-1,o=s.length-1;1<=a&&0<=o&&i[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==s[o]){if(1!==a||1!==o)do{if(a--,0>--o||i[a]!==s[o]){var l="\n"+i[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=a&&0<=o);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function z(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=V(e.type,!1);case 11:return e=V(e.type.render,!1);case 1:return e=V(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case x:return"Fragment";case E:return"Portal";case k:return"Profiler";case S:return"StrictMode";case N:return"Suspense";case A:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case T:return(e._context.displayName||"Context")+".Provider";case I:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case P:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case j:t=e._payload,e=e._init;try{return B(e(t))}catch(n){}}return null}function $(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function q(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function H(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function W(e){e._valueTracker||(e._valueTracker=function(e){var t=H(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function K(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=H(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function G(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Q(e,t){var n=t.checked;return M({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Y(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=q(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function J(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function X(e,t){J(e,t);var n=q(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&G(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+q(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return M({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(s(92));if(te(n)){if(1<n.length)throw Error(s(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:q(n)}}function se(e,t){var n=q(t.value),r=q(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function oe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?oe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,de=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction(function(){return ue(e,t)})}:ue);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(fe).forEach(function(e){pe.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]})});var ve=M({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(s(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var we=null;function _e(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ee=null,xe=null,Se=null;function ke(e){if(e=bi(e)){if("function"!==typeof Ee)throw Error(s(280));var t=e.stateNode;t&&(t=_i(t),Ee(e.stateNode,e.type,t))}}function Te(e){xe?Se?Se.push(e):Se=[e]:xe=e}function Ce(){if(xe){var e=xe,t=Se;if(Se=xe=null,ke(e),t)for(e=0;e<t.length;e++)ke(t[e])}}function Ie(e,t){return e(t)}function Ne(){}var Ae=!1;function Pe(e,t,n){if(Ae)return e(t,n);Ae=!0;try{return Ie(e,t,n)}finally{Ae=!1,(null!==xe||null!==Se)&&(Ne(),Ce())}}function je(e,t){var n=e.stateNode;if(null===n)return null;var r=_i(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var Re=!1;if(u)try{var De={};Object.defineProperty(De,"passive",{get:function(){Re=!0}}),window.addEventListener("test",De,De),window.removeEventListener("test",De,De)}catch(ue){Re=!1}function Oe(e,t,n,r,i,s,a,o,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Le=!1,Me=null,Fe=!1,Ue=null,Ve={onError:function(e){Le=!0,Me=e}};function ze(e,t,n,r,i,s,a,o,l){Le=!1,Me=null,Oe.apply(Ve,arguments)}function Be(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function $e(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function qe(e){if(Be(e)!==e)throw Error(s(188))}function He(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return qe(i),e;if(a===r)return qe(i),t;a=a.sibling}throw Error(s(188))}if(n.return!==r.return)n=i,r=a;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=a;break}if(l===r){o=!0,r=i,n=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===n){o=!0,n=a,r=i;break}if(l===r){o=!0,r=a,n=i;break}l=l.sibling}if(!o)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(e))?We(e):null}function We(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=We(e);if(null!==t)return t;e=e.sibling}return null}var Ke=i.unstable_scheduleCallback,Ge=i.unstable_cancelCallback,Qe=i.unstable_shouldYield,Ye=i.unstable_requestPaint,Je=i.unstable_now,Xe=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,st=null;var at=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(ot(e)/lt|0)|0},ot=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,a=268435455&n;if(0!==a){var o=a&~i;0!==o?r=dt(o):0!==(s&=a)&&(r=dt(s))}else 0!==(a=n&~i)?r=dt(a):0!==s&&(r=dt(s));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(s=t&-t)||16===i&&0!==(4194240&s)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-at(t)),r|=e[n],t&=~i;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-at(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-at(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function wt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var _t,Et,xt,St,kt,Tt=!1,Ct=[],It=null,Nt=null,At=null,Pt=new Map,jt=new Map,Rt=[],Dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ot(e,t){switch(e){case"focusin":case"focusout":It=null;break;case"dragenter":case"dragleave":Nt=null;break;case"mouseover":case"mouseout":At=null;break;case"pointerover":case"pointerout":Pt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":jt.delete(t.pointerId)}}function Lt(e,t,n,r,i,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},null!==t&&(null!==(t=bi(t))&&Et(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Mt(e){var t=yi(e.target);if(null!==t){var n=Be(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=$e(n)))return e.blockedOn=t,void kt(e.priority,function(){xt(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Qt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&Et(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);we=r,n.target.dispatchEvent(r),we=null,t.shift()}return!0}function Ut(e,t,n){Ft(e)&&n.delete(t)}function Vt(){Tt=!1,null!==It&&Ft(It)&&(It=null),null!==Nt&&Ft(Nt)&&(Nt=null),null!==At&&Ft(At)&&(At=null),Pt.forEach(Ut),jt.forEach(Ut)}function zt(e,t){e.blockedOn===t&&(e.blockedOn=null,Tt||(Tt=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Vt)))}function Bt(e){function t(t){return zt(t,e)}if(0<Ct.length){zt(Ct[0],e);for(var n=1;n<Ct.length;n++){var r=Ct[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==It&&zt(It,e),null!==Nt&&zt(Nt,e),null!==At&&zt(At,e),Pt.forEach(t),jt.forEach(t),n=0;n<Rt.length;n++)(r=Rt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Rt.length&&null===(n=Rt[0]).blockedOn;)Mt(n),null===n.blockedOn&&Rt.shift()}var $t=w.ReactCurrentBatchConfig,qt=!0;function Ht(e,t,n,r){var i=bt,s=$t.transition;$t.transition=null;try{bt=1,Kt(e,t,n,r)}finally{bt=i,$t.transition=s}}function Wt(e,t,n,r){var i=bt,s=$t.transition;$t.transition=null;try{bt=4,Kt(e,t,n,r)}finally{bt=i,$t.transition=s}}function Kt(e,t,n,r){if(qt){var i=Qt(e,t,n,r);if(null===i)qr(e,t,r,Gt,n),Ot(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return It=Lt(It,e,t,n,r,i),!0;case"dragenter":return Nt=Lt(Nt,e,t,n,r,i),!0;case"mouseover":return At=Lt(At,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return Pt.set(s,Lt(Pt.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,jt.set(s,Lt(jt.get(s)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Ot(e,r),4&t&&-1<Dt.indexOf(e)){for(;null!==i;){var s=bi(i);if(null!==s&&_t(s),null===(s=Qt(e,t,n,r))&&qr(e,t,r,Gt,n),s===i)break;i=s}null!==i&&r.stopPropagation()}else qr(e,t,r,null,n)}}var Gt=null;function Qt(e,t,n,r){if(Gt=null,null!==(e=yi(e=_e(r))))if(null===(t=Be(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=$e(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Gt=e,null}function Yt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xe()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Jt=null,Xt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Xt,r=n.length,i="value"in Jt?Jt.value:Jt.textContent,s=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[s-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function sn(e){function t(t,n,r,i,s){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return M(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var an,on,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=sn(cn),dn=M({},cn,{view:0,detail:0}),hn=sn(dn),fn=M({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(an=e.screenX-ln.screenX,on=e.screenY-ln.screenY):on=an=0,ln=e),an)},movementY:function(e){return"movementY"in e?e.movementY:on}}),pn=sn(fn),mn=sn(M({},fn,{dataTransfer:0})),gn=sn(M({},dn,{relatedTarget:0})),vn=sn(M({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=M({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=sn(yn),wn=sn(M({},cn,{data:0})),_n={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},En={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=xn[e])&&!!t[e]}function kn(){return Sn}var Tn=M({},dn,{key:function(e){if(e.key){var t=_n[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?En[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Cn=sn(Tn),In=sn(M({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Nn=sn(M({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kn})),An=sn(M({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Pn=M({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),jn=sn(Pn),Rn=[9,13,27,32],Dn=u&&"CompositionEvent"in window,On=null;u&&"documentMode"in document&&(On=document.documentMode);var Ln=u&&"TextEvent"in window&&!On,Mn=u&&(!Dn||On&&8<On&&11>=On),Fn=String.fromCharCode(32),Un=!1;function Vn(e,t){switch(e){case"keyup":return-1!==Rn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Bn=!1;var $n={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!$n[e.type]:"textarea"===t}function Hn(e,t,n,r){Te(r),0<(t=Wr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Wn=null,Kn=null;function Gn(e){Fr(e,0)}function Qn(e){if(K(wi(e)))return e}function Yn(e,t){if("change"===e)return t}var Jn=!1;if(u){var Xn;if(u){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Xn=Zn}else Xn=!1;Jn=Xn&&(!document.documentMode||9<document.documentMode)}function tr(){Wn&&(Wn.detachEvent("onpropertychange",nr),Kn=Wn=null)}function nr(e){if("value"===e.propertyName&&Qn(Kn)){var t=[];Hn(t,Kn,e,_e(e)),Pe(Gn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Kn=n,(Wn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Qn(Kn)}function sr(e,t){if("click"===e)return Qn(t)}function ar(e,t){if("input"===e||"change"===e)return Qn(t)}var or="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(or(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!d.call(t,i)||!or(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=G();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=G((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=void 0===r.end?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=ur(n,s);var a=ur(n,r);i&&a&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=u&&"documentMode"in document&&11>=document.documentMode,gr=null,vr=null,yr=null,br=!1;function wr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==gr||gr!==G(r)||("selectionStart"in(r=gr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&lr(yr,r)||(yr=r,0<(r=Wr(vr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function _r(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Er={animationend:_r("Animation","AnimationEnd"),animationiteration:_r("Animation","AnimationIteration"),animationstart:_r("Animation","AnimationStart"),transitionend:_r("Transition","TransitionEnd")},xr={},Sr={};function kr(e){if(xr[e])return xr[e];if(!Er[e])return e;var t,n=Er[e];for(t in n)if(n.hasOwnProperty(t)&&t in Sr)return xr[e]=n[t];return e}u&&(Sr=document.createElement("div").style,"AnimationEvent"in window||(delete Er.animationend.animation,delete Er.animationiteration.animation,delete Er.animationstart.animation),"TransitionEvent"in window||delete Er.transitionend.transition);var Tr=kr("animationend"),Cr=kr("animationiteration"),Ir=kr("animationstart"),Nr=kr("transitionend"),Ar=new Map,Pr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function jr(e,t){Ar.set(e,t),l(t,[e])}for(var Rr=0;Rr<Pr.length;Rr++){var Dr=Pr[Rr];jr(Dr.toLowerCase(),"on"+(Dr[0].toUpperCase()+Dr.slice(1)))}jr(Tr,"onAnimationEnd"),jr(Cr,"onAnimationIteration"),jr(Ir,"onAnimationStart"),jr("dblclick","onDoubleClick"),jr("focusin","onFocus"),jr("focusout","onBlur"),jr(Nr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Or="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Or));function Mr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,o,l,c){if(ze.apply(this,arguments),Le){if(!Le)throw Error(s(198));var u=Me;Le=!1,Me=null,Fe||(Fe=!0,Ue=u)}}(r,t,void 0,e),e.currentTarget=null}function Fr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var a=r.length-1;0<=a;a--){var o=r[a],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==s&&i.isPropagationStopped())break e;Mr(i,o,c),s=l}else for(a=0;a<r.length;a++){if(l=(o=r[a]).instance,c=o.currentTarget,o=o.listener,l!==s&&i.isPropagationStopped())break e;Mr(i,o,c),s=l}}}if(Fe)throw e=Ue,Fe=!1,Ue=null,e}function Ur(e,t){var n=t[mi];void 0===n&&(n=t[mi]=new Set);var r=e+"__bubble";n.has(r)||($r(t,e,2,!1),n.add(r))}function Vr(e,t,n){var r=0;t&&(r|=4),$r(n,e,r,t)}var zr="_reactListening"+Math.random().toString(36).slice(2);function Br(e){if(!e[zr]){e[zr]=!0,a.forEach(function(t){"selectionchange"!==t&&(Lr.has(t)||Vr(t,!1,e),Vr(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[zr]||(t[zr]=!0,Vr("selectionchange",!1,t))}}function $r(e,t,n,r){switch(Yt(t)){case 1:var i=Ht;break;case 4:i=Wt;break;default:i=Kt}n=i.bind(null,t,n,e),i=void 0,!Re||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function qr(e,t,n,r,i){var s=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var o=r.stateNode.containerInfo;if(o===i||8===o.nodeType&&o.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;a=a.return}for(;null!==o;){if(null===(a=yi(o)))return;if(5===(l=a.tag)||6===l){r=s=a;continue e}o=o.parentNode}}r=r.return}Pe(function(){var r=s,i=_e(n),a=[];e:{var o=Ar.get(e);if(void 0!==o){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=Cn;break;case"focusin":c="focus",l=gn;break;case"focusout":c="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Nn;break;case Tr:case Cr:case Ir:l=vn;break;case Nr:l=An;break;case"scroll":l=hn;break;case"wheel":l=jn;break;case"copy":case"cut":case"paste":l=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=In}var u=0!==(4&t),d=!u&&"scroll"===e,h=u?null!==o?o+"Capture":null:o;u=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==h&&(null!=(m=je(p,h))&&u.push(Hr(p,m,f)))),d)break;p=p.return}0<u.length&&(o=new l(o,c,null,n,i),a.push({event:o,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===we||!(c=n.relatedTarget||n.fromElement)||!yi(c)&&!c[pi])&&(l||o)&&(o=i.window===i?i:(o=i.ownerDocument)?o.defaultView||o.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?yi(c):null)&&(c!==(d=Be(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=pn,m="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=In,m="onPointerLeave",h="onPointerEnter",p="pointer"),d=null==l?o:wi(l),f=null==c?o:wi(c),(o=new u(m,p+"leave",l,n,i)).target=d,o.relatedTarget=f,m=null,yi(i)===r&&((u=new u(h,p+"enter",c,n,i)).target=f,u.relatedTarget=d,m=u),d=m,l&&c)e:{for(h=c,p=0,f=u=l;f;f=Kr(f))p++;for(f=0,m=h;m;m=Kr(m))f++;for(;0<p-f;)u=Kr(u),p--;for(;0<f-p;)h=Kr(h),f--;for(;p--;){if(u===h||null!==h&&u===h.alternate)break e;u=Kr(u),h=Kr(h)}u=null}else u=null;null!==l&&Gr(a,o,l,u,!1),null!==c&&null!==d&&Gr(a,d,c,u,!0)}if("select"===(l=(o=r?wi(r):window).nodeName&&o.nodeName.toLowerCase())||"input"===l&&"file"===o.type)var g=Yn;else if(qn(o))if(Jn)g=ar;else{g=ir;var v=rr}else(l=o.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(g=sr);switch(g&&(g=g(e,r))?Hn(a,g,n,i):(v&&v(e,o,r),"focusout"===e&&(v=o._wrapperState)&&v.controlled&&"number"===o.type&&ee(o,"number",o.value)),v=r?wi(r):window,e){case"focusin":(qn(v)||"true"===v.contentEditable)&&(gr=v,vr=r,yr=null);break;case"focusout":yr=vr=gr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,wr(a,n,i);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":wr(a,n,i)}var y;if(Dn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Bn?Vn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Mn&&"ko"!==n.locale&&(Bn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Bn&&(y=en()):(Xt="value"in(Jt=i)?Jt.value:Jt.textContent,Bn=!0)),0<(v=Wr(r,b)).length&&(b=new wn(b,e,null,n,i),a.push({event:b,listeners:v}),y?b.data=y:null!==(y=zn(n))&&(b.data=y))),(y=Ln?function(e,t){switch(e){case"compositionend":return zn(t);case"keypress":return 32!==t.which?null:(Un=!0,Fn);case"textInput":return(e=t.data)===Fn&&Un?null:e;default:return null}}(e,n):function(e,t){if(Bn)return"compositionend"===e||!Dn&&Vn(e,t)?(e=en(),Zt=Xt=Jt=null,Bn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Mn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Wr(r,"onBeforeInput")).length&&(i=new wn("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=y))}Fr(a,t)})}function Hr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Wr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,s=i.stateNode;5===i.tag&&null!==s&&(i=s,null!=(s=je(e,n))&&r.unshift(Hr(e,s,i)),null!=(s=je(e,t))&&r.push(Hr(e,s,i))),e=e.return}return r}function Kr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Gr(e,t,n,r,i){for(var s=t._reactName,a=[];null!==n&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(null!==l&&l===r)break;5===o.tag&&null!==c&&(o=c,i?null!=(l=je(n,s))&&a.unshift(Hr(n,l,o)):i||null!=(l=je(n,s))&&a.push(Hr(n,l,o))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Qr=/\r\n?/g,Yr=/\u0000|\uFFFD/g;function Jr(e){return("string"===typeof e?e:""+e).replace(Qr,"\n").replace(Yr,"")}function Xr(e,t,n){if(t=Jr(t),Jr(e)!==t&&n)throw Error(s(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,si="function"===typeof Promise?Promise:void 0,ai="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof si?function(e){return si.resolve(null).then(e).catch(oi)}:ri;function oi(e){setTimeout(function(){throw e})}function li(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Bt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Bt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ui(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var di=Math.random().toString(36).slice(2),hi="__reactFiber$"+di,fi="__reactProps$"+di,pi="__reactContainer$"+di,mi="__reactEvents$"+di,gi="__reactListeners$"+di,vi="__reactHandles$"+di;function yi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ui(e);null!==e;){if(n=e[hi])return n;e=ui(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function wi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function _i(e){return e[fi]||null}var Ei=[],xi=-1;function Si(e){return{current:e}}function ki(e){0>xi||(e.current=Ei[xi],Ei[xi]=null,xi--)}function Ti(e,t){xi++,Ei[xi]=e.current,e.current=t}var Ci={},Ii=Si(Ci),Ni=Si(!1),Ai=Ci;function Pi(e,t){var n=e.type.contextTypes;if(!n)return Ci;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,s={};for(i in n)s[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function ji(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ri(){ki(Ni),ki(Ii)}function Di(e,t,n){if(Ii.current!==Ci)throw Error(s(168));Ti(Ii,t),Ti(Ni,n)}function Oi(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(s(108,$(e)||"Unknown",i));return M({},n,r)}function Li(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ci,Ai=Ii.current,Ti(Ii,e),Ti(Ni,Ni.current),!0}function Mi(e,t,n){var r=e.stateNode;if(!r)throw Error(s(169));n?(e=Oi(e,t,Ai),r.__reactInternalMemoizedMergedChildContext=e,ki(Ni),ki(Ii),Ti(Ii,e)):ki(Ni),Ti(Ni,n)}var Fi=null,Ui=!1,Vi=!1;function zi(e){null===Fi?Fi=[e]:Fi.push(e)}function Bi(){if(!Vi&&null!==Fi){Vi=!0;var e=0,t=bt;try{var n=Fi;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Fi=null,Ui=!1}catch(i){throw null!==Fi&&(Fi=Fi.slice(e+1)),Ke(Ze,Bi),i}finally{bt=t,Vi=!1}}return null}var $i=[],qi=0,Hi=null,Wi=0,Ki=[],Gi=0,Qi=null,Yi=1,Ji="";function Xi(e,t){$i[qi++]=Wi,$i[qi++]=Hi,Hi=e,Wi=t}function Zi(e,t,n){Ki[Gi++]=Yi,Ki[Gi++]=Ji,Ki[Gi++]=Qi,Qi=e;var r=Yi;e=Ji;var i=32-at(r)-1;r&=~(1<<i),n+=1;var s=32-at(t)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Yi=1<<32-at(t)+i|n<<i|r,Ji=s+e}else Yi=1<<s|n<<i|r,Ji=e}function es(e){null!==e.return&&(Xi(e,1),Zi(e,1,0))}function ts(e){for(;e===Hi;)Hi=$i[--qi],$i[qi]=null,Wi=$i[--qi],$i[qi]=null;for(;e===Qi;)Qi=Ki[--Gi],Ki[Gi]=null,Ji=Ki[--Gi],Ki[Gi]=null,Yi=Ki[--Gi],Ki[Gi]=null}var ns=null,rs=null,is=!1,ss=null;function as(e,t){var n=Pc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function os(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ns=e,rs=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ns=e,rs=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Qi?{id:Yi,overflow:Ji}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Pc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ns=e,rs=null,!0);default:return!1}}function ls(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function cs(e){if(is){var t=rs;if(t){var n=t;if(!os(e,t)){if(ls(e))throw Error(s(418));t=ci(n.nextSibling);var r=ns;t&&os(e,t)?as(r,n):(e.flags=-4097&e.flags|2,is=!1,ns=e)}}else{if(ls(e))throw Error(s(418));e.flags=-4097&e.flags|2,is=!1,ns=e}}}function us(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ns=e}function ds(e){if(e!==ns)return!1;if(!is)return us(e),is=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=rs)){if(ls(e))throw hs(),Error(s(418));for(;t;)as(e,t),t=ci(t.nextSibling)}if(us(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){rs=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}rs=null}}else rs=ns?ci(e.stateNode.nextSibling):null;return!0}function hs(){for(var e=rs;e;)e=ci(e.nextSibling)}function fs(){rs=ns=null,is=!1}function ps(e){null===ss?ss=[e]:ss.push(e)}var ms=w.ReactCurrentBatchConfig;function gs(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var r=n.stateNode}if(!r)throw Error(s(147,e));var i=r,a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=i.refs;null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!==typeof e)throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function vs(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ys(e){return(0,e._init)(e._payload)}function bs(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Rc(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Mc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var s=n.type;return s===x?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===j&&ys(s)===t.type)?((r=i(t,n.props)).ref=gs(e,t,n),r.return=e,r):((r=Dc(n.type,n.key,n.props,null,e.mode,r)).ref=gs(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Fc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,s){return null===t||7!==t.tag?((t=Oc(n,e.mode,r,s)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Mc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case _:return(n=Dc(t.type,t.key,t.props,null,e.mode,n)).ref=gs(e,null,t),n.return=e,n;case E:return(t=Fc(t,e.mode,n)).return=e,t;case j:return h(e,(0,t._init)(t._payload),n)}if(te(t)||O(t))return(t=Oc(t,e.mode,n,null)).return=e,t;vs(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case _:return n.key===i?c(e,t,n,r):null;case E:return n.key===i?u(e,t,n,r):null;case j:return f(e,t,(i=n._init)(n._payload),r)}if(te(n)||O(n))return null!==i?null:d(e,t,n,r,null);vs(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case _:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case E:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case j:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||O(r))return d(t,e=e.get(n)||null,r,i,null);vs(t,r)}return null}function m(i,s,o,l){for(var c=null,u=null,d=s,m=s=0,g=null;null!==d&&m<o.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var v=f(i,d,o[m],l);if(null===v){null===d&&(d=g);break}e&&d&&null===v.alternate&&t(i,d),s=a(v,s,m),null===u?c=v:u.sibling=v,u=v,d=g}if(m===o.length)return n(i,d),is&&Xi(i,m),c;if(null===d){for(;m<o.length;m++)null!==(d=h(i,o[m],l))&&(s=a(d,s,m),null===u?c=d:u.sibling=d,u=d);return is&&Xi(i,m),c}for(d=r(i,d);m<o.length;m++)null!==(g=p(d,i,m,o[m],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),s=a(g,s,m),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach(function(e){return t(i,e)}),is&&Xi(i,m),c}function g(i,o,l,c){var u=O(l);if("function"!==typeof u)throw Error(s(150));if(null==(l=u.call(l)))throw Error(s(151));for(var d=u=null,m=o,g=o=0,v=null,y=l.next();null!==m&&!y.done;g++,y=l.next()){m.index>g?(v=m,m=null):v=m.sibling;var b=f(i,m,y.value,c);if(null===b){null===m&&(m=v);break}e&&m&&null===b.alternate&&t(i,m),o=a(b,o,g),null===d?u=b:d.sibling=b,d=b,m=v}if(y.done)return n(i,m),is&&Xi(i,g),u;if(null===m){for(;!y.done;g++,y=l.next())null!==(y=h(i,y.value,c))&&(o=a(y,o,g),null===d?u=y:d.sibling=y,d=y);return is&&Xi(i,g),u}for(m=r(i,m);!y.done;g++,y=l.next())null!==(y=p(m,i,g,y.value,c))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),o=a(y,o,g),null===d?u=y:d.sibling=y,d=y);return e&&m.forEach(function(e){return t(i,e)}),is&&Xi(i,g),u}return function e(r,s,a,l){if("object"===typeof a&&null!==a&&a.type===x&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case _:e:{for(var c=a.key,u=s;null!==u;){if(u.key===c){if((c=a.type)===x){if(7===u.tag){n(r,u.sibling),(s=i(u,a.props.children)).return=r,r=s;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===j&&ys(c)===u.type){n(r,u.sibling),(s=i(u,a.props)).ref=gs(r,u,a),s.return=r,r=s;break e}n(r,u);break}t(r,u),u=u.sibling}a.type===x?((s=Oc(a.props.children,r.mode,l,a.key)).return=r,r=s):((l=Dc(a.type,a.key,a.props,null,r.mode,l)).ref=gs(r,s,a),l.return=r,r=l)}return o(r);case E:e:{for(u=a.key;null!==s;){if(s.key===u){if(4===s.tag&&s.stateNode.containerInfo===a.containerInfo&&s.stateNode.implementation===a.implementation){n(r,s.sibling),(s=i(s,a.children||[])).return=r,r=s;break e}n(r,s);break}t(r,s),s=s.sibling}(s=Fc(a,r.mode,l)).return=r,r=s}return o(r);case j:return e(r,s,(u=a._init)(a._payload),l)}if(te(a))return m(r,s,a,l);if(O(a))return g(r,s,a,l);vs(r,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==s&&6===s.tag?(n(r,s.sibling),(s=i(s,a)).return=r,r=s):(n(r,s),(s=Mc(a,r.mode,l)).return=r,r=s),o(r)):n(r,s)}}var ws=bs(!0),_s=bs(!1),Es=Si(null),xs=null,Ss=null,ks=null;function Ts(){ks=Ss=xs=null}function Cs(e){var t=Es.current;ki(Es),e._currentValue=t}function Is(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ns(e,t){xs=e,ks=Ss=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bo=!0),e.firstContext=null)}function As(e){var t=e._currentValue;if(ks!==e)if(e={context:e,memoizedValue:t,next:null},null===Ss){if(null===xs)throw Error(s(308));Ss=e,xs.dependencies={lanes:0,firstContext:e}}else Ss=Ss.next=e;return t}var Ps=null;function js(e){null===Ps?Ps=[e]:Ps.push(e)}function Rs(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,js(t)):(n.next=i.next,i.next=n),t.interleaved=n,Ds(e,r)}function Ds(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Os=!1;function Ls(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ms(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Fs(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Us(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Il)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Ds(e,n)}return null===(i=r.interleaved)?(t.next=t,js(r)):(t.next=i.next,i.next=t),r.interleaved=t,Ds(e,n)}function Vs(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function zs(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===s?i=s=a:s=s.next=a,n=n.next}while(null!==n);null===s?i=s=t:s=s.next=t}else i=s=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Bs(e,t,n,r){var i=e.updateQueue;Os=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(null!==o){i.shared.pending=null;var l=o,c=l.next;l.next=null,null===a?s=c:a.next=c,a=l;var u=e.alternate;null!==u&&((o=(u=u.updateQueue).lastBaseUpdate)!==a&&(null===o?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(null!==s){var d=i.baseState;for(a=0,u=c=l=null,o=s;;){var h=o.lane,f=o.eventTime;if((r&h)===h){null!==u&&(u=u.next={eventTime:f,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,m=o;switch(h=t,f=n,m.tag){case 1:if("function"===typeof(p=m.payload)){d=p.call(f,d,h);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=m.payload)?p.call(f,d,h):p)||void 0===h)break e;d=M({},d,h);break e;case 2:Os=!0}}null!==o.callback&&0!==o.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[o]:h.push(o))}else f={eventTime:f,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===u?(c=u=f,l=d):u=u.next=f,a|=h;if(null===(o=o.next)){if(null===(o=i.shared.pending))break;o=(h=o).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===u&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null!==(t=i.shared.interleaved)){i=t;do{a|=i.lane,i=i.next}while(i!==t)}else null===s&&(i.shared.lanes=0);Ll|=a,e.lanes=a,e.memoizedState=d}}function $s(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(s(191,i));i.call(r)}}}var qs={},Hs=Si(qs),Ws=Si(qs),Ks=Si(qs);function Gs(e){if(e===qs)throw Error(s(174));return e}function Qs(e,t){switch(Ti(Ks,t),Ti(Ws,e),Ti(Hs,qs),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}ki(Hs),Ti(Hs,t)}function Ys(){ki(Hs),ki(Ws),ki(Ks)}function Js(e){Gs(Ks.current);var t=Gs(Hs.current),n=le(t,e.type);t!==n&&(Ti(Ws,e),Ti(Hs,n))}function Xs(e){Ws.current===e&&(ki(Hs),ki(Ws))}var Zs=Si(0);function ea(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ta=[];function na(){for(var e=0;e<ta.length;e++)ta[e]._workInProgressVersionPrimary=null;ta.length=0}var ra=w.ReactCurrentDispatcher,ia=w.ReactCurrentBatchConfig,sa=0,aa=null,oa=null,la=null,ca=!1,ua=!1,da=0,ha=0;function fa(){throw Error(s(321))}function pa(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!or(e[n],t[n]))return!1;return!0}function ma(e,t,n,r,i,a){if(sa=a,aa=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ra.current=null===e||null===e.memoizedState?Xa:Za,e=n(r,i),ua){a=0;do{if(ua=!1,da=0,25<=a)throw Error(s(301));a+=1,la=oa=null,t.updateQueue=null,ra.current=eo,e=n(r,i)}while(ua)}if(ra.current=Ja,t=null!==oa&&null!==oa.next,sa=0,la=oa=aa=null,ca=!1,t)throw Error(s(300));return e}function ga(){var e=0!==da;return da=0,e}function va(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===la?aa.memoizedState=la=e:la=la.next=e,la}function ya(){if(null===oa){var e=aa.alternate;e=null!==e?e.memoizedState:null}else e=oa.next;var t=null===la?aa.memoizedState:la.next;if(null!==t)la=t,oa=e;else{if(null===e)throw Error(s(310));e={memoizedState:(oa=e).memoizedState,baseState:oa.baseState,baseQueue:oa.baseQueue,queue:oa.queue,next:null},null===la?aa.memoizedState=la=e:la=la.next=e}return la}function ba(e,t){return"function"===typeof t?t(e):t}function wa(e){var t=ya(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=oa,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var o=i.next;i.next=a.next,a.next=o}r.baseQueue=i=a,n.pending=null}if(null!==i){a=i.next,r=r.baseState;var l=o=null,c=null,u=a;do{var d=u.lane;if((sa&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=h,o=r):c=c.next=h,aa.lanes|=d,Ll|=d}u=u.next}while(null!==u&&u!==a);null===c?o=r:c.next=l,or(r,t.memoizedState)||(bo=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{a=i.lane,aa.lanes|=a,Ll|=a,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function _a(e){var t=ya(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var o=i=i.next;do{a=e(a,o.action),o=o.next}while(o!==i);or(a,t.memoizedState)||(bo=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Ea(){}function xa(e,t){var n=aa,r=ya(),i=t(),a=!or(r.memoizedState,i);if(a&&(r.memoizedState=i,bo=!0),r=r.queue,Oa(Ta.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==la&&1&la.memoizedState.tag){if(n.flags|=2048,Aa(9,ka.bind(null,n,r,i,t),void 0,null),null===Nl)throw Error(s(349));0!==(30&sa)||Sa(n,t,i)}return i}function Sa(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=aa.updateQueue)?(t={lastEffect:null,stores:null},aa.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function ka(e,t,n,r){t.value=n,t.getSnapshot=r,Ca(t)&&Ia(e)}function Ta(e,t,n){return n(function(){Ca(t)&&Ia(e)})}function Ca(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!or(e,n)}catch(r){return!0}}function Ia(e){var t=Ds(e,1);null!==t&&nc(t,e,1,-1)}function Na(e){var t=va();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ba,lastRenderedState:e},t.queue=e,e=e.dispatch=Ka.bind(null,aa,e),[t.memoizedState,e]}function Aa(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=aa.updateQueue)?(t={lastEffect:null,stores:null},aa.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Pa(){return ya().memoizedState}function ja(e,t,n,r){var i=va();aa.flags|=e,i.memoizedState=Aa(1|t,n,void 0,void 0===r?null:r)}function Ra(e,t,n,r){var i=ya();r=void 0===r?null:r;var s=void 0;if(null!==oa){var a=oa.memoizedState;if(s=a.destroy,null!==r&&pa(r,a.deps))return void(i.memoizedState=Aa(t,n,s,r))}aa.flags|=e,i.memoizedState=Aa(1|t,n,s,r)}function Da(e,t){return ja(8390656,8,e,t)}function Oa(e,t){return Ra(2048,8,e,t)}function La(e,t){return Ra(4,2,e,t)}function Ma(e,t){return Ra(4,4,e,t)}function Fa(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ua(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ra(4,4,Fa.bind(null,t,e),n)}function Va(){}function za(e,t){var n=ya();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&pa(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ba(e,t){var n=ya();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&pa(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function $a(e,t,n){return 0===(21&sa)?(e.baseState&&(e.baseState=!1,bo=!0),e.memoizedState=n):(or(n,t)||(n=mt(),aa.lanes|=n,Ll|=n,e.baseState=!0),t)}function qa(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=ia.transition;ia.transition={};try{e(!1),t()}finally{bt=n,ia.transition=r}}function Ha(){return ya().memoizedState}function Wa(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Ga(e))Qa(t,n);else if(null!==(n=Rs(e,t,n,r))){nc(n,e,r,ec()),Ya(n,t,r)}}function Ka(e,t,n){var r=tc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ga(e))Qa(t,i);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var a=t.lastRenderedState,o=s(a,n);if(i.hasEagerState=!0,i.eagerState=o,or(o,a)){var l=t.interleaved;return null===l?(i.next=i,js(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Rs(e,t,i,r))&&(nc(n,e,r,i=ec()),Ya(n,t,r))}}function Ga(e){var t=e.alternate;return e===aa||null!==t&&t===aa}function Qa(e,t){ua=ca=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Ya(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var Ja={readContext:As,useCallback:fa,useContext:fa,useEffect:fa,useImperativeHandle:fa,useInsertionEffect:fa,useLayoutEffect:fa,useMemo:fa,useReducer:fa,useRef:fa,useState:fa,useDebugValue:fa,useDeferredValue:fa,useTransition:fa,useMutableSource:fa,useSyncExternalStore:fa,useId:fa,unstable_isNewReconciler:!1},Xa={readContext:As,useCallback:function(e,t){return va().memoizedState=[e,void 0===t?null:t],e},useContext:As,useEffect:Da,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,ja(4194308,4,Fa.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ja(4194308,4,e,t)},useInsertionEffect:function(e,t){return ja(4,2,e,t)},useMemo:function(e,t){var n=va();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=va();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Wa.bind(null,aa,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},va().memoizedState=e},useState:Na,useDebugValue:Va,useDeferredValue:function(e){return va().memoizedState=e},useTransition:function(){var e=Na(!1),t=e[0];return e=qa.bind(null,e[1]),va().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=aa,i=va();if(is){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===Nl)throw Error(s(349));0!==(30&sa)||Sa(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,Da(Ta.bind(null,r,a,e),[e]),r.flags|=2048,Aa(9,ka.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=va(),t=Nl.identifierPrefix;if(is){var n=Ji;t=":"+t+"R"+(n=(Yi&~(1<<32-at(Yi)-1)).toString(32)+n),0<(n=da++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=ha++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Za={readContext:As,useCallback:za,useContext:As,useEffect:Oa,useImperativeHandle:Ua,useInsertionEffect:La,useLayoutEffect:Ma,useMemo:Ba,useReducer:wa,useRef:Pa,useState:function(){return wa(ba)},useDebugValue:Va,useDeferredValue:function(e){return $a(ya(),oa.memoizedState,e)},useTransition:function(){return[wa(ba)[0],ya().memoizedState]},useMutableSource:Ea,useSyncExternalStore:xa,useId:Ha,unstable_isNewReconciler:!1},eo={readContext:As,useCallback:za,useContext:As,useEffect:Oa,useImperativeHandle:Ua,useInsertionEffect:La,useLayoutEffect:Ma,useMemo:Ba,useReducer:_a,useRef:Pa,useState:function(){return _a(ba)},useDebugValue:Va,useDeferredValue:function(e){var t=ya();return null===oa?t.memoizedState=e:$a(t,oa.memoizedState,e)},useTransition:function(){return[_a(ba)[0],ya().memoizedState]},useMutableSource:Ea,useSyncExternalStore:xa,useId:Ha,unstable_isNewReconciler:!1};function to(e,t){if(e&&e.defaultProps){for(var n in t=M({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function no(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:M({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ro={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),s=Fs(r,i);s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Us(e,s,i))&&(nc(t,e,i,r),Vs(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),s=Fs(r,i);s.tag=1,s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Us(e,s,i))&&(nc(t,e,i,r),Vs(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),i=Fs(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Us(e,i,r))&&(nc(t,e,r,n),Vs(t,e,r))}};function io(e,t,n,r,i,s,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,a):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(i,s))}function so(e,t,n){var r=!1,i=Ci,s=t.contextType;return"object"===typeof s&&null!==s?s=As(s):(i=ji(t)?Ai:Ii.current,s=(r=null!==(r=t.contextTypes)&&void 0!==r)?Pi(e,i):Ci),t=new t(n,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ro,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function ao(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ro.enqueueReplaceState(t,t.state,null)}function oo(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Ls(e);var s=t.contextType;"object"===typeof s&&null!==s?i.context=As(s):(s=ji(t)?Ai:Ii.current,i.context=Pi(e,s)),i.state=e.memoizedState,"function"===typeof(s=t.getDerivedStateFromProps)&&(no(e,t,s,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ro.enqueueReplaceState(i,i.state,null),Bs(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function lo(e,t){try{var n="",r=t;do{n+=z(r),r=r.return}while(r);var i=n}catch(s){i="\nError generating stack: "+s.message+"\n"+s.stack}return{value:e,source:t,stack:i,digest:null}}function co(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function uo(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var ho="function"===typeof WeakMap?WeakMap:Map;function fo(e,t,n){(n=Fs(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){ql||(ql=!0,Hl=r),uo(0,t)},n}function po(e,t,n){(n=Fs(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){uo(0,t)}}var s=e.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(n.callback=function(){uo(0,t),"function"!==typeof r&&(null===Wl?Wl=new Set([this]):Wl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function mo(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ho;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=kc.bind(null,e,t,n),t.then(e,e))}function go(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function vo(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Fs(-1,1)).tag=2,Us(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var yo=w.ReactCurrentOwner,bo=!1;function wo(e,t,n,r){t.child=null===e?_s(t,null,n,r):ws(t,e.child,n,r)}function _o(e,t,n,r,i){n=n.render;var s=t.ref;return Ns(t,i),r=ma(e,t,n,r,s,i),n=ga(),null===e||bo?(is&&n&&es(t),t.flags|=1,wo(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,qo(e,t,i))}function Eo(e,t,n,r,i){if(null===e){var s=n.type;return"function"!==typeof s||jc(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Dc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,xo(e,t,s,r,i))}if(s=e.child,0===(e.lanes&i)){var a=s.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(a,r)&&e.ref===t.ref)return qo(e,t,i)}return t.flags|=1,(e=Rc(s,r)).ref=t.ref,e.return=t,t.child=e}function xo(e,t,n,r,i){if(null!==e){var s=e.memoizedProps;if(lr(s,r)&&e.ref===t.ref){if(bo=!1,t.pendingProps=r=s,0===(e.lanes&i))return t.lanes=e.lanes,qo(e,t,i);0!==(131072&e.flags)&&(bo=!0)}}return To(e,t,n,r,i)}function So(e,t,n){var r=t.pendingProps,i=r.children,s=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ti(Rl,jl),jl|=n;else{if(0===(1073741824&n))return e=null!==s?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ti(Rl,jl),jl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==s?s.baseLanes:n,Ti(Rl,jl),jl|=r}else null!==s?(r=s.baseLanes|n,t.memoizedState=null):r=n,Ti(Rl,jl),jl|=r;return wo(e,t,i,n),t.child}function ko(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function To(e,t,n,r,i){var s=ji(n)?Ai:Ii.current;return s=Pi(t,s),Ns(t,i),n=ma(e,t,n,r,s,i),r=ga(),null===e||bo?(is&&r&&es(t),t.flags|=1,wo(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,qo(e,t,i))}function Co(e,t,n,r,i){if(ji(n)){var s=!0;Li(t)}else s=!1;if(Ns(t,i),null===t.stateNode)$o(e,t),so(t,n,r),oo(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,o=t.memoizedProps;a.props=o;var l=a.context,c=n.contextType;"object"===typeof c&&null!==c?c=As(c):c=Pi(t,c=ji(n)?Ai:Ii.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof a.getSnapshotBeforeUpdate;d||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(o!==r||l!==c)&&ao(t,a,r,c),Os=!1;var h=t.memoizedState;a.state=h,Bs(t,r,a,i),l=t.memoizedState,o!==r||h!==l||Ni.current||Os?("function"===typeof u&&(no(t,n,u,r),l=t.memoizedState),(o=Os||io(t,n,o,r,h,l,c))?(d||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=c,r=o):("function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Ms(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:to(t.type,o),a.props=c,d=t.pendingProps,h=a.context,"object"===typeof(l=n.contextType)&&null!==l?l=As(l):l=Pi(t,l=ji(n)?Ai:Ii.current);var f=n.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(o!==d||h!==l)&&ao(t,a,r,l),Os=!1,h=t.memoizedState,a.state=h,Bs(t,r,a,i);var p=t.memoizedState;o!==d||h!==p||Ni.current||Os?("function"===typeof f&&(no(t,n,f,r),p=t.memoizedState),(c=Os||io(t,n,c,r,h,p,l)||!1)?(u||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,l),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=l,r=c):("function"!==typeof a.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Io(e,t,n,r,s,i)}function Io(e,t,n,r,i,s){ko(e,t);var a=0!==(128&t.flags);if(!r&&!a)return i&&Mi(t,n,!1),qo(e,t,s);r=t.stateNode,yo.current=t;var o=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=ws(t,e.child,null,s),t.child=ws(t,null,o,s)):wo(e,t,o,s),t.memoizedState=r.state,i&&Mi(t,n,!0),t.child}function No(e){var t=e.stateNode;t.pendingContext?Di(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Di(0,t.context,!1),Qs(e,t.containerInfo)}function Ao(e,t,n,r,i){return fs(),ps(i),t.flags|=256,wo(e,t,n,r),t.child}var Po,jo,Ro,Do,Oo={dehydrated:null,treeContext:null,retryLane:0};function Lo(e){return{baseLanes:e,cachePool:null,transitions:null}}function Mo(e,t,n){var r,i=t.pendingProps,a=Zs.current,o=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(o=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),Ti(Zs,1&a),null===e)return cs(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,o?(i=t.mode,o=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==o?(o.childLanes=0,o.pendingProps=l):o=Lc(l,i,0,null),e=Oc(e,i,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Lo(n),t.memoizedState=Oo,e):Fo(t,l));if(null!==(a=e.memoizedState)&&null!==(r=a.dehydrated))return function(e,t,n,r,i,a,o){if(n)return 256&t.flags?(t.flags&=-257,Uo(e,t,o,r=co(Error(s(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=Lc({mode:"visible",children:r.children},i,0,null),(a=Oc(a,i,o,null)).flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,0!==(1&t.mode)&&ws(t,e.child,null,o),t.child.memoizedState=Lo(o),t.memoizedState=Oo,a);if(0===(1&t.mode))return Uo(e,t,o,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,Uo(e,t,o,r=co(a=Error(s(419)),r,void 0))}if(l=0!==(o&e.childLanes),bo||l){if(null!==(r=Nl)){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|o))?0:i)&&i!==a.retryLane&&(a.retryLane=i,Ds(e,i),nc(r,e,i,-1))}return mc(),Uo(e,t,o,r=co(Error(s(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Cc.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,rs=ci(i.nextSibling),ns=t,is=!0,ss=null,null!==e&&(Ki[Gi++]=Yi,Ki[Gi++]=Ji,Ki[Gi++]=Qi,Yi=e.id,Ji=e.overflow,Qi=t),t=Fo(t,r.children),t.flags|=4096,t)}(e,t,l,i,r,a,n);if(o){o=i.fallback,l=t.mode,r=(a=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==a?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Rc(a,c)).subtreeFlags=14680064&a.subtreeFlags,null!==r?o=Rc(r,o):(o=Oc(o,l,n,null)).flags|=2,o.return=t,i.return=t,i.sibling=o,t.child=i,i=o,o=t.child,l=null===(l=e.child.memoizedState)?Lo(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=e.childLanes&~n,t.memoizedState=Oo,i}return e=(o=e.child).sibling,i=Rc(o,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Fo(e,t){return(t=Lc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Uo(e,t,n,r){return null!==r&&ps(r),ws(t,e.child,null,n),(e=Fo(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Vo(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Is(e.return,t,n)}function zo(e,t,n,r,i){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Bo(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(wo(e,t,r.children,n),0!==(2&(r=Zs.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Vo(e,n,t);else if(19===e.tag)Vo(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ti(Zs,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===ea(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),zo(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===ea(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}zo(t,!0,n,null,s);break;case"together":zo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function $o(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function qo(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ll|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Rc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Rc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ho(e,t){if(!is)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Wo(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ko(e,t,n){var r=t.pendingProps;switch(ts(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wo(t),null;case 1:case 17:return ji(t.type)&&Ri(),Wo(t),null;case 3:return r=t.stateNode,Ys(),ki(Ni),ki(Ii),na(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ds(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ss&&(ac(ss),ss=null))),jo(e,t),Wo(t),null;case 5:Xs(t);var i=Gs(Ks.current);if(n=t.type,null!==e&&null!=t.stateNode)Ro(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(s(166));return Wo(t),null}if(e=Gs(Hs.current),ds(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[hi]=t,r[fi]=a,e=0!==(1&t.mode),n){case"dialog":Ur("cancel",r),Ur("close",r);break;case"iframe":case"object":case"embed":Ur("load",r);break;case"video":case"audio":for(i=0;i<Or.length;i++)Ur(Or[i],r);break;case"source":Ur("error",r);break;case"img":case"image":case"link":Ur("error",r),Ur("load",r);break;case"details":Ur("toggle",r);break;case"input":Y(r,a),Ur("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Ur("invalid",r);break;case"textarea":ie(r,a),Ur("invalid",r)}for(var l in ye(n,a),i=null,a)if(a.hasOwnProperty(l)){var c=a[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==a.suppressHydrationWarning&&Xr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==a.suppressHydrationWarning&&Xr(r.textContent,c,e),i=["children",""+c]):o.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Ur("scroll",r)}switch(n){case"input":W(r),Z(r,a,!0);break;case"textarea":W(r),ae(r);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=oe(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[hi]=t,e[fi]=r,Po(e,t,!1,!1),t.stateNode=e;e:{switch(l=be(n,r),n){case"dialog":Ur("cancel",e),Ur("close",e),i=r;break;case"iframe":case"object":case"embed":Ur("load",e),i=r;break;case"video":case"audio":for(i=0;i<Or.length;i++)Ur(Or[i],e);i=r;break;case"source":Ur("error",e),i=r;break;case"img":case"image":case"link":Ur("error",e),Ur("load",e),i=r;break;case"details":Ur("toggle",e),i=r;break;case"input":Y(e,r),i=Q(e,r),Ur("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=M({},r,{value:void 0}),Ur("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Ur("invalid",e)}for(a in ye(n,i),c=i)if(c.hasOwnProperty(a)){var u=c[a];"style"===a?ge(e,u):"dangerouslySetInnerHTML"===a?null!=(u=u?u.__html:void 0)&&de(e,u):"children"===a?"string"===typeof u?("textarea"!==n||""!==u)&&he(e,u):"number"===typeof u&&he(e,""+u):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(o.hasOwnProperty(a)?null!=u&&"onScroll"===a&&Ur("scroll",e):null!=u&&b(e,a,u,l))}switch(n){case"input":W(e),Z(e,r,!1);break;case"textarea":W(e),ae(e);break;case"option":null!=r.value&&e.setAttribute("value",""+q(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?ne(e,!!r.multiple,a,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Wo(t),null;case 6:if(e&&null!=t.stateNode)Do(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(s(166));if(n=Gs(Ks.current),Gs(Hs.current),ds(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(a=r.nodeValue!==n)&&null!==(e=ns))switch(e.tag){case 3:Xr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Xr(r.nodeValue,n,0!==(1&e.mode))}a&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Wo(t),null;case 13:if(ki(Zs),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(is&&null!==rs&&0!==(1&t.mode)&&0===(128&t.flags))hs(),fs(),t.flags|=98560,a=!1;else if(a=ds(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(s(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(s(317));a[hi]=t}else fs(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Wo(t),a=!1}else null!==ss&&(ac(ss),ss=null),a=!0;if(!a)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&Zs.current)?0===Dl&&(Dl=3):mc())),null!==t.updateQueue&&(t.flags|=4),Wo(t),null);case 4:return Ys(),jo(e,t),null===e&&Br(t.stateNode.containerInfo),Wo(t),null;case 10:return Cs(t.type._context),Wo(t),null;case 19:if(ki(Zs),null===(a=t.memoizedState))return Wo(t),null;if(r=0!==(128&t.flags),null===(l=a.rendering))if(r)Ho(a,!1);else{if(0!==Dl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=ea(e))){for(t.flags|=128,Ho(a,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=14680066,null===(l=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,e=l.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ti(Zs,1&Zs.current|2),t.child}e=e.sibling}null!==a.tail&&Je()>Bl&&(t.flags|=128,r=!0,Ho(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ea(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ho(a,!0),null===a.tail&&"hidden"===a.tailMode&&!l.alternate&&!is)return Wo(t),null}else 2*Je()-a.renderingStartTime>Bl&&1073741824!==n&&(t.flags|=128,r=!0,Ho(a,!1),t.lanes=4194304);a.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=a.last)?n.sibling=l:t.child=l,a.last=l)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Je(),t.sibling=null,n=Zs.current,Ti(Zs,r?1&n|2:1&n),t):(Wo(t),null);case 22:case 23:return dc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&jl)&&(Wo(t),6&t.subtreeFlags&&(t.flags|=8192)):Wo(t),null;case 24:case 25:return null}throw Error(s(156,t.tag))}function Go(e,t){switch(ts(t),t.tag){case 1:return ji(t.type)&&Ri(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Ys(),ki(Ni),ki(Ii),na(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Xs(t),null;case 13:if(ki(Zs),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));fs()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return ki(Zs),null;case 4:return Ys(),null;case 10:return Cs(t.type._context),null;case 22:case 23:return dc(),null;default:return null}}Po=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},jo=function(){},Ro=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Gs(Hs.current);var s,a=null;switch(n){case"input":i=Q(e,i),r=Q(e,r),a=[];break;case"select":i=M({},i,{value:void 0}),r=M({},r,{value:void 0}),a=[];break;case"textarea":i=re(e,i),r=re(e,r),a=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(u in ye(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var l=i[u];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(o.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=i?i[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(s in l)!l.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in c)c.hasOwnProperty(s)&&l[s]!==c[s]&&(n||(n={}),n[s]=c[s])}else n||(a||(a=[]),a.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(a=a||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(a=a||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(o.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Ur("scroll",e),a||l===c||(a=[])):(a=a||[]).push(u,c))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}},Do=function(e,t,n,r){n!==r&&(t.flags|=4)};var Qo=!1,Yo=!1,Jo="function"===typeof WeakSet?WeakSet:Set,Xo=null;function Zo(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Sc(e,t,r)}else n.current=null}function el(e,t,n){try{n()}catch(r){Sc(e,t,r)}}var tl=!1;function nl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,void 0!==s&&el(t,n,s)}i=i.next}while(i!==r)}}function rl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function il(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function sl(e){var t=e.alternate;null!==t&&(e.alternate=null,sl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[fi],delete t[mi],delete t[gi],delete t[vi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function al(e){return 5===e.tag||3===e.tag||4===e.tag}function ol(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||al(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}function cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}var ul=null,dl=!1;function hl(e,t,n){for(n=n.child;null!==n;)fl(e,t,n),n=n.sibling}function fl(e,t,n){if(st&&"function"===typeof st.onCommitFiberUnmount)try{st.onCommitFiberUnmount(it,n)}catch(o){}switch(n.tag){case 5:Yo||Zo(n,t);case 6:var r=ul,i=dl;ul=null,hl(e,t,n),dl=i,null!==(ul=r)&&(dl?(e=ul,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ul.removeChild(n.stateNode));break;case 18:null!==ul&&(dl?(e=ul,n=n.stateNode,8===e.nodeType?li(e.parentNode,n):1===e.nodeType&&li(e,n),Bt(e)):li(ul,n.stateNode));break;case 4:r=ul,i=dl,ul=n.stateNode.containerInfo,dl=!0,hl(e,t,n),ul=r,dl=i;break;case 0:case 11:case 14:case 15:if(!Yo&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var s=i,a=s.destroy;s=s.tag,void 0!==a&&(0!==(2&s)||0!==(4&s))&&el(n,t,a),i=i.next}while(i!==r)}hl(e,t,n);break;case 1:if(!Yo&&(Zo(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){Sc(n,t,o)}hl(e,t,n);break;case 21:hl(e,t,n);break;case 22:1&n.mode?(Yo=(r=Yo)||null!==n.memoizedState,hl(e,t,n),Yo=r):hl(e,t,n);break;default:hl(e,t,n)}}function pl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Jo),t.forEach(function(t){var r=Ic.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}}function ml(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 5:ul=l.stateNode,dl=!1;break e;case 3:case 4:ul=l.stateNode.containerInfo,dl=!0;break e}l=l.return}if(null===ul)throw Error(s(160));fl(a,o,i),ul=null,dl=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(u){Sc(i,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gl(t,e),t=t.sibling}function gl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ml(t,e),vl(e),4&r){try{nl(3,e,e.return),rl(3,e)}catch(g){Sc(e,e.return,g)}try{nl(5,e,e.return)}catch(g){Sc(e,e.return,g)}}break;case 1:ml(t,e),vl(e),512&r&&null!==n&&Zo(n,n.return);break;case 5:if(ml(t,e),vl(e),512&r&&null!==n&&Zo(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(g){Sc(e,e.return,g)}}if(4&r&&null!=(i=e.stateNode)){var a=e.memoizedProps,o=null!==n?n.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===a.type&&null!=a.name&&J(i,a),be(l,o);var u=be(l,a);for(o=0;o<c.length;o+=2){var d=c[o],h=c[o+1];"style"===d?ge(i,h):"dangerouslySetInnerHTML"===d?de(i,h):"children"===d?he(i,h):b(i,d,h,u)}switch(l){case"input":X(i,a);break;case"textarea":se(i,a);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;null!=p?ne(i,!!a.multiple,p,!1):f!==!!a.multiple&&(null!=a.defaultValue?ne(i,!!a.multiple,a.defaultValue,!0):ne(i,!!a.multiple,a.multiple?[]:"",!1))}i[fi]=a}catch(g){Sc(e,e.return,g)}}break;case 6:if(ml(t,e),vl(e),4&r){if(null===e.stateNode)throw Error(s(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(g){Sc(e,e.return,g)}}break;case 3:if(ml(t,e),vl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Bt(t.containerInfo)}catch(g){Sc(e,e.return,g)}break;case 4:default:ml(t,e),vl(e);break;case 13:ml(t,e),vl(e),8192&(i=e.child).flags&&(a=null!==i.memoizedState,i.stateNode.isHidden=a,!a||null!==i.alternate&&null!==i.alternate.memoizedState||(zl=Je())),4&r&&pl(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Yo=(u=Yo)||d,ml(t,e),Yo=u):ml(t,e),vl(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!==(1&e.mode))for(Xo=e,d=e.child;null!==d;){for(h=Xo=d;null!==Xo;){switch(p=(f=Xo).child,f.tag){case 0:case 11:case 14:case 15:nl(4,f,f.return);break;case 1:Zo(f,f.return);var m=f.stateNode;if("function"===typeof m.componentWillUnmount){r=f,n=f.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){Sc(r,n,g)}}break;case 5:Zo(f,f.return);break;case 22:if(null!==f.memoizedState){_l(h);continue}}null!==p?(p.return=f,Xo=p):_l(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{i=h.stateNode,u?"function"===typeof(a=i.style).setProperty?a.setProperty("display","none","important"):a.display="none":(l=h.stateNode,o=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=me("display",o))}catch(g){Sc(e,e.return,g)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(g){Sc(e,e.return,g)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ml(t,e),vl(e),4&r&&pl(e);case 21:}}function vl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(al(n)){var r=n;break e}n=n.return}throw Error(s(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),cl(e,ol(e),i);break;case 3:case 4:var a=r.stateNode.containerInfo;ll(e,ol(e),a);break;default:throw Error(s(161))}}catch(o){Sc(e,e.return,o)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function yl(e,t,n){Xo=e,bl(e,t,n)}function bl(e,t,n){for(var r=0!==(1&e.mode);null!==Xo;){var i=Xo,s=i.child;if(22===i.tag&&r){var a=null!==i.memoizedState||Qo;if(!a){var o=i.alternate,l=null!==o&&null!==o.memoizedState||Yo;o=Qo;var c=Yo;if(Qo=a,(Yo=l)&&!c)for(Xo=i;null!==Xo;)l=(a=Xo).child,22===a.tag&&null!==a.memoizedState?El(i):null!==l?(l.return=a,Xo=l):El(i);for(;null!==s;)Xo=s,bl(s,t,n),s=s.sibling;Xo=i,Qo=o,Yo=c}wl(e)}else 0!==(8772&i.subtreeFlags)&&null!==s?(s.return=i,Xo=s):wl(e)}}function wl(e){for(;null!==Xo;){var t=Xo;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Yo||rl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Yo)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:to(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&$s(t,a,r);break;case 3:var o=t.updateQueue;if(null!==o){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}$s(t,o,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&Bt(h)}}}break;default:throw Error(s(163))}Yo||512&t.flags&&il(t)}catch(f){Sc(t,t.return,f)}}if(t===e){Xo=null;break}if(null!==(n=t.sibling)){n.return=t.return,Xo=n;break}Xo=t.return}}function _l(e){for(;null!==Xo;){var t=Xo;if(t===e){Xo=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Xo=n;break}Xo=t.return}}function El(e){for(;null!==Xo;){var t=Xo;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rl(4,t)}catch(l){Sc(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(l){Sc(t,i,l)}}var s=t.return;try{il(t)}catch(l){Sc(t,s,l)}break;case 5:var a=t.return;try{il(t)}catch(l){Sc(t,a,l)}}}catch(l){Sc(t,t.return,l)}if(t===e){Xo=null;break}var o=t.sibling;if(null!==o){o.return=t.return,Xo=o;break}Xo=t.return}}var xl,Sl=Math.ceil,kl=w.ReactCurrentDispatcher,Tl=w.ReactCurrentOwner,Cl=w.ReactCurrentBatchConfig,Il=0,Nl=null,Al=null,Pl=0,jl=0,Rl=Si(0),Dl=0,Ol=null,Ll=0,Ml=0,Fl=0,Ul=null,Vl=null,zl=0,Bl=1/0,$l=null,ql=!1,Hl=null,Wl=null,Kl=!1,Gl=null,Ql=0,Yl=0,Jl=null,Xl=-1,Zl=0;function ec(){return 0!==(6&Il)?Je():-1!==Xl?Xl:Xl=Je()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Il)&&0!==Pl?Pl&-Pl:null!==ms.transition?(0===Zl&&(Zl=mt()),Zl):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Yt(e.type)}function nc(e,t,n,r){if(50<Yl)throw Yl=0,Jl=null,Error(s(185));vt(e,n,r),0!==(2&Il)&&e===Nl||(e===Nl&&(0===(2&Il)&&(Ml|=n),4===Dl&&oc(e,Pl)),rc(e,r),1===n&&0===Il&&0===(1&t.mode)&&(Bl=Je()+500,Ui&&Bi()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var a=31-at(s),o=1<<a,l=i[a];-1===l?0!==(o&n)&&0===(o&r)||(i[a]=ft(o,t)):l<=t&&(e.expiredLanes|=o),s&=~o}}(e,t);var r=ht(e,e===Nl?Pl:0);if(0===r)null!==n&&Ge(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ge(n),1===t)0===e.tag?function(e){Ui=!0,zi(e)}(lc.bind(null,e)):zi(lc.bind(null,e)),ai(function(){0===(6&Il)&&Bi()}),n=null;else{switch(wt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Nc(n,ic.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ic(e,t){if(Xl=-1,Zl=0,0!==(6&Il))throw Error(s(327));var n=e.callbackNode;if(Ec()&&e.callbackNode!==n)return null;var r=ht(e,e===Nl?Pl:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=gc(e,r);else{t=r;var i=Il;Il|=2;var a=pc();for(Nl===e&&Pl===t||($l=null,Bl=Je()+500,hc(e,t));;)try{yc();break}catch(l){fc(e,l)}Ts(),kl.current=a,Il=i,null!==Al?t=0:(Nl=null,Pl=0,t=Dl)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=sc(e,i))),1===t)throw n=Ol,hc(e,0),oc(e,r),rc(e,Je()),n;if(6===t)oc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!or(s(),i))return!1}catch(o){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=gc(e,r))&&(0!==(a=pt(e))&&(r=a,t=sc(e,a))),1===t))throw n=Ol,hc(e,0),oc(e,r),rc(e,Je()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(s(345));case 2:case 5:_c(e,Vl,$l);break;case 3:if(oc(e,r),(130023424&r)===r&&10<(t=zl+500-Je())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(_c.bind(null,e,Vl,$l),t);break}_c(e,Vl,$l);break;case 4:if(oc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-at(r);a=1<<o,(o=t[o])>i&&(i=o),r&=~a}if(r=i,10<(r=(120>(r=Je()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Sl(r/1960))-r)){e.timeoutHandle=ri(_c.bind(null,e,Vl,$l),r);break}_c(e,Vl,$l);break;default:throw Error(s(329))}}}return rc(e,Je()),e.callbackNode===n?ic.bind(null,e):null}function sc(e,t){var n=Ul;return e.current.memoizedState.isDehydrated&&(hc(e,t).flags|=256),2!==(e=gc(e,t))&&(t=Vl,Vl=n,null!==t&&ac(t)),e}function ac(e){null===Vl?Vl=e:Vl.push.apply(Vl,e)}function oc(e,t){for(t&=~Fl,t&=~Ml,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-at(t),r=1<<n;e[n]=-1,t&=~r}}function lc(e){if(0!==(6&Il))throw Error(s(327));Ec();var t=ht(e,0);if(0===(1&t))return rc(e,Je()),null;var n=gc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=sc(e,r))}if(1===n)throw n=Ol,hc(e,0),oc(e,t),rc(e,Je()),n;if(6===n)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,_c(e,Vl,$l),rc(e,Je()),null}function cc(e,t){var n=Il;Il|=1;try{return e(t)}finally{0===(Il=n)&&(Bl=Je()+500,Ui&&Bi())}}function uc(e){null!==Gl&&0===Gl.tag&&0===(6&Il)&&Ec();var t=Il;Il|=1;var n=Cl.transition,r=bt;try{if(Cl.transition=null,bt=1,e)return e()}finally{bt=r,Cl.transition=n,0===(6&(Il=t))&&Bi()}}function dc(){jl=Rl.current,ki(Rl)}function hc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Al)for(n=Al.return;null!==n;){var r=n;switch(ts(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ri();break;case 3:Ys(),ki(Ni),ki(Ii),na();break;case 5:Xs(r);break;case 4:Ys();break;case 13:case 19:ki(Zs);break;case 10:Cs(r.type._context);break;case 22:case 23:dc()}n=n.return}if(Nl=e,Al=e=Rc(e.current,null),Pl=jl=t,Dl=0,Ol=null,Fl=Ml=Ll=0,Vl=Ul=null,null!==Ps){for(t=0;t<Ps.length;t++)if(null!==(r=(n=Ps[t]).interleaved)){n.interleaved=null;var i=r.next,s=n.pending;if(null!==s){var a=s.next;s.next=i,r.next=a}n.pending=r}Ps=null}return e}function fc(e,t){for(;;){var n=Al;try{if(Ts(),ra.current=Ja,ca){for(var r=aa.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}ca=!1}if(sa=0,la=oa=aa=null,ua=!1,da=0,Tl.current=null,null===n||null===n.return){Dl=1,Ol=t,Al=null;break}e:{var a=e,o=n.return,l=n,c=t;if(t=Pl,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,d=l,h=d.tag;if(0===(1&d.mode)&&(0===h||11===h||15===h)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=go(o);if(null!==p){p.flags&=-257,vo(p,o,l,0,t),1&p.mode&&mo(a,u,t),c=u;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(c),t.updateQueue=g}else m.add(c);break e}if(0===(1&t)){mo(a,u,t),mc();break e}c=Error(s(426))}else if(is&&1&l.mode){var v=go(o);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),vo(v,o,l,0,t),ps(lo(c,l));break e}}a=c=lo(c,l),4!==Dl&&(Dl=2),null===Ul?Ul=[a]:Ul.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,zs(a,fo(0,c,t));break e;case 1:l=c;var y=a.type,b=a.stateNode;if(0===(128&a.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Wl||!Wl.has(b)))){a.flags|=65536,t&=-t,a.lanes|=t,zs(a,po(a,l,t));break e}}a=a.return}while(null!==a)}wc(n)}catch(w){t=w,Al===n&&null!==n&&(Al=n=n.return);continue}break}}function pc(){var e=kl.current;return kl.current=Ja,null===e?Ja:e}function mc(){0!==Dl&&3!==Dl&&2!==Dl||(Dl=4),null===Nl||0===(268435455&Ll)&&0===(268435455&Ml)||oc(Nl,Pl)}function gc(e,t){var n=Il;Il|=2;var r=pc();for(Nl===e&&Pl===t||($l=null,hc(e,t));;)try{vc();break}catch(i){fc(e,i)}if(Ts(),Il=n,kl.current=r,null!==Al)throw Error(s(261));return Nl=null,Pl=0,Dl}function vc(){for(;null!==Al;)bc(Al)}function yc(){for(;null!==Al&&!Qe();)bc(Al)}function bc(e){var t=xl(e.alternate,e,jl);e.memoizedProps=e.pendingProps,null===t?wc(e):Al=t,Tl.current=null}function wc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Ko(n,t,jl)))return void(Al=n)}else{if(null!==(n=Go(n,t)))return n.flags&=32767,void(Al=n);if(null===e)return Dl=6,void(Al=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Al=t);Al=t=e}while(null!==t);0===Dl&&(Dl=5)}function _c(e,t,n){var r=bt,i=Cl.transition;try{Cl.transition=null,bt=1,function(e,t,n,r){do{Ec()}while(null!==Gl);if(0!==(6&Il))throw Error(s(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-at(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}(e,a),e===Nl&&(Al=Nl=null,Pl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Kl||(Kl=!0,Nc(tt,function(){return Ec(),null})),a=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||a){a=Cl.transition,Cl.transition=null;var o=bt;bt=1;var l=Il;Il|=4,Tl.current=null,function(e,t){if(ei=qt,fr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(_){n=null;break e}var o=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(l=o+i),h!==a||0!==r&&3!==h.nodeType||(c=o+r),3===h.nodeType&&(o+=h.nodeValue.length),null!==(p=h.firstChild);)f=h,h=p;for(;;){if(h===e)break t;if(f===n&&++u===i&&(l=o),f===a&&++d===r&&(c=o),null!==(p=h.nextSibling))break;f=(h=f).parentNode}h=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},qt=!1,Xo=t;null!==Xo;)if(e=(t=Xo).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Xo=e;else for(;null!==Xo;){t=Xo;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,v=m.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:to(t.type,g),v);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(s(163))}}catch(_){Sc(t,t.return,_)}if(null!==(e=t.sibling)){e.return=t.return,Xo=e;break}Xo=t.return}m=tl,tl=!1}(e,n),gl(n,e),pr(ti),qt=!!ei,ti=ei=null,e.current=n,yl(n,e,i),Ye(),Il=l,bt=o,Cl.transition=a}else e.current=n;if(Kl&&(Kl=!1,Gl=e,Ql=i),a=e.pendingLanes,0===a&&(Wl=null),function(e){if(st&&"function"===typeof st.onCommitFiberRoot)try{st.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,Je()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(ql)throw ql=!1,e=Hl,Hl=null,e;0!==(1&Ql)&&0!==e.tag&&Ec(),a=e.pendingLanes,0!==(1&a)?e===Jl?Yl++:(Yl=0,Jl=e):Yl=0,Bi()}(e,t,n,r)}finally{Cl.transition=i,bt=r}return null}function Ec(){if(null!==Gl){var e=wt(Ql),t=Cl.transition,n=bt;try{if(Cl.transition=null,bt=16>e?16:e,null===Gl)var r=!1;else{if(e=Gl,Gl=null,Ql=0,0!==(6&Il))throw Error(s(331));var i=Il;for(Il|=4,Xo=e.current;null!==Xo;){var a=Xo,o=a.child;if(0!==(16&Xo.flags)){var l=a.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Xo=u;null!==Xo;){var d=Xo;switch(d.tag){case 0:case 11:case 15:nl(8,d,a)}var h=d.child;if(null!==h)h.return=d,Xo=h;else for(;null!==Xo;){var f=(d=Xo).sibling,p=d.return;if(sl(d),d===u){Xo=null;break}if(null!==f){f.return=p,Xo=f;break}Xo=p}}}var m=a.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}Xo=a}}if(0!==(2064&a.subtreeFlags)&&null!==o)o.return=a,Xo=o;else e:for(;null!==Xo;){if(0!==(2048&(a=Xo).flags))switch(a.tag){case 0:case 11:case 15:nl(9,a,a.return)}var y=a.sibling;if(null!==y){y.return=a.return,Xo=y;break e}Xo=a.return}}var b=e.current;for(Xo=b;null!==Xo;){var w=(o=Xo).child;if(0!==(2064&o.subtreeFlags)&&null!==w)w.return=o,Xo=w;else e:for(o=b;null!==Xo;){if(0!==(2048&(l=Xo).flags))try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(E){Sc(l,l.return,E)}if(l===o){Xo=null;break e}var _=l.sibling;if(null!==_){_.return=l.return,Xo=_;break e}Xo=l.return}}if(Il=i,Bi(),st&&"function"===typeof st.onPostCommitFiberRoot)try{st.onPostCommitFiberRoot(it,e)}catch(E){}r=!0}return r}finally{bt=n,Cl.transition=t}}return!1}function xc(e,t,n){e=Us(e,t=fo(0,t=lo(n,t),1),1),t=ec(),null!==e&&(vt(e,1,t),rc(e,t))}function Sc(e,t,n){if(3===e.tag)xc(e,e,n);else for(;null!==t;){if(3===t.tag){xc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Wl||!Wl.has(r))){t=Us(t,e=po(t,e=lo(n,e),1),1),e=ec(),null!==t&&(vt(t,1,e),rc(t,e));break}}t=t.return}}function kc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,Nl===e&&(Pl&n)===n&&(4===Dl||3===Dl&&(130023424&Pl)===Pl&&500>Je()-zl?hc(e,0):Fl|=n),rc(e,t)}function Tc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=ec();null!==(e=Ds(e,t))&&(vt(e,t,n),rc(e,n))}function Cc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Tc(e,n)}function Ic(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(s(314))}null!==r&&r.delete(t),Tc(e,n)}function Nc(e,t){return Ke(e,t)}function Ac(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pc(e,t,n,r){return new Ac(e,t,n,r)}function jc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Rc(e,t){var n=e.alternate;return null===n?((n=Pc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Dc(e,t,n,r,i,a){var o=2;if(r=e,"function"===typeof e)jc(e)&&(o=1);else if("string"===typeof e)o=5;else e:switch(e){case x:return Oc(n.children,i,a,t);case S:o=8,i|=8;break;case k:return(e=Pc(12,n,t,2|i)).elementType=k,e.lanes=a,e;case N:return(e=Pc(13,n,t,i)).elementType=N,e.lanes=a,e;case A:return(e=Pc(19,n,t,i)).elementType=A,e.lanes=a,e;case R:return Lc(n,i,a,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case T:o=10;break e;case C:o=9;break e;case I:o=11;break e;case P:o=14;break e;case j:o=16,r=null;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=Pc(o,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Oc(e,t,n,r){return(e=Pc(7,e,r,t)).lanes=n,e}function Lc(e,t,n,r){return(e=Pc(22,e,r,t)).elementType=R,e.lanes=n,e.stateNode={isHidden:!1},e}function Mc(e,t,n){return(e=Pc(6,e,null,t)).lanes=n,e}function Fc(e,t,n){return(t=Pc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Uc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Vc(e,t,n,r,i,s,a,o,l){return e=new Uc(e,t,n,o,l),1===t?(t=1,!0===s&&(t|=8)):t=0,s=Pc(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ls(s),e}function zc(e){if(!e)return Ci;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ji(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(s(171))}if(1===e.tag){var n=e.type;if(ji(n))return Oi(e,n,t)}return t}function Bc(e,t,n,r,i,s,a,o,l){return(e=Vc(n,r,!0,e,0,s,0,o,l)).context=zc(null),n=e.current,(s=Fs(r=ec(),i=tc(n))).callback=void 0!==t&&null!==t?t:null,Us(n,s,i),e.current.lanes=i,vt(e,i,r),rc(e,r),e}function $c(e,t,n,r){var i=t.current,s=ec(),a=tc(i);return n=zc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Fs(s,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Us(i,t,a))&&(nc(e,i,a,s),Vs(e,i,a)),a}function qc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Hc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Wc(e,t){Hc(e,t),(e=e.alternate)&&Hc(e,t)}xl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ni.current)bo=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bo=!1,function(e,t,n){switch(t.tag){case 3:No(t),fs();break;case 5:Js(t);break;case 1:ji(t.type)&&Li(t);break;case 4:Qs(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ti(Es,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ti(Zs,1&Zs.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Mo(e,t,n):(Ti(Zs,1&Zs.current),null!==(e=qo(e,t,n))?e.sibling:null);Ti(Zs,1&Zs.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Bo(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ti(Zs,Zs.current),r)break;return null;case 22:case 23:return t.lanes=0,So(e,t,n)}return qo(e,t,n)}(e,t,n);bo=0!==(131072&e.flags)}else bo=!1,is&&0!==(1048576&t.flags)&&Zi(t,Wi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;$o(e,t),e=t.pendingProps;var i=Pi(t,Ii.current);Ns(t,n),i=ma(null,t,r,e,i,n);var a=ga();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ji(r)?(a=!0,Li(t)):a=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Ls(t),i.updater=ro,t.stateNode=i,i._reactInternals=t,oo(t,r,e,n),t=Io(null,t,r,!0,a,n)):(t.tag=0,is&&a&&es(t),wo(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch($o(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return jc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===I)return 11;if(e===P)return 14}return 2}(r),e=to(r,e),i){case 0:t=To(null,t,r,e,n);break e;case 1:t=Co(null,t,r,e,n);break e;case 11:t=_o(null,t,r,e,n);break e;case 14:t=Eo(null,t,r,to(r.type,e),n);break e}throw Error(s(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,To(e,t,r,i=t.elementType===r?i:to(r,i),n);case 1:return r=t.type,i=t.pendingProps,Co(e,t,r,i=t.elementType===r?i:to(r,i),n);case 3:e:{if(No(t),null===e)throw Error(s(387));r=t.pendingProps,i=(a=t.memoizedState).element,Ms(e,t),Bs(t,r,null,n);var o=t.memoizedState;if(r=o.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Ao(e,t,r,n,i=lo(Error(s(423)),t));break e}if(r!==i){t=Ao(e,t,r,n,i=lo(Error(s(424)),t));break e}for(rs=ci(t.stateNode.containerInfo.firstChild),ns=t,is=!0,ss=null,n=_s(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fs(),r===i){t=qo(e,t,n);break e}wo(e,t,r,n)}t=t.child}return t;case 5:return Js(t),null===e&&cs(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,o=i.children,ni(r,i)?o=null:null!==a&&ni(r,a)&&(t.flags|=32),ko(e,t),wo(e,t,o,n),t.child;case 6:return null===e&&cs(t),null;case 13:return Mo(e,t,n);case 4:return Qs(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=ws(t,null,r,n):wo(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,_o(e,t,r,i=t.elementType===r?i:to(r,i),n);case 7:return wo(e,t,t.pendingProps,n),t.child;case 8:case 12:return wo(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,o=i.value,Ti(Es,r._currentValue),r._currentValue=o,null!==a)if(or(a.value,o)){if(a.children===i.children&&!Ni.current){t=qo(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var l=a.dependencies;if(null!==l){o=a.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===a.tag){(c=Fs(-1,n&-n)).tag=2;var u=a.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}a.lanes|=n,null!==(c=a.alternate)&&(c.lanes|=n),Is(a.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===a.tag)o=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(o=a.return))throw Error(s(341));o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),Is(o,n,t),o=a.sibling}else o=a.child;if(null!==o)o.return=a;else for(o=a;null!==o;){if(o===t){o=null;break}if(null!==(a=o.sibling)){a.return=o.return,o=a;break}o=o.return}a=o}wo(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ns(t,n),r=r(i=As(i)),t.flags|=1,wo(e,t,r,n),t.child;case 14:return i=to(r=t.type,t.pendingProps),Eo(e,t,r,i=to(r.type,i),n);case 15:return xo(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:to(r,i),$o(e,t),t.tag=1,ji(r)?(e=!0,Li(t)):e=!1,Ns(t,n),so(t,r,i),oo(t,r,i,n),Io(null,t,r,!0,e,n);case 19:return Bo(e,t,n);case 22:return So(e,t,n)}throw Error(s(156,t.tag))};var Kc="function"===typeof reportError?reportError:function(e){console.error(e)};function Gc(e){this._internalRoot=e}function Qc(e){this._internalRoot=e}function Yc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Xc(){}function Zc(e,t,n,r,i){var s=n._reactRootContainer;if(s){var a=s;if("function"===typeof i){var o=i;i=function(){var e=qc(a);o.call(e)}}$c(t,a,e,i)}else a=function(e,t,n,r,i){if(i){if("function"===typeof r){var s=r;r=function(){var e=qc(a);s.call(e)}}var a=Bc(t,r,e,0,null,!1,0,"",Xc);return e._reactRootContainer=a,e[pi]=a.current,Br(8===e.nodeType?e.parentNode:e),uc(),a}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var o=r;r=function(){var e=qc(l);o.call(e)}}var l=Vc(e,0,!1,null,0,!1,0,"",Xc);return e._reactRootContainer=l,e[pi]=l.current,Br(8===e.nodeType?e.parentNode:e),uc(function(){$c(t,l,n,r)}),l}(n,t,e,i,r);return qc(a)}Qc.prototype.render=Gc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));$c(e,t,null,null)},Qc.prototype.unmount=Gc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;uc(function(){$c(null,e,null,null)}),t[pi]=null}},Qc.prototype.unstable_scheduleHydration=function(e){if(e){var t=St();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Rt.length&&0!==t&&t<Rt[n].priority;n++);Rt.splice(n,0,e),0===n&&Mt(e)}},_t=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(yt(t,1|n),rc(t,Je()),0===(6&Il)&&(Bl=Je()+500,Bi()))}break;case 13:uc(function(){var t=Ds(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}}),Wc(e,1)}},Et=function(e){if(13===e.tag){var t=Ds(e,134217728);if(null!==t)nc(t,e,134217728,ec());Wc(e,134217728)}},xt=function(e){if(13===e.tag){var t=tc(e),n=Ds(e,t);if(null!==n)nc(n,e,t,ec());Wc(e,t)}},St=function(){return bt},kt=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},Ee=function(e,t,n){switch(t){case"input":if(X(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=_i(r);if(!i)throw Error(s(90));K(r),X(r,i)}}}break;case"textarea":se(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ie=cc,Ne=uc;var eu={usingClientEntryPoint:!1,Events:[bi,wi,_i,Te,Ce,cc]},tu={findFiberByHostInstance:yi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nu={bundleType:tu.bundleType,version:tu.version,rendererPackageName:tu.rendererPackageName,rendererConfig:tu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=He(e))?null:e.stateNode},findFiberByHostInstance:tu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ru=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ru.isDisabled&&ru.supportsFiber)try{it=ru.inject(nu),st=ru}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Yc(t))throw Error(s(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:E,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Yc(e))throw Error(s(299));var n=!1,r="",i=Kc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Vc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Br(8===e.nodeType?e.parentNode:e),new Gc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=null===(e=He(t))?null:e.stateNode},t.flushSync=function(e){return uc(e)},t.hydrate=function(e,t,n){if(!Jc(t))throw Error(s(200));return Zc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Yc(e))throw Error(s(405));var r=null!=n&&n.hydratedSources||null,i=!1,a="",o=Kc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(o=n.onRecoverableError)),t=Bc(t,null,e,1,null!=n?n:null,i,0,a,o),e[pi]=t.current,Br(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Qc(t)},t.render=function(e,t,n){if(!Jc(t))throw Error(s(200));return Zc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Jc(e))throw Error(s(40));return!!e._reactRootContainer&&(uc(function(){Zc(null,null,e,!1,function(){e._reactRootContainer=null,e[pi]=null})}),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Jc(n))throw Error(s(200));if(null==e||void 0===e._reactInternals)throw Error(s(38));return Zc(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},834:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(43),i=n(694);t.default=function(e){var t=e.props,n=e.state,s=e.goToSlide,a=e.clones,o=e.notEnoughChildren,l=n.itemWidth,c=t.children,u=t.infinite,d=t.itemClass,h=t.itemAriaLabel,f=t.partialVisbile,p=t.partialVisible,m=i.getInitialState(n,t),g=m.flexBisis,v=m.shouldRenderOnSSR,y=m.domFullyLoaded,b=m.partialVisibilityGutter;return m.shouldRenderAtAll?(f&&console.warn('WARNING: Please correct props name: "partialVisible" as old typo will be removed in future versions!'),r.createElement(r.Fragment,null,(u?a:r.Children.toArray(c)).map(function(e,a){return r.createElement("li",{key:a,"data-index":a,onClick:function(){t.focusOnSelect&&s(a)},"aria-hidden":i.getIfSlideIsVisbile(a,n)?"false":"true","aria-label":h||(e.props.ariaLabel?e.props.ariaLabel:null),style:{flex:v?"1 0 "+g+"%":"auto",position:"relative",width:y?((f||p)&&b&&!o?l-b:l)+"px":"auto"},className:"react-multi-carousel-item "+(i.getIfSlideIsVisbile(a,n)?"react-multi-carousel-item--active":"")+" "+d},e)}))):null}},853:(e,t,n)=>{"use strict";e.exports=n(234)},950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var s=t[r]={exports:{}};return e[r].call(s.exports,s,s.exports,n),s.exports}(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var s=Object.create(null);n.r(s);var a={};e=e||[null,t({}),t([]),t(t)];for(var o=2&i&&r;("object"==typeof o||"function"==typeof o)&&!~e.indexOf(o);o=t(o))Object.getOwnPropertyNames(o).forEach(e=>a[e]=()=>r[e]);return a.default=()=>r,n.d(s,a),s}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{"use strict";var e,t=n(43),r=n.t(t,2),i=n(391),s=n(950),a=n.t(s,2);function o(){return o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(e||(e={}));const l="popstate";function c(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function u(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function d(e,t){return{usr:e.state,key:e.key,idx:t}}function h(e,t,n,r){return void 0===n&&(n=null),o({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?p(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function f(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function p(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function m(t,n,r,i){void 0===i&&(i={});let{window:s=document.defaultView,v5Compat:a=!1}=i,u=s.history,p=e.Pop,m=null,g=v();function v(){return(u.state||{idx:null}).idx}function y(){p=e.Pop;let t=v(),n=null==t?null:t-g;g=t,m&&m({action:p,location:w.location,delta:n})}function b(e){let t="null"!==s.location.origin?s.location.origin:s.location.href,n="string"===typeof e?e:f(e);return n=n.replace(/ $/,"%20"),c(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==g&&(g=0,u.replaceState(o({},u.state,{idx:g}),""));let w={get action(){return p},get location(){return t(s,u)},listen(e){if(m)throw new Error("A history only accepts one active listener");return s.addEventListener(l,y),m=e,()=>{s.removeEventListener(l,y),m=null}},createHref:e=>n(s,e),createURL:b,encodeLocation(e){let t=b(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(t,n){p=e.Push;let i=h(w.location,t,n);r&&r(i,t),g=v()+1;let o=d(i,g),l=w.createHref(i);try{u.pushState(o,"",l)}catch(c){if(c instanceof DOMException&&"DataCloneError"===c.name)throw c;s.location.assign(l)}a&&m&&m({action:p,location:w.location,delta:1})},replace:function(t,n){p=e.Replace;let i=h(w.location,t,n);r&&r(i,t),g=v();let s=d(i,g),o=w.createHref(i);u.replaceState(s,"",o),a&&m&&m({action:p,location:w.location,delta:0})},go:e=>u.go(e)};return w}var g;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(g||(g={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function v(e,t,n){return void 0===n&&(n="/"),y(e,t,n,!1)}function y(e,t,n,r){let i=j(("string"===typeof t?p(t):t).pathname||"/",n);if(null==i)return null;let s=b(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n]);return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(s);let a=null;for(let o=0;null==a&&o<s.length;++o){let e=P(i);a=N(s[o],e,r)}return a}function b(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let i=(e,i,s)=>{let a={relativePath:void 0===s?e.path||"":s,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(c(a.relativePath.startsWith(r),'Absolute route path "'+a.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),a.relativePath=a.relativePath.slice(r.length));let o=M([r,a.relativePath]),l=n.concat(a);e.children&&e.children.length>0&&(c(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+o+'".'),b(e.children,t,l,o)),(null!=e.path||e.index)&&t.push({path:o,score:I(o,e.index),routesMeta:l})};return e.forEach((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of w(e.path))i(e,t,r);else i(e,t)}),t}function w(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(0===r.length)return i?[s,""]:[s];let a=w(r.join("/")),o=[];return o.push(...a.map(e=>""===e?s:[s,e].join("/"))),i&&o.push(...a),o.map(t=>e.startsWith("/")&&""===t?"/":t)}const _=/^:[\w-]+$/,E=3,x=2,S=1,k=10,T=-2,C=e=>"*"===e;function I(e,t){let n=e.split("/"),r=n.length;return n.some(C)&&(r+=T),t&&(r+=x),n.filter(e=>!C(e)).reduce((e,t)=>e+(_.test(t)?E:""===t?S:k),r)}function N(e,t,n){void 0===n&&(n=!1);let{routesMeta:r}=e,i={},s="/",a=[];for(let o=0;o<r.length;++o){let e=r[o],l=o===r.length-1,c="/"===s?t:t.slice(s.length)||"/",u=A({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),d=e.route;if(!u&&l&&n&&!r[r.length-1].route.index&&(u=A({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(i,u.params),a.push({params:i,pathname:M([s,u.pathname]),pathnameBase:F(M([s,u.pathnameBase])),route:d}),"/"!==u.pathnameBase&&(s=M([s,u.pathnameBase]))}return a}function A(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);u("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)"));e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");let s=new RegExp(i,t?void 0:"i");return[s,r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:r.reduce((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=o[n]||"";a=s.slice(0,s.length-e.length).replace(/(.)\/+$/,"$1")}const l=o[n];return e[r]=i&&!l?void 0:(l||"").replace(/%2F/g,"/"),e},{}),pathname:s,pathnameBase:a,pattern:e}}function P(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return u(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function j(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function R(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function D(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function O(e,t){let n=D(e);return t?n.map((e,t)=>t===n.length-1?e.pathname:e.pathnameBase):n.map(e=>e.pathnameBase)}function L(e,t,n,r){let i;void 0===r&&(r=!1),"string"===typeof e?i=p(e):(i=o({},e),c(!i.pathname||!i.pathname.includes("?"),R("?","pathname","search",i)),c(!i.pathname||!i.pathname.includes("#"),R("#","pathname","hash",i)),c(!i.search||!i.search.includes("#"),R("#","search","hash",i)));let s,a=""===e||""===i.pathname,l=a?"/":i.pathname;if(null==l)s=n;else{let e=t.length-1;if(!r&&l.startsWith("..")){let t=l.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}s=e>=0?t[e]:"/"}let u=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:i=""}="string"===typeof e?p(e):e,s=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:s,search:U(r),hash:V(i)}}(i,s),d=l&&"/"!==l&&l.endsWith("/"),h=(a||"."===l)&&n.endsWith("/");return u.pathname.endsWith("/")||!d&&!h||(u.pathname+="/"),u}const M=e=>e.join("/").replace(/\/\/+/g,"/"),F=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),U=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",V=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function z(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const B=["post","put","patch","delete"],$=(new Set(B),["get",...B]);new Set($),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function q(){return q=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},q.apply(this,arguments)}const H=t.createContext(null);const W=t.createContext(null);const K=t.createContext(null);const G=t.createContext(null);const Q=t.createContext({outlet:null,matches:[],isDataRoute:!1});const Y=t.createContext(null);function J(){return null!=t.useContext(G)}function X(){return J()||c(!1),t.useContext(G).location}function Z(e){t.useContext(K).static||t.useLayoutEffect(e)}function ee(){let{isDataRoute:e}=t.useContext(Q);return e?function(){let{router:e}=ue(le.UseNavigateStable),n=he(ce.UseNavigateStable),r=t.useRef(!1);return Z(()=>{r.current=!0}),t.useCallback(function(t,i){void 0===i&&(i={}),r.current&&("number"===typeof t?e.navigate(t):e.navigate(t,q({fromRouteId:n},i)))},[e,n])}():function(){J()||c(!1);let e=t.useContext(H),{basename:n,future:r,navigator:i}=t.useContext(K),{matches:s}=t.useContext(Q),{pathname:a}=X(),o=JSON.stringify(O(s,r.v7_relativeSplatPath)),l=t.useRef(!1);return Z(()=>{l.current=!0}),t.useCallback(function(t,r){if(void 0===r&&(r={}),!l.current)return;if("number"===typeof t)return void i.go(t);let s=L(t,JSON.parse(o),a,"path"===r.relative);null==e&&"/"!==n&&(s.pathname="/"===s.pathname?n:M([n,s.pathname])),(r.replace?i.replace:i.push)(s,r.state,r)},[n,i,o,a,e])}()}function te(e,n){let{relative:r}=void 0===n?{}:n,{future:i}=t.useContext(K),{matches:s}=t.useContext(Q),{pathname:a}=X(),o=JSON.stringify(O(s,i.v7_relativeSplatPath));return t.useMemo(()=>L(e,JSON.parse(o),a,"path"===r),[e,o,a,r])}function ne(n,r,i,s){J()||c(!1);let{navigator:a}=t.useContext(K),{matches:o}=t.useContext(Q),l=o[o.length-1],u=l?l.params:{},d=(l&&l.pathname,l?l.pathnameBase:"/");l&&l.route;let h,f=X();if(r){var m;let e="string"===typeof r?p(r):r;"/"===d||(null==(m=e.pathname)?void 0:m.startsWith(d))||c(!1),h=e}else h=f;let g=h.pathname||"/",y=g;if("/"!==d){let e=d.replace(/^\//,"").split("/");y="/"+g.replace(/^\//,"").split("/").slice(e.length).join("/")}let b=v(n,{pathname:y});let w=oe(b&&b.map(e=>Object.assign({},e,{params:Object.assign({},u,e.params),pathname:M([d,a.encodeLocation?a.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?d:M([d,a.encodeLocation?a.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),o,i,s);return r&&w?t.createElement(G.Provider,{value:{location:q({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:e.Pop}},w):w}function re(){let e=function(){var e;let n=t.useContext(Y),r=de(ce.UseRouteError),i=he(ce.UseRouteError);if(void 0!==n)return n;return null==(e=r.errors)?void 0:e[i]}(),n=z(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:i};return t.createElement(t.Fragment,null,t.createElement("h2",null,"Unexpected Application Error!"),t.createElement("h3",{style:{fontStyle:"italic"}},n),r?t.createElement("pre",{style:s},r):null,null)}const ie=t.createElement(re,null);class se extends t.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?t.createElement(Q.Provider,{value:this.props.routeContext},t.createElement(Y.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ae(e){let{routeContext:n,match:r,children:i}=e,s=t.useContext(H);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),t.createElement(Q.Provider,{value:n},i)}function oe(e,n,r,i){var s;if(void 0===n&&(n=[]),void 0===r&&(r=null),void 0===i&&(i=null),null==e){var a;if(!r)return null;if(r.errors)e=r.matches;else{if(!(null!=(a=i)&&a.v7_partialHydration&&0===n.length&&!r.initialized&&r.matches.length>0))return null;e=r.matches}}let o=e,l=null==(s=r)?void 0:s.errors;if(null!=l){let e=o.findIndex(e=>e.route.id&&void 0!==(null==l?void 0:l[e.route.id]));e>=0||c(!1),o=o.slice(0,Math.min(o.length,e+1))}let u=!1,d=-1;if(r&&i&&i.v7_partialHydration)for(let t=0;t<o.length;t++){let e=o[t];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(d=t),e.route.id){let{loaderData:t,errors:n}=r,i=e.route.loader&&void 0===t[e.route.id]&&(!n||void 0===n[e.route.id]);if(e.route.lazy||i){u=!0,o=d>=0?o.slice(0,d+1):[o[0]];break}}}return o.reduceRight((e,i,s)=>{let a,c=!1,h=null,f=null;var p;r&&(a=l&&i.route.id?l[i.route.id]:void 0,h=i.route.errorElement||ie,u&&(d<0&&0===s?(p="route-fallback",!1||fe[p]||(fe[p]=!0),c=!0,f=null):d===s&&(c=!0,f=i.route.hydrateFallbackElement||null)));let m=n.concat(o.slice(0,s+1)),g=()=>{let n;return n=a?h:c?f:i.route.Component?t.createElement(i.route.Component,null):i.route.element?i.route.element:e,t.createElement(ae,{match:i,routeContext:{outlet:e,matches:m,isDataRoute:null!=r},children:n})};return r&&(i.route.ErrorBoundary||i.route.errorElement||0===s)?t.createElement(se,{location:r.location,revalidation:r.revalidation,component:h,error:a,children:g(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):g()},null)}var le=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(le||{}),ce=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(ce||{});function ue(e){let n=t.useContext(H);return n||c(!1),n}function de(e){let n=t.useContext(W);return n||c(!1),n}function he(e){let n=function(){let e=t.useContext(Q);return e||c(!1),e}(),r=n.matches[n.matches.length-1];return r.route.id||c(!1),r.route.id}const fe={};function pe(e,t){null==e||e.v7_startTransition,void 0===(null==e?void 0:e.v7_relativeSplatPath)&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}r.startTransition;function me(e){let{to:n,replace:r,state:i,relative:s}=e;J()||c(!1);let{future:a,static:o}=t.useContext(K),{matches:l}=t.useContext(Q),{pathname:u}=X(),d=ee(),h=L(n,O(l,a.v7_relativeSplatPath),u,"path"===s),f=JSON.stringify(h);return t.useEffect(()=>d(JSON.parse(f),{replace:r,state:i,relative:s}),[d,f,s,r,i]),null}function ge(e){c(!1)}function ve(n){let{basename:r="/",children:i=null,location:s,navigationType:a=e.Pop,navigator:o,static:l=!1,future:u}=n;J()&&c(!1);let d=r.replace(/^\/*/,"/"),h=t.useMemo(()=>({basename:d,navigator:o,static:l,future:q({v7_relativeSplatPath:!1},u)}),[d,u,o,l]);"string"===typeof s&&(s=p(s));let{pathname:f="/",search:m="",hash:g="",state:v=null,key:y="default"}=s,b=t.useMemo(()=>{let e=j(f,d);return null==e?null:{location:{pathname:e,search:m,hash:g,state:v,key:y},navigationType:a}},[d,f,m,g,v,y,a]);return null==b?null:t.createElement(K.Provider,{value:h},t.createElement(G.Provider,{children:i,value:b}))}function ye(e){let{children:t,location:n}=e;return ne(be(t),n)}new Promise(()=>{});t.Component;function be(e,n){void 0===n&&(n=[]);let r=[];return t.Children.forEach(e,(e,i)=>{if(!t.isValidElement(e))return;let s=[...n,i];if(e.type===t.Fragment)return void r.push.apply(r,be(e.props.children,s));e.type!==ge&&c(!1),e.props.index&&e.props.children&&c(!1);let a={id:e.props.id||s.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(a.children=be(e.props.children,s)),r.push(a)}),r}function we(){return we=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},we.apply(this,arguments)}function _e(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const Ee=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"];try{window.__reactRouterVersion="6"}catch(fv){}new Map;const xe=r.startTransition;a.flushSync,r.useId;function Se(e){let{basename:n,children:r,future:i,window:s}=e,a=t.useRef();var o;null==a.current&&(a.current=(void 0===(o={window:s,v5Compat:!0})&&(o={}),m(function(e,t){let{pathname:n,search:r,hash:i}=e.location;return h("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"===typeof t?t:f(t)},null,o)));let l=a.current,[c,u]=t.useState({action:l.action,location:l.location}),{v7_startTransition:d}=i||{},p=t.useCallback(e=>{d&&xe?xe(()=>u(e)):u(e)},[u,d]);return t.useLayoutEffect(()=>l.listen(p),[l,p]),t.useEffect(()=>pe(i),[i]),t.createElement(ve,{basename:n,children:r,location:c.location,navigationType:c.action,navigator:l,future:i})}const ke="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Te=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ce=t.forwardRef(function(e,n){let r,{onClick:i,relative:s,reloadDocument:a,replace:o,state:l,target:u,to:d,preventScrollReset:h,viewTransition:p}=e,m=_e(e,Ee),{basename:g}=t.useContext(K),v=!1;if("string"===typeof d&&Te.test(d)&&(r=d,ke))try{let e=new URL(window.location.href),t=d.startsWith("//")?new URL(e.protocol+d):new URL(d),n=j(t.pathname,g);t.origin===e.origin&&null!=n?d=n+t.search+t.hash:v=!0}catch(fv){}let y=function(e,n){let{relative:r}=void 0===n?{}:n;J()||c(!1);let{basename:i,navigator:s}=t.useContext(K),{hash:a,pathname:o,search:l}=te(e,{relative:r}),u=o;return"/"!==i&&(u="/"===o?i:M([i,o])),s.createHref({pathname:u,search:l,hash:a})}(d,{relative:s}),b=function(e,n){let{target:r,replace:i,state:s,preventScrollReset:a,relative:o,viewTransition:l}=void 0===n?{}:n,c=ee(),u=X(),d=te(e,{relative:o});return t.useCallback(t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,r)){t.preventDefault();let n=void 0!==i?i:f(u)===f(d);c(e,{replace:n,state:s,preventScrollReset:a,relative:o,viewTransition:l})}},[u,c,d,i,s,r,e,a,o,l])}(d,{replace:o,state:l,target:u,preventScrollReset:h,relative:s,viewTransition:p});return t.createElement("a",we({},m,{href:r||y,onClick:v||a?i:function(e){i&&i(e),e.defaultPrevented||b(e)},ref:n,target:u}))});var Ie,Ne;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Ie||(Ie={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Ne||(Ne={}));var Ae=n(579);const Pe=e=>{let{message:n,type:r,onClose:i,duration:s=4e3}=e;(0,t.useEffect)(()=>{const e=setTimeout(i,s);return()=>clearTimeout(e)},[i,s]);return(0,Ae.jsx)("div",{className:`toast toast-${r}`,children:(0,Ae.jsxs)("div",{className:"toast-content",children:[(0,Ae.jsx)("span",{className:"toast-icon",children:(()=>{switch(r){case"success":return"\u2705";case"error":return"\u274c";case"warning":return"\u26a0\ufe0f";case"info":return"\u2139\ufe0f";default:return"\ud83d\udce2"}})()}),(0,Ae.jsx)("span",{className:"toast-message",children:n}),(0,Ae.jsx)("button",{className:"toast-close",onClick:i,children:"\xd7"})]})})},je=e=>{let{isOpen:t,title:n,message:r,onConfirm:i,onCancel:s,confirmText:a="Confirm",cancelText:o="Cancel",type:l="warning"}=e;if(!t)return null;return(0,Ae.jsx)("div",{className:"confirm-modal-overlay",onClick:s,children:(0,Ae.jsxs)("div",{className:"confirm-modal",onClick:e=>e.stopPropagation(),children:[(0,Ae.jsxs)("div",{className:"confirm-modal-header",children:[(0,Ae.jsx)("span",{className:"confirm-modal-icon",children:(()=>{switch(l){case"danger":return"\u26a0\ufe0f";case"warning":default:return"\u2753";case"info":return"\u2139\ufe0f"}})()}),(0,Ae.jsx)("h3",{children:n})]}),(0,Ae.jsx)("div",{className:"confirm-modal-body",children:(0,Ae.jsx)("p",{children:r})}),(0,Ae.jsxs)("div",{className:"confirm-modal-actions",children:[(0,Ae.jsx)("button",{className:"confirm-btn-cancel",onClick:s,children:o}),(0,Ae.jsx)("button",{className:`confirm-btn-confirm ${l}`,onClick:i,children:a})]})]})})},Re=(0,t.createContext)(),De=()=>{const e=(0,t.useContext)(Re);if(!e)throw new Error("useToast must be used within a ToastProvider");return e},Oe=e=>{let{children:n}=e;const[r,i]=(0,t.useState)([]),[s,a]=(0,t.useState)({isOpen:!1,title:"",message:"",onConfirm:null,onCancel:null,confirmText:"Confirm",cancelText:"Cancel",type:"warning"}),o=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info";const n=Date.now()+Math.random(),r={id:n,message:e,type:t};return i(e=>[...e,r]),n};return(0,Ae.jsxs)(Re.Provider,{value:{showSuccess:e=>o(e,"success"),showError:e=>o(e,"error"),showWarning:e=>o(e,"warning"),showInfo:e=>o(e,"info"),showConfirm:e=>new Promise(t=>{a({isOpen:!0,title:e.title||"Confirm Action",message:e.message||"Are you sure?",confirmText:e.confirmText||"Confirm",cancelText:e.cancelText||"Cancel",type:e.type||"warning",onConfirm:()=>{a(e=>({...e,isOpen:!1})),t(!0)},onCancel:()=>{a(e=>({...e,isOpen:!1})),t(!1)}})})},children:[n,(0,Ae.jsx)("div",{className:"toast-container",children:r.map(e=>(0,Ae.jsx)(Pe,{message:e.message,type:e.type,onClose:()=>{return t=e.id,void i(e=>e.filter(e=>e.id!==t));var t}},e.id))}),(0,Ae.jsx)(je,{isOpen:s.isOpen,title:s.title,message:s.message,onConfirm:s.onConfirm,onCancel:s.onCancel,confirmText:s.confirmText,cancelText:s.cancelText,type:s.type})]})},Le=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},Me={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],s=i+1<e.length,a=s?e[i+1]:0,o=i+2<e.length,l=o?e[i+2]:0,c=t>>2,u=(3&t)<<4|a>>4;let d=(15&a)<<2|l>>6,h=63&l;o||(h=64,s||(d=64)),r.push(n[c],n[u],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Le(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const s=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(s>>10)),t[r++]=String.fromCharCode(56320+(1023&s))}else{const s=e[n++],a=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&a)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],s=i<e.length?n[e.charAt(i)]:0;++i;const a=i<e.length?n[e.charAt(i)]:64;++i;const o=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==s||null==a||null==o)throw new Fe;const l=t<<2|s>>4;if(r.push(l),64!==a){const e=s<<4&240|a>>2;if(r.push(e),64!==o){const e=a<<6&192|o;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class Fe extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ue=function(e){return function(e){const t=Le(e);return Me.encodeByteArray(t,!0)}(e).replace(/\./g,"")},Ve=function(e){try{return Me.decodeString(e,!0)}catch(fv){console.error("base64Decode failed: ",fv)}return null};function ze(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}const Be=()=>{try{return ze().__FIREBASE_DEFAULTS__||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_CLOUDINARY_CLOUD_NAME:"dxqxjaruh",REACT_APP_CLOUDINARY_UPLOAD_PRESET:"ignite",REACT_APP_EMAILJS_PUBLIC_KEY:"nxm2K3gkOeRTTO6lb",REACT_APP_EMAILJS_SERVICE_ID:"service_8uecr8p",REACT_APP_EMAILJS_TEMPLATE_APPROVAL:"template_szaabif",REACT_APP_EMAILJS_TEMPLATE_REJECTION:"template_uqau4un",REACT_APP_FIREBASE_API_KEY:"AIzaSyAHSqMT1mLifDykEKsxXQs4e0V9m78UPQ0",REACT_APP_FIREBASE_APP_ID:"1:383859238509:web:d5743aa9ad3f54f2cd8164",REACT_APP_FIREBASE_AUTH_DOMAIN:"ignite-cd493.firebaseapp.com",REACT_APP_FIREBASE_MEASUREMENT_ID:"G-5176MFW08Z",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"383859238509",REACT_APP_FIREBASE_PROJECT_ID:"ignite-cd493",REACT_APP_FIREBASE_STORAGE_BUCKET:"ignite-cd493.firebasestorage.app"}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(fv){return}const t=e&&Ve(e[1]);return t&&JSON.parse(t)})()}catch(fv){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${fv}`)}},$e=e=>{var t,n;return null===(n=null===(t=Be())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},qe=()=>{var e;return null===(e=Be())||void 0===e?void 0:e.config},He=e=>{var t;return null===(t=Be())||void 0===t?void 0:t[`_${e}`]};class We{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,n))}}}function Ke(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch(t){return!1}}async function Ge(e){return(await fetch(e,{credentials:"include"})).ok}const Qe={};let Ye=!1;function Je(e,t){if("undefined"===typeof window||"undefined"===typeof document||!Ke(window.location.host)||Qe[e]===t||Qe[e]||Ye)return;function n(e){return`__firebase__banner__${e}`}Qe[e]=t;const r="__firebase__banner",i=function(){const e={prod:[],emulator:[]};for(const t of Object.keys(Qe))Qe[t]?e.emulator.push(t):e.prod.push(t);return e}().prod.length>0;function s(){const e=document.createElement("span");return e.style.cursor="pointer",e.style.marginLeft="16px",e.style.fontSize="24px",e.innerHTML=" &times;",e.onclick=()=>{Ye=!0,function(){const e=document.getElementById(r);e&&e.remove()}()},e}function a(){const e=function(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}(r),t=n("text"),a=document.getElementById(t)||document.createElement("span"),o=n("learnmore"),l=document.getElementById(o)||document.createElement("a"),c=n("preprendIcon"),u=document.getElementById(c)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(e.created){const t=e.element;!function(e){e.style.display="flex",e.style.background="#7faaf0",e.style.position="fixed",e.style.bottom="5px",e.style.left="5px",e.style.padding=".5em",e.style.borderRadius="5px",e.style.alignItems="center"}(t),function(e,t){e.setAttribute("id",t),e.innerText="Learn more",e.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",e.setAttribute("target","__blank"),e.style.paddingLeft="5px",e.style.textDecoration="underline"}(l,o);const n=s();!function(e,t){e.setAttribute("width","24"),e.setAttribute("id",t),e.setAttribute("height","24"),e.setAttribute("viewBox","0 0 24 24"),e.setAttribute("fill","none"),e.style.marginLeft="-6px"}(u,c),t.append(u,a,l,n),document.body.appendChild(t)}i?(a.innerText="Preview backend disconnected.",u.innerHTML='<g clip-path="url(#clip0_6013_33858)">\n<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6013_33858">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>'):(u.innerHTML='<g clip-path="url(#clip0_6083_34804)">\n<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6083_34804">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>',a.innerText="Preview backend running in this workspace."),a.setAttribute("id",t)}"loading"===document.readyState?window.addEventListener("DOMContentLoaded",a):a()}function Xe(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Ze(){var e;const t=null===(e=Be())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(fv){return!1}}function et(){return!Ze()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function tt(){try{return"object"===typeof indexedDB}catch(fv){return!1}}class nt extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,nt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,rt.prototype.create)}}class rt{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n=`${this.service}/${e}`,r=this.errors[e],i=r?function(e,t){return e.replace(it,(e,n)=>{const r=t[n];return null!=r?String(r):`<${n}?>`})}(r,t):"Error",s=`${this.serviceName}: ${i} (${n}).`;return new nt(n,s,t)}}const it=/\{\$([^}]+)}/g;function st(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],s=t[i];if(at(n)&&at(s)){if(!st(n,s))return!1}else if(n!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function at(e){return null!==e&&"object"===typeof e}function ot(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function lt(e){const t={};return e.replace(/^\?/,"").split("&").forEach(e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}}),t}function ct(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class ut{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(e=>{this.error(e)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=dt),void 0===r.error&&(r.error=dt),void 0===r.complete&&(r.complete=dt);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(fv){}}),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(fv){"undefined"!==typeof console&&console.error&&console.error(fv)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function dt(){}function ht(e){return e&&e._delegate?e._delegate:e}class ft{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const pt="[DEFAULT]";class mt{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new We;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(fv){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(fv){if(r)return null;throw fv}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:pt})}catch(fv){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(fv){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pt;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pt;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pt;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,s]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&s.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===pt?void 0:i),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(s){}var i;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pt;return this.component?this.component.multipleInstances?e:pt:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class gt{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new mt(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const vt=[];var yt;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(yt||(yt={}));const bt={debug:yt.DEBUG,verbose:yt.VERBOSE,info:yt.INFO,warn:yt.WARN,error:yt.ERROR,silent:yt.SILENT},wt=yt.INFO,_t={[yt.DEBUG]:"log",[yt.VERBOSE]:"log",[yt.INFO]:"info",[yt.WARN]:"warn",[yt.ERROR]:"error"},Et=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=_t[t];if(!r)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);for(var i=arguments.length,s=new Array(i>2?i-2:0),a=2;a<i;a++)s[a-2]=arguments[a];console[r](`[${n}]  ${e.name}:`,...s)};class xt{constructor(e){this.name=e,this._logLevel=wt,this._logHandler=Et,this._userLogHandler=null,vt.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in yt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?bt[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,yt.DEBUG,...t),this._logHandler(this,yt.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,yt.VERBOSE,...t),this._logHandler(this,yt.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,yt.INFO,...t),this._logHandler(this,yt.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,yt.WARN,...t),this._logHandler(this,yt.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,yt.ERROR,...t),this._logHandler(this,yt.ERROR,...t)}}let St,kt;const Tt=new WeakMap,Ct=new WeakMap,It=new WeakMap,Nt=new WeakMap,At=new WeakMap;let Pt={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Ct.get(e);if("objectStoreNames"===t)return e.objectStoreNames||It.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Dt(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function jt(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(kt||(kt=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Ot(this),n),Dt(Tt.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Dt(e.apply(Ot(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const s=e.call(Ot(this),t,...r);return It.set(s,t.sort?t.sort():[t]),Dt(s)}}function Rt(e){return"function"===typeof e?jt(e):(e instanceof IDBTransaction&&function(e){if(Ct.has(e))return;const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",s),e.removeEventListener("abort",s)},i=()=>{t(),r()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",s),e.addEventListener("abort",s)});Ct.set(e,t)}(e),t=e,(St||(St=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some(e=>t instanceof e)?new Proxy(e,Pt):e);var t}function Dt(e){if(e instanceof IDBRequest)return function(e){const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",s)},i=()=>{t(Dt(e.result)),r()},s=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",s)});return t.then(t=>{t instanceof IDBCursor&&Tt.set(t,e)}).catch(()=>{}),At.set(t,e),t}(e);if(Nt.has(e))return Nt.get(e);const t=Rt(e);return t!==e&&(Nt.set(e,t),At.set(t,e)),t}const Ot=e=>At.get(e);const Lt=["get","getKey","getAll","getAllKeys","count"],Mt=["put","add","delete","clear"],Ft=new Map;function Ut(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(Ft.get(t))return Ft.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=Mt.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Lt.includes(n))return;const s=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let s=t.store;for(var a=arguments.length,o=new Array(a>1?a-1:0),l=1;l<a;l++)o[l-1]=arguments[l];return r&&(s=s.index(o.shift())),(await Promise.all([s[n](...o),i&&t.done]))[0]};return Ft.set(t,s),s}Pt=(e=>({...e,get:(t,n,r)=>Ut(t,n)||e.get(t,n,r),has:(t,n)=>!!Ut(t,n)||e.has(t,n)}))(Pt);class Vt{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null}).filter(e=>e).join(" ")}}const zt="@firebase/app",Bt="0.13.2",$t=new xt("@firebase/app"),qt="@firebase/app-compat",Ht="@firebase/analytics-compat",Wt="@firebase/analytics",Kt="@firebase/app-check-compat",Gt="@firebase/app-check",Qt="@firebase/auth",Yt="@firebase/auth-compat",Jt="@firebase/database",Xt="@firebase/data-connect",Zt="@firebase/database-compat",en="@firebase/functions",tn="@firebase/functions-compat",nn="@firebase/installations",rn="@firebase/installations-compat",sn="@firebase/messaging",an="@firebase/messaging-compat",on="@firebase/performance",ln="@firebase/performance-compat",cn="@firebase/remote-config",un="@firebase/remote-config-compat",dn="@firebase/storage",hn="@firebase/storage-compat",fn="@firebase/firestore",pn="@firebase/ai",mn="@firebase/firestore-compat",gn="firebase",vn="[DEFAULT]",yn={[zt]:"fire-core",[qt]:"fire-core-compat",[Wt]:"fire-analytics",[Ht]:"fire-analytics-compat",[Gt]:"fire-app-check",[Kt]:"fire-app-check-compat",[Qt]:"fire-auth",[Yt]:"fire-auth-compat",[Jt]:"fire-rtdb",[Xt]:"fire-data-connect",[Zt]:"fire-rtdb-compat",[en]:"fire-fn",[tn]:"fire-fn-compat",[nn]:"fire-iid",[rn]:"fire-iid-compat",[sn]:"fire-fcm",[an]:"fire-fcm-compat",[on]:"fire-perf",[ln]:"fire-perf-compat",[cn]:"fire-rc",[un]:"fire-rc-compat",[dn]:"fire-gcs",[hn]:"fire-gcs-compat",[fn]:"fire-fst",[mn]:"fire-fst-compat",[pn]:"fire-vertex","fire-js":"fire-js",[gn]:"fire-js-all"},bn=new Map,wn=new Map,_n=new Map;function En(e,t){try{e.container.addComponent(t)}catch(fv){$t.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,fv)}}function xn(e){const t=e.name;if(_n.has(t))return $t.debug(`There were multiple attempts to register component ${t}.`),!1;_n.set(t,e);for(const n of bn.values())En(n,e);for(const n of wn.values())En(n,e);return!0}function Sn(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function kn(e){return null!==e&&void 0!==e&&void 0!==e.settings}const Tn=new rt("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class Cn{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new ft("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Tn.create("app-deleted",{appName:this._name})}}const In="11.10.0";function Nn(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:vn,automaticDataCollectionEnabled:!0},t),i=r.name;if("string"!==typeof i||!i)throw Tn.create("bad-app-name",{appName:String(i)});if(n||(n=qe()),!n)throw Tn.create("no-options");const s=bn.get(i);if(s){if(st(n,s.options)&&st(r,s.config))return s;throw Tn.create("duplicate-app",{appName:i})}const a=new gt(i);for(const l of _n.values())a.addComponent(l);const o=new Cn(n,r,a);return bn.set(i,o),o}function An(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vn;const t=bn.get(e);if(!t&&e===vn&&qe())return Nn();if(!t)throw Tn.create("no-app",{appName:e});return t}function Pn(e,t,n){var r;let i=null!==(r=yn[e])&&void 0!==r?r:e;n&&(i+=`-${n}`);const s=i.match(/\s|\//),a=t.match(/\s|\//);if(s||a){const e=[`Unable to register library "${i}" with version "${t}":`];return s&&e.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&a&&e.push("and"),a&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void $t.warn(e.join(" "))}xn(new ft(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}const jn="firebase-heartbeat-store";let Rn=null;function Dn(){return Rn||(Rn=function(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=indexedDB.open(e,t),o=Dt(a);return r&&a.addEventListener("upgradeneeded",e=>{r(Dt(a.result),e.oldVersion,e.newVersion,Dt(a.transaction),e)}),n&&a.addEventListener("blocked",e=>n(e.oldVersion,e.newVersion,e)),o.then(e=>{s&&e.addEventListener("close",()=>s()),i&&e.addEventListener("versionchange",e=>i(e.oldVersion,e.newVersion,e))}).catch(()=>{}),o}("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(jn)}catch(fv){console.warn(fv)}}}).catch(e=>{throw Tn.create("idb-open",{originalErrorMessage:e.message})})),Rn}async function On(e,t){try{const n=(await Dn()).transaction(jn,"readwrite"),r=n.objectStore(jn);await r.put(t,Ln(e)),await n.done}catch(fv){if(fv instanceof nt)$t.warn(fv.message);else{const t=Tn.create("idb-set",{originalErrorMessage:null===fv||void 0===fv?void 0:fv.message});$t.warn(t.message)}}}function Ln(e){return`${e.name}!${e.options.appId}`}class Mn{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Un(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){var e,t;try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Fn();if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)&&(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))return;if(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(e=>e.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>30){const e=function(e){if(0===e.length)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(e,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(fv){$t.warn(fv)}}async getHeartbeatsHeader(){var e;try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=Fn(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find(e=>e.agent===i.agent);if(e){if(e.dates.push(i.date),Vn(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Vn(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=Ue(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(fv){return $t.warn(fv),""}}}function Fn(){return(new Date).toISOString().substring(0,10)}class Un{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!tt()&&new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}}).then(()=>!0).catch(()=>!1)}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await Dn()).transaction(jn),n=await t.objectStore(jn).get(Ln(e));return await t.done,n}catch(fv){if(fv instanceof nt)$t.warn(fv.message);else{const t=Tn.create("idb-get",{originalErrorMessage:null===fv||void 0===fv?void 0:fv.message});$t.warn(t.message)}}}(this.app);return(null===e||void 0===e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return On(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return On(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function Vn(e){return Ue(JSON.stringify({version:2,heartbeats:e})).length}var zn;zn="",xn(new ft("platform-logger",e=>new Vt(e),"PRIVATE")),xn(new ft("heartbeat",e=>new Mn(e),"PRIVATE")),Pn(zt,Bt,zn),Pn(zt,Bt,"esm2017"),Pn("fire-js","");function Bn(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;function $n(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const qn=$n,Hn=new rt("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Wn=new xt("@firebase/auth");function Kn(e){if(Wn.logLevel<=yt.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Wn.error(`Auth (${In}): ${e}`,...n)}}function Gn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Xn(e,...n)}function Qn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Xn(e,...n)}function Yn(e,t,n){const r=Object.assign(Object.assign({},qn()),{[t]:n});return new rt("auth","Firebase",r).create(t,{appName:e.name})}function Jn(e){return Yn(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Xn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return Hn.create(e,...n)}function Zn(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw Xn(t,...r)}}function er(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Kn(t),new Error(t)}function tr(e,t){e||er(t)}function nr(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function rr(){return"http:"===ir()||"https:"===ir()}function ir(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}function sr(){return!("undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(rr()||function(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}()||"connection"in navigator))||navigator.onLine}class ar{constructor(e,t){this.shortDelay=e,this.longDelay=t,tr(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Xe())||"object"===typeof navigator&&"ReactNative"===navigator.product}get(){return sr()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function or(e,t){tr(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class lr{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void er("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void er("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void er("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const cr={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},ur=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],dr=new ar(3e4,6e4);function hr(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function fr(e,t,n,r){return pr(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},async()=>{let i={},s={};r&&("GET"===t?s=r:i={body:JSON.stringify(r)});const a=ot(Object.assign({key:e.config.apiKey},s)).slice(1),o=await e._getAdditionalHeaders();o["Content-Type"]="application/json",e.languageCode&&(o["X-Firebase-Locale"]=e.languageCode);const l=Object.assign({method:t,headers:o},i);return"undefined"!==typeof navigator&&"Cloudflare-Workers"===navigator.userAgent||(l.referrerPolicy="no-referrer"),e.emulatorConfig&&Ke(e.emulatorConfig.host)&&(l.credentials="include"),lr.fetch()(await gr(e,e.config.apiHost,n,a),l)})}async function pr(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},cr),t);try{const t=new yr(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const s=await i.json();if("needConfirmation"in s)throw br(e,"account-exists-with-different-credential",s);if(i.ok&&!("errorMessage"in s))return s;{const t=i.ok?s.errorMessage:s.error.message,[n,a]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw br(e,"credential-already-in-use",s);if("EMAIL_EXISTS"===n)throw br(e,"email-already-in-use",s);if("USER_DISABLED"===n)throw br(e,"user-disabled",s);const o=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(a)throw Yn(e,o,a);Gn(e,o)}}catch(fv){if(fv instanceof nt)throw fv;Gn(e,"network-request-failed",{message:String(fv)})}}async function mr(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const s=await fr(e,t,n,r,i);return"mfaPendingCredential"in s&&Gn(e,"multi-factor-auth-required",{_serverResponse:s}),s}async function gr(e,t,n,r){const i=`${t}${n}?${r}`,s=e,a=s.config.emulator?or(e.config,i):`${e.config.apiScheme}://${i}`;if(ur.includes(n)&&(await s._persistenceManagerAvailable,"COOKIE"===s._getPersistenceType())){return s._getPersistence()._getFinalTarget(a).toString()}return a}function vr(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class yr{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((e,t)=>{this.timer=setTimeout(()=>t(Qn(this.auth,"network-request-failed")),dr.get())})}}function br(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Qn(e,t,r);return i.customData._tokenResponse=n,i}function wr(e){return void 0!==e&&void 0!==e.enterprise}class _r{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return vr(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Er(e,t){return fr(e,"GET","/v2/recaptchaConfig",hr(e,t))}async function xr(e,t){return fr(e,"POST","/v1/accounts:lookup",t)}function Sr(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(fv){}}function kr(e){return 1e3*Number(e)}function Tr(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return Kn("JWT malformed, contained fewer than 3 sections"),null;try{const e=Ve(n);return e?JSON.parse(e):(Kn("Failed to decode base64 JWT payload"),null)}catch(fv){return Kn("Caught error parsing JWT payload as JSON",null===fv||void 0===fv?void 0:fv.toString()),null}}function Cr(e){const t=Tr(e);return Zn(t,"internal-error"),Zn("undefined"!==typeof t.exp,"internal-error"),Zn("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function Ir(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(fv){throw fv instanceof nt&&function(e){let{code:t}=e;return"auth/user-disabled"===t||"auth/user-token-expired"===t}(fv)&&e.auth.currentUser===e&&await e.auth.signOut(),fv}}class Nr{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(fv){return void("auth/network-request-failed"===(null===fv||void 0===fv?void 0:fv.code)&&this.schedule(!0))}this.schedule()}}class Ar{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Sr(this.lastLoginAt),this.creationTime=Sr(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Pr(e){var t;const n=e.auth,r=await e.getIdToken(),i=await Ir(e,xr(n,{idToken:r}));Zn(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const s=i.users[0];e._notifyReloadListener(s);const a=(null===(t=s.providerUserInfo)||void 0===t?void 0:t.length)?jr(s.providerUserInfo):[],o=(l=e.providerData,c=a,[...l.filter(e=>!c.some(t=>t.providerId===e.providerId)),...c]);var l,c;const u=e.isAnonymous,d=!(e.email&&s.passwordHash)&&!(null===o||void 0===o?void 0:o.length),h=!!u&&d,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new Ar(s.createdAt,s.lastLoginAt),isAnonymous:h};Object.assign(e,f)}function jr(e){return e.map(e=>{var{providerId:t}=e,n=Bn(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}class Rr{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Zn(e.idToken,"internal-error"),Zn("undefined"!==typeof e.idToken,"internal-error"),Zn("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):Cr(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Zn(0!==e.length,"internal-error");const t=Cr(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this.accessToken||this.isExpired?(Zn(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await pr(e,{},async()=>{const n=ot({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,s=await gr(e,r,"/v1/token",`key=${i}`),a=await e._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const o={method:"POST",headers:a,body:n};return e.emulatorConfig&&Ke(e.emulatorConfig.host)&&(o.credentials="include"),lr.fetch()(s,o)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,s=new Rr;return n&&(Zn("string"===typeof n,"internal-error",{appName:e}),s.refreshToken=n),r&&(Zn("string"===typeof r,"internal-error",{appName:e}),s.accessToken=r),i&&(Zn("number"===typeof i,"internal-error",{appName:e}),s.expirationTime=i),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Rr,this.toJSON())}_performRefresh(){return er("not implemented")}}function Dr(e,t){Zn("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class Or{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=Bn(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Nr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Ar(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await Ir(this,this.stsTokenManager.getToken(this.auth,e));return Zn(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=ht(e),r=await n.getIdToken(t),i=Tr(r);Zn(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"===typeof i.firebase?i.firebase:void 0,a=null===s||void 0===s?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Sr(kr(i.auth_time)),issuedAtTime:Sr(kr(i.iat)),expirationTime:Sr(kr(i.exp)),signInProvider:a||null,signInSecondFactor:(null===s||void 0===s?void 0:s.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=ht(e);await Pr(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(Zn(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(e=>Object.assign({},e)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Or(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Zn(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await Pr(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(kn(this.auth.app))return Promise.reject(Jn(this.auth));const e=await this.getIdToken();return await Ir(this,async function(e,t){return fr(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,s,a,o,l,c;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,d=null!==(r=t.email)&&void 0!==r?r:void 0,h=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(s=t.photoURL)&&void 0!==s?s:void 0,p=null!==(a=t.tenantId)&&void 0!==a?a:void 0,m=null!==(o=t._redirectEventId)&&void 0!==o?o:void 0,g=null!==(l=t.createdAt)&&void 0!==l?l:void 0,v=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:y,emailVerified:b,isAnonymous:w,providerData:_,stsTokenManager:E}=t;Zn(y&&E,e,"internal-error");const x=Rr.fromJSON(this.name,E);Zn("string"===typeof y,e,"internal-error"),Dr(u,e.name),Dr(d,e.name),Zn("boolean"===typeof b,e,"internal-error"),Zn("boolean"===typeof w,e,"internal-error"),Dr(h,e.name),Dr(f,e.name),Dr(p,e.name),Dr(m,e.name),Dr(g,e.name),Dr(v,e.name);const S=new Or({uid:y,auth:e,email:d,emailVerified:b,displayName:u,isAnonymous:w,photoURL:f,phoneNumber:h,tenantId:p,stsTokenManager:x,createdAt:g,lastLoginAt:v});return _&&Array.isArray(_)&&(S.providerData=_.map(e=>Object.assign({},e))),m&&(S._redirectEventId=m),S}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new Rr;r.updateFromServerResponse(t);const i=new Or({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await Pr(i),i}static async _fromGetAccountInfoResponse(e,t,n){const r=t.users[0];Zn(void 0!==r.localId,"internal-error");const i=void 0!==r.providerUserInfo?jr(r.providerUserInfo):[],s=!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length),a=new Rr;a.updateFromIdToken(n);const o=new Or({uid:r.localId,auth:e,stsTokenManager:a,isAnonymous:s}),l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:i,metadata:new Ar(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length)};return Object.assign(o,l),o}}const Lr=new Map;function Mr(e){tr(e instanceof Function,"Expected a class definition");let t=Lr.get(e);return t?(tr(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Lr.set(e,t),t)}class Fr{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Fr.type="NONE";const Ur=Fr;function Vr(e,t,n){return`firebase:${e}:${t}:${n}`}class zr{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=Vr(this.userKey,r.apiKey,i),this.fullPersistenceKey=Vr("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if("string"===typeof e){const t=await xr(this.auth,{idToken:e}).catch(()=>{});return t?Or._fromGetAccountInfoResponse(this.auth,t,e):null}return Or._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new zr(Mr(Ur),e,n);const r=(await Promise.all(t.map(async e=>{if(await e._isAvailable())return e}))).filter(e=>e);let i=r[0]||Mr(Ur);const s=Vr(n,e.config.apiKey,e.name);let a=null;for(const c of t)try{const t=await c._get(s);if(t){let n;if("string"===typeof t){const r=await xr(e,{idToken:t}).catch(()=>{});if(!r)break;n=await Or._fromGetAccountInfoResponse(e,r,t)}else n=Or._fromJSON(e,t);c!==i&&(a=n),i=c;break}}catch(l){}const o=r.filter(e=>e._shouldAllowMigration);return i._shouldAllowMigration&&o.length?(i=o[0],a&&await i._set(s,a.toJSON()),await Promise.all(t.map(async e=>{if(e!==i)try{await e._remove(s)}catch(l){}})),new zr(i,e,n)):new zr(i,e,n)}}function Br(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Wr(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if($r(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Gr(t))return"Blackberry";if(Qr(t))return"Webos";if(qr(t))return"Safari";if((t.includes("chrome/")||Hr(t))&&!t.includes("edge/"))return"Chrome";if(Kr(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function $r(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xe();return/firefox\//i.test(e)}function qr(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xe()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Hr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xe();return/crios\//i.test(e)}function Wr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xe();return/iemobile/i.test(e)}function Kr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xe();return/android/i.test(e)}function Gr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xe();return/blackberry/i.test(e)}function Qr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xe();return/webos/i.test(e)}function Yr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xe();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Jr(){return function(){const e=Xe();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function Xr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xe();return Yr(e)||Kr(e)||Qr(e)||Gr(e)||/windows phone/i.test(e)||Wr(e)}function Zr(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Br(Xe());break;case"Worker":t=`${Br(Xe())}-${e}`;break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return`${t}/JsCore/${In}/${r}`}class ei{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise((n,r)=>{try{n(e(t))}catch(fv){r(fv)}});n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(fv){t.reverse();for(const r of t)try{r()}catch(n){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===fv||void 0===fv?void 0:fv.message})}}}class ti{constructor(e){var t,n,r,i;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=s.minPasswordLength)&&void 0!==t?t:6,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),void 0!==s.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),void 0!==s.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),void 0!==s.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),void 0!==s.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(n=e.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(i=e.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,i,s,a;const o={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,o),this.validatePasswordCharacterOptions(e,o),o.isValid&&(o.isValid=null===(t=o.meetsMinPasswordLength)||void 0===t||t),o.isValid&&(o.isValid=null===(n=o.meetsMaxPasswordLength)||void 0===n||n),o.isValid&&(o.isValid=null===(r=o.containsLowercaseLetter)||void 0===r||r),o.isValid&&(o.isValid=null===(i=o.containsUppercaseLetter)||void 0===i||i),o.isValid&&(o.isValid=null===(s=o.containsNumericCharacter)||void 0===s||s),o.isValid&&(o.isValid=null===(a=o.containsNonAlphanumericCharacter)||void 0===a||a),o}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class ni{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ii(this),this.idTokenSubscription=new ii(this),this.beforeStateQueue=new ei(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Hn,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(e=>this._resolvePersistenceManagerAvailable=e)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Mr(t)),this._initializationPromise=this.queue(async()=>{var n,r,i;if(!this._deleted&&(this.persistenceManager=await zr.create(this,e),null===(n=this._resolvePersistenceManagerAvailable)||void 0===n||n.call(this),!this._deleted)){if(null===(r=this._popupRedirectResolver)||void 0===r?void 0:r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(fv){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(i=this.currentUser)||void 0===i?void 0:i.uid)||null,this._deleted||(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await xr(this,{idToken:e}),n=await Or._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(kn(this.app)){const e=this.app.settings.authIdToken;return e?new Promise(t=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(e).then(t,t))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,s=null===r||void 0===r?void 0:r._redirectEventId,a=await this.tryRedirectSignIn(e);n&&n!==s||!(null===a||void 0===a?void 0:a.user)||(r=a.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(fv){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(fv))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Zn(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(fv){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Pr(e)}catch(fv){if("auth/network-request-failed"!==(null===fv||void 0===fv?void 0:fv.code))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(kn(this.app))return Promise.reject(Jn(this));const t=e?ht(e):null;return t&&Zn(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&Zn(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return kn(this.app)?Promise.reject(Jn(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return kn(this.app)?Promise.reject(Jn(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Mr(e))})}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return fr(e,"GET","/v2/passwordPolicy",hr(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new ti(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new rt("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return fr(e,"POST","/v2/accounts:revokeToken",hr(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Mr(e)||this._popupRedirectResolver;Zn(t,this,"argument-error"),this.redirectPersistenceManager=await zr.create(this,[Mr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue(async()=>{}),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Zn(a,this,"internal-error"),a.then(()=>{s||i(this.currentUser)}),"function"===typeof t){const i=e.addObserver(t,n,r);return()=>{s=!0,i()}}{const n=e.addObserver(t);return()=>{s=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Zn(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Zr(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;if(kn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(Wn.logLevel<=yt.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Wn.warn(`Auth (${In}): ${e}`,...n)}}(`Error while retrieving App Check token: ${t.error}`),null===t||void 0===t?void 0:t.token}}function ri(e){return ht(e)}class ii{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const n=new ut(e,t);return n.subscribe.bind(n)}(e=>this.observer=e)}get next(){return Zn(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let si={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function ai(e){return si.loadJS(e)}function oi(e){return`__${e}${Math.floor(1e6*Math.random())}`}class li{constructor(){this.enterprise=new ci}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class ci{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const ui="NO_RECAPTCHA";class di{constructor(e){this.type="recaptcha-enterprise",this.auth=ri(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;wr(i)?i.enterprise.ready(()=>{i.enterprise.execute(t,{action:e}).then(e=>{n(e)}).catch(()=>{n(ui)})}):r(Error("No reCAPTCHA enterprise script loaded."))}if(this.auth.settings.appVerificationDisabledForTesting){return(new li).execute("siteKey",{action:"verify"})}return new Promise((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise(async(t,n)=>{Er(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(r=>{if(void 0!==r.recaptchaKey){const n=new _r(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))}).catch(e=>{n(e)})})})(this.auth).then(i=>{if(!t&&wr(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let t=si.recaptchaEnterpriseScript;0!==t.length&&(t+=i),ai(t).then(()=>{n(i,e,r)}).catch(e=>{r(e)})}}).catch(e=>{r(e)})})}}async function hi(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const s=new di(e);let a;if(i)a=ui;else try{a=await s.verify(n)}catch(l){a=await s.verify(n,!0)}const o=Object.assign({},t);if("mfaSmsEnrollment"===n||"mfaSmsSignIn"===n){if("phoneEnrollmentInfo"in o){const e=o.phoneEnrollmentInfo.phoneNumber,t=o.phoneEnrollmentInfo.recaptchaToken;Object.assign(o,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:t,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in o){const e=o.phoneSignInInfo.recaptchaToken;Object.assign(o,{phoneSignInInfo:{recaptchaToken:e,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return o}return r?Object.assign(o,{captchaResp:a}):Object.assign(o,{captchaResponse:a}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function fi(e,t,n,r,i){var s,a;if("EMAIL_PASSWORD_PROVIDER"===i){if(null===(s=e._getRecaptchaConfig())||void 0===s?void 0:s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await hi(e,t,n,"getOobCode"===n);return r(e,i)}return r(e,t).catch(async i=>{if("auth/missing-recaptcha-token"===i.code){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const i=await hi(e,t,n,"getOobCode"===n);return r(e,i)}return Promise.reject(i)})}if("PHONE_PROVIDER"===i){if(null===(a=e._getRecaptchaConfig())||void 0===a?void 0:a.isProviderEnabled("PHONE_PROVIDER")){const i=await hi(e,t,n);return r(e,i).catch(async i=>{var s;if("AUDIT"===(null===(s=e._getRecaptchaConfig())||void 0===s?void 0:s.getProviderEnforcementState("PHONE_PROVIDER"))&&("auth/missing-recaptcha-token"===i.code||"auth/invalid-app-credential"===i.code)){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`);const i=await hi(e,t,n,!1,!0);return r(e,i)}return Promise.reject(i)})}{const i=await hi(e,t,n,!1,!0);return r(e,i)}}return Promise.reject(i+" provider is not supported.")}async function pi(e){const t=ri(e),n=await Er(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new _r(n);if(null==t.tenantId?t._agentRecaptchaConfig=r:t._tenantRecaptchaConfigs[t.tenantId]=r,r.isAnyProviderEnabled()){new di(t).verify()}}function mi(e,t,n){const r=ri(e);Zn(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null===n||void 0===n?void 0:n.disableWarnings),s=gi(t),{host:a,port:o}=function(e){const t=gi(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:vi(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:vi(t)}}}(t),l=null===o?"":`:${o}`,c={url:`${s}//${a}${l}/`},u=Object.freeze({host:a,port:o,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator)return Zn(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),void Zn(st(c,r.config.emulator)&&st(u,r.emulatorConfig),r,"emulator-config-failed");r.config.emulator=c,r.emulatorConfig=u,r.settings.appVerificationDisabledForTesting=!0,Ke(a)?(Ge(`${s}//${a}${l}`),Je("Auth",!0)):i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function gi(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function vi(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class yi{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return er("not implemented")}_getIdTokenResponse(e){return er("not implemented")}_linkToIdToken(e,t){return er("not implemented")}_getReauthenticationResolver(e){return er("not implemented")}}async function bi(e,t){return fr(e,"POST","/v1/accounts:signUp",t)}async function wi(e,t){return mr(e,"POST","/v1/accounts:signInWithPassword",hr(e,t))}class _i extends yi{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new _i(e,t,"password")}static _fromEmailAndCode(e,t){return new _i(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return fi(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",wi,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return mr(e,"POST","/v1/accounts:signInWithEmailLink",hr(e,t))}(e,{email:this._email,oobCode:this._password});default:Gn(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return fi(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",bi,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return mr(e,"POST","/v1/accounts:signInWithEmailLink",hr(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:Gn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Ei(e,t){return mr(e,"POST","/v1/accounts:signInWithIdp",hr(e,t))}class xi extends yi{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new xi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Gn("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=Bn(t,["providerId","signInMethod"]);if(!n||!r)return null;const s=new xi(n,r);return s.idToken=i.idToken||void 0,s.accessToken=i.accessToken||void 0,s.secret=i.secret,s.nonce=i.nonce,s.pendingToken=i.pendingToken||null,s}_getIdTokenResponse(e){return Ei(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Ei(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Ei(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=ot(t)}return e}}async function Si(e,t){return fr(e,"POST","/v1/accounts:sendVerificationCode",hr(e,t))}const ki={USER_NOT_FOUND:"user-not-found"};class Ti extends yi{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new Ti({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new Ti({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return mr(e,"POST","/v1/accounts:signInWithPhoneNumber",hr(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await mr(e,"POST","/v1/accounts:signInWithPhoneNumber",hr(e,t));if(n.temporaryProof)throw br(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return mr(e,"POST","/v1/accounts:signInWithPhoneNumber",hr(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),ki)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new Ti({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class Ci{constructor(e){var t,n,r,i,s,a;const o=lt(ct(e)),l=null!==(t=o.apiKey)&&void 0!==t?t:null,c=null!==(n=o.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=o.mode)&&void 0!==r?r:null);Zn(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(i=o.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(s=o.lang)&&void 0!==s?s:null,this.tenantId=null!==(a=o.tenantId)&&void 0!==a?a:null}static parseLink(e){const t=function(e){const t=lt(ct(e)).link,n=t?lt(ct(t)).deep_link_id:null,r=lt(ct(e)).deep_link_id;return(r?lt(ct(r)).link:null)||r||n||t||e}(e);try{return new Ci(t)}catch(n){return null}}}class Ii{constructor(){this.providerId=Ii.PROVIDER_ID}static credential(e,t){return _i._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=Ci.parseLink(t);return Zn(n,"argument-error"),_i._fromEmailAndCode(e,n.code,n.tenantId)}}Ii.PROVIDER_ID="password",Ii.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Ii.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Ni{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Ai extends Ni{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Pi extends Ai{constructor(){super("facebook.com")}static credential(e){return xi._fromParams({providerId:Pi.PROVIDER_ID,signInMethod:Pi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Pi.credentialFromTaggedObject(e)}static credentialFromError(e){return Pi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Pi.credential(t.oauthAccessToken)}catch(n){return null}}}Pi.FACEBOOK_SIGN_IN_METHOD="facebook.com",Pi.PROVIDER_ID="facebook.com";class ji extends Ai{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return xi._fromParams({providerId:ji.PROVIDER_ID,signInMethod:ji.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return ji.credentialFromTaggedObject(e)}static credentialFromError(e){return ji.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return ji.credential(n,r)}catch(i){return null}}}ji.GOOGLE_SIGN_IN_METHOD="google.com",ji.PROVIDER_ID="google.com";class Ri extends Ai{constructor(){super("github.com")}static credential(e){return xi._fromParams({providerId:Ri.PROVIDER_ID,signInMethod:Ri.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ri.credentialFromTaggedObject(e)}static credentialFromError(e){return Ri.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Ri.credential(t.oauthAccessToken)}catch(n){return null}}}Ri.GITHUB_SIGN_IN_METHOD="github.com",Ri.PROVIDER_ID="github.com";class Di extends Ai{constructor(){super("twitter.com")}static credential(e,t){return xi._fromParams({providerId:Di.PROVIDER_ID,signInMethod:Di.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Di.credentialFromTaggedObject(e)}static credentialFromError(e){return Di.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return Di.credential(n,r)}catch(i){return null}}}async function Oi(e,t){return mr(e,"POST","/v1/accounts:signUp",hr(e,t))}Di.TWITTER_SIGN_IN_METHOD="twitter.com",Di.PROVIDER_ID="twitter.com";class Li{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await Or._fromIdTokenResponse(e,n,r),s=Mi(n);return new Li({user:i,providerId:s,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=Mi(n);return new Li({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function Mi(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class Fi extends nt{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,Fi.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new Fi(e,t,n,r)}}function Ui(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(n=>{if("auth/multi-factor-auth-required"===n.code)throw Fi._fromErrorAndOperation(e,n,t,r);throw n})}async function Vi(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await Ir(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Li._forOperation(e,"link",r)}async function zi(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e;if(kn(r.app))return Promise.reject(Jn(r));const i="reauthenticate";try{const s=await Ir(e,Ui(r,i,t,e),n);Zn(s.idToken,r,"internal-error");const a=Tr(s.idToken);Zn(a,r,"internal-error");const{sub:o}=a;return Zn(e.uid===o,r,"user-mismatch"),Li._forOperation(e,i,s)}catch(fv){throw"auth/user-not-found"===(null===fv||void 0===fv?void 0:fv.code)&&Gn(r,"user-mismatch"),fv}}async function Bi(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(kn(e.app))return Promise.reject(Jn(e));const r="signIn",i=await Ui(e,r,t),s=await Li._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(s.user),s}async function $i(e,t){return Bi(ri(e),t)}async function qi(e,t){return zi(ht(e),t)}async function Hi(e){const t=ri(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function Wi(e,t,n){const{auth:r}=e,i={idToken:await e.getIdToken(),returnSecureToken:!0};t&&(i.email=t),n&&(i.password=n);const s=await Ir(e,async function(e,t){return fr(e,"POST","/v1/accounts:update",t)}(r,i));await e._updateTokensIfNecessary(s,!0)}function Ki(e,t,n,r){return ht(e).onAuthStateChanged(t,n,r)}function Gi(e,t){return fr(e,"POST","/v2/accounts/mfaEnrollment:start",hr(e,t))}new WeakMap;const Qi="__sak";class Yi{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Qi,"1"),this.storage.removeItem(Qi),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class Ji extends Yi{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Xr(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys((e,t,n)=>{this.notifyListeners(e,n)});const n=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);Jr()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Ji.type="LOCAL";const Xi=Ji;function Zi(e){var t,n;const r=e.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),i=RegExp(`${r}=([^;]+)`);return null!==(n=null===(t=document.cookie.match(i))||void 0===t?void 0:t[1])&&void 0!==n?n:null}function es(e){return`${"http:"===window.location.protocol?"__dev_":"__HOST-"}FIREBASE_${e.split(":")[3]}`}class ts{constructor(){this.type="COOKIE",this.listenerUnsubscribes=new Map}_getFinalTarget(e){if(void 0===typeof window)return e;const t=new URL(`${window.location.origin}/__cookies__`);return t.searchParams.set("finalTarget",e),t}async _isAvailable(){var e;return!("boolean"===typeof isSecureContext&&!isSecureContext)&&("undefined"!==typeof navigator&&"undefined"!==typeof document&&(null===(e=navigator.cookieEnabled)||void 0===e||e))}async _set(e,t){}async _get(e){if(!this._isAvailable())return null;const t=es(e);if(window.cookieStore){const e=await window.cookieStore.get(t);return null===e||void 0===e?void 0:e.value}return Zi(t)}async _remove(e){if(!this._isAvailable())return;if(!await this._get(e))return;const t=es(e);document.cookie=`${t}=;Max-Age=34560000;Partitioned;Secure;SameSite=Strict;Path=/;Priority=High`,await fetch("/__cookies__",{method:"DELETE"}).catch(()=>{})}_addListener(e,t){if(!this._isAvailable())return;const n=es(e);if(window.cookieStore){const e=e=>{const r=e.changed.find(e=>e.name===n);r&&t(r.value);e.deleted.find(e=>e.name===n)&&t(null)},r=()=>window.cookieStore.removeEventListener("change",e);return this.listenerUnsubscribes.set(t,r),window.cookieStore.addEventListener("change",e)}let r=Zi(n);const i=setInterval(()=>{const e=Zi(n);e!==r&&(t(e),r=e)},1e3);this.listenerUnsubscribes.set(t,()=>clearInterval(i))}_removeListener(e,t){const n=this.listenerUnsubscribes.get(t);n&&(n(),this.listenerUnsubscribes.delete(t))}}ts.type="COOKIE";class ns extends Yi{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}ns.type="SESSION";const rs=ns;class is{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(t=>t.isListeningto(e));if(t)return t;const n=new is(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,s=this.handlersMap[r];if(!(null===s||void 0===s?void 0:s.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const a=Array.from(s).map(async e=>e(t.origin,i)),o=await function(e){return Promise.all(e.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}(a);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:o})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function ss(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}is.receivers=[];class as{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,s;return new Promise((a,o)=>{const l=ss("",20);r.port1.start();const c=setTimeout(()=>{o(new Error("unsupported_event"))},n);s={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),i=setTimeout(()=>{o(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(t.data.response);break;default:clearTimeout(c),clearTimeout(i),o(new Error("invalid_response"))}}},this.handlers.add(s),r.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}function os(){return window}function ls(){return"undefined"!==typeof os().WorkerGlobalScope&&"function"===typeof os().importScripts}const cs="firebaseLocalStorageDb",us="firebaseLocalStorage",ds="fbase_key";class hs{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function fs(e,t){return e.transaction([us],t?"readwrite":"readonly").objectStore(us)}function ps(){const e=indexedDB.open(cs,1);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const t=e.result;try{t.createObjectStore(us,{keyPath:ds})}catch(fv){n(fv)}}),e.addEventListener("success",async()=>{const n=e.result;n.objectStoreNames.contains(us)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(cs);return new hs(e).toPromise()}(),t(await ps()))})})}async function ms(e,t,n){const r=fs(e,!0).put({[ds]:t,value:n});return new hs(r).toPromise()}function gs(e,t){const n=fs(e,!0).delete(t);return new hs(n).toPromise()}class vs{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db||(this.db=await ps()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(fv){if(t++>3)throw fv;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return ls()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=is._getInstance(ls()?self:null),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new as(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ps();return await ms(e,Qi,"1"),await gs(e,Qi),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>ms(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(t=>async function(e,t){const n=fs(e,!1).get(t),r=await new hs(n).toPromise();return void 0===r?null:r.value}(t,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>gs(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(e=>{const t=fs(e,!1).getAll();return new hs(t).toPromise()});if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}vs.type="LOCAL";const ys=vs;function bs(e,t){return fr(e,"POST","/v2/accounts/mfaSignIn:start",hr(e,t))}oi("rcb"),new ar(3e4,6e4);const ws="recaptcha";async function _s(e,t,n){var r;if(!e._getRecaptchaConfig())try{await pi(e)}catch(i){console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let i;if(i="string"===typeof t?{phoneNumber:t}:t,"session"in i){const t=i.session;if("phoneNumber"in i){Zn("enroll"===t.type,e,"internal-error");const r={idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"}},s=fi(e,r,"mfaSmsEnrollment",async(e,t)=>{if(t.phoneEnrollmentInfo.captchaResponse===ui){Zn((null===n||void 0===n?void 0:n.type)===ws,e,"argument-error");return Gi(e,await Es(e,t,n))}return Gi(e,t)},"PHONE_PROVIDER");return(await s.catch(e=>Promise.reject(e))).phoneSessionInfo.sessionInfo}{Zn("signin"===t.type,e,"internal-error");const s=(null===(r=i.multiFactorHint)||void 0===r?void 0:r.uid)||i.multiFactorUid;Zn(s,e,"missing-multi-factor-info");const a={mfaPendingCredential:t.credential,mfaEnrollmentId:s,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}},o=fi(e,a,"mfaSmsSignIn",async(e,t)=>{if(t.phoneSignInInfo.captchaResponse===ui){Zn((null===n||void 0===n?void 0:n.type)===ws,e,"argument-error");return bs(e,await Es(e,t,n))}return bs(e,t)},"PHONE_PROVIDER");return(await o.catch(e=>Promise.reject(e))).phoneResponseInfo.sessionInfo}}{const t={phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"},r=fi(e,t,"sendVerificationCode",async(e,t)=>{if(t.captchaResponse===ui){Zn((null===n||void 0===n?void 0:n.type)===ws,e,"argument-error");return Si(e,await Es(e,t,n))}return Si(e,t)},"PHONE_PROVIDER");return(await r.catch(e=>Promise.reject(e))).sessionInfo}}finally{null===n||void 0===n||n._reset()}}async function Es(e,t,n){Zn(n.type===ws,e,"argument-error");const r=await n.verify();Zn("string"===typeof r,e,"argument-error");const i=Object.assign({},t);if("phoneEnrollmentInfo"in i){const e=i.phoneEnrollmentInfo.phoneNumber,t=i.phoneEnrollmentInfo.captchaResponse,n=i.phoneEnrollmentInfo.clientType,s=i.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(i,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:r,captchaResponse:t,clientType:n,recaptchaVersion:s}}),i}if("phoneSignInInfo"in i){const e=i.phoneSignInInfo.captchaResponse,t=i.phoneSignInInfo.clientType,n=i.phoneSignInInfo.recaptchaVersion;return Object.assign(i,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:e,clientType:t,recaptchaVersion:n}}),i}return Object.assign(i,{recaptchaToken:r}),i}class xs{constructor(e){this.providerId=xs.PROVIDER_ID,this.auth=ri(e)}verifyPhoneNumber(e,t){return _s(this.auth,e,ht(t))}static credential(e,t){return Ti._fromVerification(e,t)}static credentialFromResult(e){const t=e;return xs.credentialFromTaggedObject(t)}static credentialFromError(e){return xs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?Ti._fromTokenResponse(n,r):null}}function Ss(e,t){return t?Mr(t):(Zn(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}xs.PROVIDER_ID="phone",xs.PHONE_SIGN_IN_METHOD="phone";class ks extends yi{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ei(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Ei(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Ei(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Ts(e){return Bi(e.auth,new ks(e),e.bypassAuthState)}function Cs(e){const{auth:t,user:n}=e;return Zn(n,t,"internal-error"),zi(n,new ks(e),e.bypassAuthState)}async function Is(e){const{auth:t,user:n}=e;return Zn(n,t,"internal-error"),Vi(n,new ks(e),e.bypassAuthState)}class Ns{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(fv){this.reject(fv)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:s,type:a}=e;if(s)return void this.reject(s);const o={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(o))}catch(fv){this.reject(fv)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Ts;case"linkViaPopup":case"linkViaRedirect":return Is;case"reauthViaPopup":case"reauthViaRedirect":return Cs;default:Gn(this.auth,"internal-error")}}resolve(e){tr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){tr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const As=new ar(2e3,1e4);class Ps extends Ns{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,Ps.currentPopupAction&&Ps.currentPopupAction.cancel(),Ps.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Zn(e,this.auth,"internal-error"),e}async onExecution(){tr(1===this.filter.length,"Popup operations only handle one event");const e=ss();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(Qn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(Qn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ps.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Qn(this.auth,"popup-closed-by-user"))},8e3):this.pollId=window.setTimeout(e,As.get())};e()}}Ps.currentPopupAction=null;const js=new Map;class Rs extends Ns{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=js.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=Ls(t),r=Os(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(fv){e=()=>Promise.reject(fv)}js.set(this.auth._key(),e)}return this.bypassAuthState||js.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function Ds(e,t){js.set(e._key(),t)}function Os(e){return Mr(e._redirectPersistence)}function Ls(e){return Vr("pendingRedirect",e.config.apiKey,e.name)}async function Ms(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(kn(e.app))return Promise.reject(Jn(e));const r=ri(e),i=Ss(r,t),s=new Rs(r,i,n),a=await s.execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,t)),a}class Fs{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Vs(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!Vs(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Qn(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Us(e))}saveEventToCache(e){this.cachedEventUids.add(Us(e)),this.lastProcessedEventTime=Date.now()}}function Us(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(e=>e).join("-")}function Vs(e){let{type:t,error:n}=e;return"unknown"===t&&"auth/no-auth-event"===(null===n||void 0===n?void 0:n.code)}const zs=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Bs=/^https?/;async function $s(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return fr(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const r of t)try{if(qs(r))return}catch(n){}Gn(e,"unauthorized-domain")}function qs(e){const t=nr(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!Bs.test(n))return!1;if(zs.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const Hs=new ar(3e4,6e4);function Ws(){const e=os().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function Ks(e){return new Promise((t,n)=>{var r,i,s;function a(){Ws(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Ws(),n(Qn(e,"network-request-failed"))},timeout:Hs.get()})}if(null===(i=null===(r=os().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(s=os().gapi)||void 0===s?void 0:s.load)){const t=oi("iframefcb");return os()[t]=()=>{gapi.load?a():n(Qn(e,"network-request-failed"))},ai(`${si.gapiScript}?onload=${t}`).catch(e=>n(e))}a()}}).catch(e=>{throw Gs=null,e})}let Gs=null;const Qs=new ar(5e3,15e3),Ys={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Js=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Xs(e){const t=e.config;Zn(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?or(t,"emulator/auth/iframe"):`https://${e.config.authDomain}/__/auth/iframe`,r={apiKey:t.apiKey,appName:e.name,v:In},i=Js.get(e.config.apiHost);i&&(r.eid=i);const s=e._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${ot(r).slice(1)}`}async function Zs(e){const t=await function(e){return Gs=Gs||Ks(e),Gs}(e),n=os().gapi;return Zn(n,e,"internal-error"),t.open({where:document.body,url:Xs(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ys,dontclear:!0},t=>new Promise(async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=Qn(e,"network-request-failed"),s=os().setTimeout(()=>{r(i)},Qs.get());function a(){os().clearTimeout(s),n(t)}t.ping(a).then(a,()=>{r(i)})}))}const ea={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class ta{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(fv){}}}function na(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const s=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let o="";const l=Object.assign(Object.assign({},ea),{width:r.toString(),height:i.toString(),top:s,left:a}),c=Xe().toLowerCase();n&&(o=Hr(c)?"_blank":n),$r(c)&&(t=t||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce((e,t)=>{let[n,r]=t;return`${e}${n}=${r},`},"");if(function(){var e;return Yr(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xe())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==o)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",o),new ta(null);const d=window.open(t||"",o,u);Zn(d,e,"popup-blocked");try{d.focus()}catch(fv){}return new ta(d)}const ra="__/auth/handler",ia="emulator/auth/handler",sa=encodeURIComponent("fac");async function aa(e,t,n,r,i,s){Zn(e.config.authDomain,e,"auth-domain-config-required"),Zn(e.config.apiKey,e,"invalid-api-key");const a={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:In,eventId:i};if(t instanceof Ni){t.setDefaultLanguage(e.languageCode),a.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(a.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(s||{}))a[e]=t}if(t instanceof Ai){const e=t.getScopes().filter(e=>""!==e);e.length>0&&(a.scopes=e.join(","))}e.tenantId&&(a.tid=e.tenantId);const o=a;for(const u of Object.keys(o))void 0===o[u]&&delete o[u];const l=await e._getAppCheckToken(),c=l?`#${sa}=${encodeURIComponent(l)}`:"";return`${function(e){let{config:t}=e;if(!t.emulator)return`https://${t.authDomain}/${ra}`;return or(t,ia)}(e)}?${ot(o).slice(1)}${c}`}const oa="webStorageSupport";const la=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=rs,this._completeRedirectFn=Ms,this._overrideRedirectResult=Ds}async _openPopup(e,t,n,r){var i;tr(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return na(e,await aa(e,t,n,nr(),r),ss())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){os().location.href=e}(await aa(e,t,n,nr(),r)),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(tr(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){const t=await Zs(e),n=new Fs(e);return t.register("authEvent",t=>{Zn(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(oa,{type:oa},n=>{var r;const i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[oa];void 0!==i&&t(!!i),Gn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=$s(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Xr()||qr()||Yr()}};var ca="@firebase/auth",ua="1.10.8";class da{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Zn(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const ha=He("authIdTokenMaxAge")||300;let fa=null;var pa;si={loadJS:e=>new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=Qn("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="},pa="Browser",xn(new ft("auth",(e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:o}=r.options;Zn(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:a,authDomain:o,clientPlatform:pa,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Zr(pa)},c=new ni(r,i,s,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Mr);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),xn(new ft("auth-internal",e=>(e=>new da(e))(ri(e.getProvider("auth").getImmediate())),"PRIVATE").setInstantiationMode("EXPLICIT")),Pn(ca,ua,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(pa)),Pn(ca,ua,"esm2017");var ma,ga,va="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},ya={};(function(){var e;function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function n(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var s=e.g[3],a=t+(s^n&(i^s))+r[0]+3614090360&4294967295;a=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=n+(a<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[3]+3250441966&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^n&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[7]+4249261313&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^n&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[11]+2304563134&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^n&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[15]+1236535329&4294967295)<<22&4294967295|a>>>10))+((a=t+(i^s&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[11]+643717713&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^s&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[15]+3634488961&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^s&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[3]+4107603335&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^s&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[7]+1735328473&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|a>>>12))+((a=t+(n^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[14]+4259657740&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[10]+3200236656&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^s)+r[13]+681279174&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[6]+76029189&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[15]+530742520&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[2]+3299628645&4294967295)<<23&4294967295|a>>>9))+((a=t+(i^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|a>>>17))+((a=n+(s^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|a>>>11))+((a=t+(i^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|a>>>17))+((a=n+(s^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|a>>>11))+((a=t+(i^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|a>>>17))+((a=n+(s^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|a>>>11))+((s=(t=n+((a=t+(i^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|a>>>22))^((i=s+((a=i+(t^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|a>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(a<<21&4294967295|a>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+s&4294967295}function r(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var s=0|e[i];r&&s==t||(n[i]=s,r=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.D=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.C=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}(t,function(){this.blockSize=-1}),t.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.u=function(e,t){void 0===t&&(t=e.length);for(var r=t-this.blockSize,i=this.B,s=this.h,a=0;a<t;){if(0==s)for(;a<=r;)n(this,e,a),a+=this.blockSize;if("string"===typeof e){for(;a<t;)if(i[s++]=e.charCodeAt(a++),s==this.blockSize){n(this,i),s=0;break}}else for(;a<t;)if(i[s++]=e[a++],s==this.blockSize){n(this,i),s=0;break}}this.h=s,this.o+=t},t.prototype.v=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.o;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.u(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var i={};function s(e){return-128<=e&&128>e?function(e,t){var n=i;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,function(e){return new r([0|e],0>e?-1:0)}):new r([0|e],0>e?-1:0)}function a(e){if(isNaN(e)||!isFinite(e))return o;if(0>e)return h(a(-e));for(var t=[],n=1,i=0;e>=n;i++)t[i]=e/n|0,n*=4294967296;return new r(t,0)}var o=s(0),l=s(1),c=s(16777216);function u(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function d(e){return-1==e.h}function h(e){for(var t=e.g.length,n=[],i=0;i<t;i++)n[i]=~e.g[i];return new r(n,~e.h).add(l)}function f(e,t){return e.add(h(t))}function p(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function m(e,t){this.g=e,this.h=t}function g(e,t){if(u(t))throw Error("division by zero");if(u(e))return new m(o,o);if(d(e))return t=g(h(e),t),new m(h(t.g),h(t.h));if(d(t))return t=g(e,h(t)),new m(h(t.g),t.h);if(30<e.g.length){if(d(e)||d(t))throw Error("slowDivide_ only works with positive integers.");for(var n=l,r=t;0>=r.l(e);)n=v(n),r=v(r);var i=y(n,1),s=y(r,1);for(r=y(r,2),n=y(n,2);!u(r);){var c=s.add(r);0>=c.l(e)&&(i=i.add(n),s=c),r=y(r,1),n=y(n,1)}return t=f(e,i.j(t)),new m(i,t)}for(i=o;0<=e.l(t);){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),c=(s=a(n)).j(t);d(c)||0<c.l(e);)c=(s=a(n-=r)).j(t);u(s)&&(s=l),i=i.add(s),e=f(e,c)}return new m(i,e)}function v(e){for(var t=e.g.length+1,n=[],i=0;i<t;i++)n[i]=e.i(i)<<1|e.i(i-1)>>>31;return new r(n,e.h)}function y(e,t){var n=t>>5;t%=32;for(var i=e.g.length-n,s=[],a=0;a<i;a++)s[a]=0<t?e.i(a+n)>>>t|e.i(a+n+1)<<32-t:e.i(a+n);return new r(s,e.h)}(e=r.prototype).m=function(){if(d(this))return-h(this).m();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.i(n);e+=(0<=r?r:4294967296+r)*t,t*=4294967296}return e},e.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(u(this))return"0";if(d(this))return"-"+h(this).toString(e);for(var t=a(Math.pow(e,6)),n=this,r="";;){var i=g(n,t).g,s=((0<(n=f(n,i.j(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(u(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},e.i=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return d(e=f(this,e))?-1:u(e)?0:1},e.abs=function(){return d(this)?h(this):this},e.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0,s=0;s<=t;s++){var a=i+(65535&this.i(s))+(65535&e.i(s)),o=(a>>>16)+(this.i(s)>>>16)+(e.i(s)>>>16);i=o>>>16,a&=65535,o&=65535,n[s]=o<<16|a}return new r(n,-2147483648&n[n.length-1]?-1:0)},e.j=function(e){if(u(this)||u(e))return o;if(d(this))return d(e)?h(this).j(h(e)):h(h(this).j(e));if(d(e))return h(this.j(h(e)));if(0>this.l(c)&&0>e.l(c))return a(this.m()*e.m());for(var t=this.g.length+e.g.length,n=[],i=0;i<2*t;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(var s=0;s<e.g.length;s++){var l=this.i(i)>>>16,f=65535&this.i(i),m=e.i(s)>>>16,g=65535&e.i(s);n[2*i+2*s]+=f*g,p(n,2*i+2*s),n[2*i+2*s+1]+=l*g,p(n,2*i+2*s+1),n[2*i+2*s+1]+=f*m,p(n,2*i+2*s+1),n[2*i+2*s+2]+=l*m,p(n,2*i+2*s+2)}for(i=0;i<t;i++)n[i]=n[2*i+1]<<16|n[2*i];for(i=t;i<2*t;i++)n[i]=0;return new r(n,0)},e.A=function(e){return g(this,e).h},e.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)&e.i(i);return new r(n,this.h&e.h)},e.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)|e.i(i);return new r(n,this.h|e.h)},e.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)^e.i(i);return new r(n,this.h^e.h)},t.prototype.digest=t.prototype.v,t.prototype.reset=t.prototype.s,t.prototype.update=t.prototype.u,ga=ya.Md5=t,r.prototype.add=r.prototype.add,r.prototype.multiply=r.prototype.j,r.prototype.modulo=r.prototype.A,r.prototype.compare=r.prototype.l,r.prototype.toNumber=r.prototype.m,r.prototype.toString=r.prototype.toString,r.prototype.getBits=r.prototype.i,r.fromNumber=a,r.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return h(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=a(Math.pow(n,8)),i=o,s=0;s<t.length;s+=8){var l=Math.min(8,t.length-s),c=parseInt(t.substring(s,s+l),n);8>l?(l=a(Math.pow(n,l)),i=i.j(l).add(a(c))):i=(i=i.j(r)).add(a(c))}return i},ma=ya.Integer=r}).apply("undefined"!==typeof va?va:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var ba,wa,_a,Ea,xa,Sa,ka,Ta,Ca="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Ia={};(function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e};var n=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof Ca&&Ca];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);!function(e,r){if(r)e:{var i=n;e=e.split(".");for(var s=0;s<e.length-1;s++){var a=e[s];if(!(a in i))break e;i=i[a]}(r=r(s=i[e=e[e.length-1]]))!=s&&null!=r&&t(i,e,{configurable:!0,writable:!0,value:r})}}("Array.prototype.values",function(e){return e||function(){return function(e,t){e instanceof String&&(e+="");var n=0,r=!1,i={next:function(){if(!r&&n<e.length){var i=n++;return{value:t(i,e[i]),done:!1}}return r=!0,{done:!0,value:void 0}}};return i[Symbol.iterator]=function(){return i},i}(this,function(e,t){return t})}});var r=r||{},i=this||self;function s(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function a(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function o(e,t,n){return e.call.apply(e.bind,arguments)}function l(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function c(e,t,n){return(c=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?o:l).apply(null,arguments)}function u(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function d(e,t){function n(){}n.prototype=t.prototype,e.aa=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Qb=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}function h(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function f(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(s(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function p(e){return/^[\s\xa0]*$/.test(e)}function m(){var e=i.navigator;return e&&(e=e.userAgent)?e:""}function g(e){return g[" "](e),e}g[" "]=function(){};var v=-1!=m().indexOf("Gecko")&&!(-1!=m().toLowerCase().indexOf("webkit")&&-1==m().indexOf("Edge"))&&!(-1!=m().indexOf("Trident")||-1!=m().indexOf("MSIE"))&&-1==m().indexOf("Edge");function y(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function b(e){const t={};for(const n in e)t[n]=e[n];return t}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function _(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<w.length;t++)n=w[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function E(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function x(e){i.setTimeout(()=>{throw e},0)}function S(){var e=N;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var k=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new T,e=>e.reset());class T{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let C,I=!1,N=new class{constructor(){this.h=this.g=null}add(e,t){const n=k.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},A=()=>{const e=i.Promise.resolve(void 0);C=()=>{e.then(P)}};var P=()=>{for(var e;e=S();){try{e.h.call(e.g)}catch(n){x(n)}var t=k;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}I=!1};function j(){this.s=this.s,this.C=this.C}function R(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}j.prototype.s=!1,j.prototype.ma=function(){this.s||(this.s=!0,this.N())},j.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},R.prototype.h=function(){this.defaultPrevented=!0};var D=function(){if(!i.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};i.addEventListener("test",e,t),i.removeEventListener("test",e,t)}catch(n){}return e}();function O(e,t){if(R.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(v){e:{try{g(t.nodeName);var i=!0;break e}catch(s){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:L[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&O.aa.h.call(this)}}d(O,R);var L={2:"touch",3:"pen",4:"mouse"};O.prototype.h=function(){O.aa.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var M="closure_listenable_"+(1e6*Math.random()|0),F=0;function U(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++F,this.da=this.fa=!1}function V(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function z(e){this.src=e,this.g={},this.h=0}function B(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],s=Array.prototype.indexOf.call(i,t,void 0);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(V(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function $(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.da&&s.listener==t&&s.capture==!!n&&s.ha==r)return i}return-1}z.prototype.add=function(e,t,n,r,i){var s=e.toString();(e=this.g[s])||(e=this.g[s]=[],this.h++);var a=$(e,t,r,i);return-1<a?(t=e[a],n||(t.fa=!1)):((t=new U(t,this.src,s,!!r,i)).fa=n,e.push(t)),t};var q="closure_lm_"+(1e6*Math.random()|0),H={};function W(e,t,n,r,i){if(r&&r.once)return G(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)W(e,t[s],n,r,i);return null}return n=te(n),e&&e[M]?e.K(t,n,a(r)?!!r.capture:!!r,i):K(e,t,n,!1,r,i)}function K(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var o=a(i)?!!i.capture:!!i,l=Z(e);if(l||(e[q]=l=new z(e)),(n=l.add(t,n,r,o,s)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=X;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)D||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(J(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function G(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)G(e,t[s],n,r,i);return null}return n=te(n),e&&e[M]?e.L(t,n,a(r)?!!r.capture:!!r,i):K(e,t,n,!0,r,i)}function Q(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)Q(e,t[s],n,r,i);else r=a(r)?!!r.capture:!!r,n=te(n),e&&e[M]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=$(s=e.g[t],n,r,i))&&(V(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete e.g[t],e.h--)))):e&&(e=Z(e))&&(t=e.g[t.toString()],e=-1,t&&(e=$(t,n,r,i)),(n=-1<e?t[e]:null)&&Y(n))}function Y(e){if("number"!==typeof e&&e&&!e.da){var t=e.src;if(t&&t[M])B(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(J(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Z(t))?(B(n,e),0==n.h&&(n.src=null,t[q]=null)):V(e)}}}function J(e){return e in H?H[e]:H[e]="on"+e}function X(e,t){if(e.da)e=!0;else{t=new O(t,this);var n=e.listener,r=e.ha||e.src;e.fa&&Y(e),e=n.call(r,t)}return e}function Z(e){return(e=e[q])instanceof z?e:null}var ee="__closure_events_fn_"+(1e9*Math.random()>>>0);function te(e){return"function"===typeof e?e:(e[ee]||(e[ee]=function(t){return e.handleEvent(t)}),e[ee])}function ne(){j.call(this),this.i=new z(this),this.M=this,this.F=null}function re(e,t){var n,r=e.F;if(r)for(n=[];r;r=r.F)n.push(r);if(e=e.M,r=t.type||t,"string"===typeof t)t=new R(t,e);else if(t instanceof R)t.target=t.target||e;else{var i=t;_(t=new R(r,e),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var a=t.g=n[s];i=ie(a,r,!0,t)&&i}if(i=ie(a=t.g=e,r,!0,t)&&i,i=ie(a,r,!1,t)&&i,n)for(s=0;s<n.length;s++)i=ie(a=t.g=n[s],r,!1,t)&&i}function ie(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var a=t[s];if(a&&!a.da&&a.capture==n){var o=a.listener,l=a.ha||a.src;a.fa&&B(e.i,a),i=!1!==o.call(l,r)&&i}}return i&&!r.defaultPrevented}function se(e,t,n){if("function"===typeof e)n&&(e=c(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=c(e.handleEvent,e)}return 2147483647<Number(t)?-1:i.setTimeout(e,t||0)}function ae(e){e.g=se(()=>{e.g=null,e.i&&(e.i=!1,ae(e))},e.l);const t=e.h;e.h=null,e.m.apply(null,t)}d(ne,j),ne.prototype[M]=!0,ne.prototype.removeEventListener=function(e,t,n,r){Q(this,e,t,n,r)},ne.prototype.N=function(){if(ne.aa.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)V(n[r]);delete t.g[e],t.h--}}this.F=null},ne.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},ne.prototype.L=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};class oe extends j{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:ae(this)}N(){super.N(),this.g&&(i.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function le(e){j.call(this),this.h=e,this.g={}}d(le,j);var ce=[];function ue(e){y(e.g,function(e,t){this.g.hasOwnProperty(t)&&Y(e)},e),e.g={}}le.prototype.N=function(){le.aa.N.call(this),ue(this)},le.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var de=i.JSON.stringify,he=i.JSON.parse,fe=class{stringify(e){return i.JSON.stringify(e,void 0)}parse(e){return i.JSON.parse(e,void 0)}};function pe(){}function me(e){return e.h||(e.h=e.i())}function ge(){}pe.prototype.h=null;var ve={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ye(){R.call(this,"d")}function be(){R.call(this,"c")}d(ye,R),d(be,R);var we={},_e=null;function Ee(){return _e=_e||new ne}function xe(e){R.call(this,we.La,e)}function Se(e){const t=Ee();re(t,new xe(t))}function ke(e,t){R.call(this,we.STAT_EVENT,e),this.stat=t}function Te(e){const t=Ee();re(t,new ke(t,e))}function Ce(e,t){R.call(this,we.Ma,e),this.size=t}function Ie(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return i.setTimeout(function(){e()},t)}function Ne(){this.g=!0}function Ae(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var a=1;a<i.length;a++)i[a]=""}}}return de(n)}catch(o){return t}}(e,n)+(r?" "+r:"")})}we.La="serverreachability",d(xe,R),we.STAT_EVENT="statevent",d(ke,R),we.Ma="timingevent",d(Ce,R),Ne.prototype.xa=function(){this.g=!1},Ne.prototype.info=function(){};var Pe,je={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Re={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function De(){}function Oe(e,t,n,r){this.j=e,this.i=t,this.l=n,this.R=r||1,this.U=new le(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Le}function Le(){this.i=null,this.g="",this.h=!1}d(De,pe),De.prototype.g=function(){return new XMLHttpRequest},De.prototype.i=function(){return{}},Pe=new De;var Me={},Fe={};function Ue(e,t,n){e.L=1,e.v=dt(at(t)),e.m=n,e.P=!0,Ve(e,null)}function Ve(e,t){e.F=Date.now(),$e(e),e.A=at(e.v);var n=e.A,r=e.R;Array.isArray(r)||(r=[String(r)]),kt(n.i,"t",r),e.C=0,n=e.j.J,e.h=new Le,e.g=fn(e.j,n?t:null,!e.m),0<e.O&&(e.M=new oe(c(e.Y,e,e.g),e.O)),t=e.U,n=e.g,r=e.ca;var i="readystatechange";Array.isArray(i)||(i&&(ce[0]=i.toString()),i=ce);for(var s=0;s<i.length;s++){var a=W(n,i[s],r||t.handleEvent,!1,t.h||t);if(!a)break;t.g[a.key]=a}t=e.H?b(e.H):{},e.m?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.m,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Se(),function(e,t,n,r,i,s){e.info(function(){if(e.g)if(s)for(var a="",o=s.split("&"),l=0;l<o.length;l++){var c=o[l].split("=");if(1<c.length){var u=c[0];c=c[1];var d=u.split("_");a=2<=d.length&&"type"==d[1]?a+(u+"=")+c+"&":a+(u+"=redacted&")}}else a=null;else a=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+a})}(e.i,e.u,e.A,e.l,e.R,e.m)}function ze(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.j.Ca)}function Be(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Fe:(n=Number(t.substring(n,r)),isNaN(n)?Me:(r+=1)+n>t.length?Fe:(t=t.slice(r,r+n),e.C=r+n,t))}function $e(e){e.S=Date.now()+e.I,qe(e,e.I)}function qe(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Ie(c(e.ba,e),t)}function He(e){e.B&&(i.clearTimeout(e.B),e.B=null)}function We(e){0==e.j.G||e.J||ln(e.j,e)}function Ke(e){He(e);var t=e.M;t&&"function"==typeof t.ma&&t.ma(),e.M=null,ue(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.ma())}function Ge(e,t){try{var n=e.j;if(0!=n.G&&(n.g==e||Ze(n.h,e)))if(!e.K&&Ze(n.h,e)&&3==n.G){try{var r=n.Da.g.parse(t)}catch(u){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;on(n),Yt(n)}rn(n),Te(18)}}else n.za=i[1],0<n.za-n.T&&37500>i[2]&&n.F&&0==n.v&&!n.C&&(n.C=Ie(c(n.Za,n),6e3));if(1>=Xe(n.h)&&n.ca){try{n.ca()}catch(u){}n.ca=void 0}}else un(n,11)}else if((e.K||n.g==e)&&on(n),!p(t))for(i=n.Da.g.parse(t),t=0;t<i.length;t++){let c=i[t];if(n.T=c[0],c=c[1],2==n.G)if("c"==c[0]){n.K=c[1],n.ia=c[2];const t=c[3];null!=t&&(n.la=t,n.j.info("VER="+n.la));const i=c[4];null!=i&&(n.Aa=i,n.j.info("SVER="+n.Aa));const u=c[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const d=e.g;if(d){const e=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var s=r.h;s.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(et(s,s.h),s.h=null))}if(r.D){const e=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.ya=e,ut(r.I,r.D,e))}}n.G=3,n.l&&n.l.ua(),n.ba&&(n.R=Date.now()-e.F,n.j.info("Handshake RTT: "+n.R+"ms"));var a=e;if((r=n).qa=hn(r,r.J?r.ia:null,r.W),a.K){tt(r.h,a);var o=a,l=r.L;l&&(o.I=l),o.B&&(He(o),$e(o)),r.g=a}else nn(r);0<n.i.length&&Xt(n)}else"stop"!=c[0]&&"close"!=c[0]||un(n,7);else 3==n.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?un(n,7):Qt(n):"noop"!=c[0]&&n.l&&n.l.ta(c),n.v=0)}Se()}catch(u){}}Oe.prototype.ca=function(e){e=e.target;const t=this.M;t&&3==Ht(e)?t.j():this.Y(e)},Oe.prototype.Y=function(e){try{if(e==this.g)e:{const h=Ht(this.g);var t=this.g.Ba();this.g.Z();if(!(3>h)&&(3!=h||this.g&&(this.h.h||this.g.oa()||Wt(this.g)))){this.J||4!=h||7==t||Se(),He(this);var n=this.g.Z();this.X=n;t:if(ze(this)){var r=Wt(this.g);e="";var s=r.length,a=4==Ht(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Ke(this),We(this);var o="";break t}this.h.i=new i.TextDecoder}for(t=0;t<s;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:!(a&&t==s-1)});r.length=0,this.h.g+=e,this.C=0,o=this.h.g}else o=this.g.oa();if(this.o=200==n,function(e,t,n,r,i,s,a){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+s+" "+a})}(this.i,this.u,this.A,this.l,this.R,h,n),this.o){if(this.T&&!this.K){t:{if(this.g){var l,c=this.g;if((l=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!p(l)){var u=l;break t}}u=null}if(!(n=u)){this.o=!1,this.s=3,Te(12),Ke(this),We(this);break e}Ae(this.i,this.l,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ge(this,n)}if(this.P){let e;for(n=!0;!this.J&&this.C<o.length;){if(e=Be(this,o),e==Fe){4==h&&(this.s=4,Te(14),n=!1),Ae(this.i,this.l,null,"[Incomplete Response]");break}if(e==Me){this.s=4,Te(15),Ae(this.i,this.l,o,"[Invalid Chunk]"),n=!1;break}Ae(this.i,this.l,e,null),Ge(this,e)}if(ze(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=h||0!=o.length||this.h.h||(this.s=1,Te(16),n=!1),this.o=this.o&&n,n){if(0<o.length&&!this.W){this.W=!0;var d=this.j;d.g==this&&d.ba&&!d.M&&(d.j.info("Great, no buffering proxy detected. Bytes received: "+o.length),sn(d),d.M=!0,Te(11))}}else Ae(this.i,this.l,o,"[Invalid Chunked Response]"),Ke(this),We(this)}else Ae(this.i,this.l,o,null),Ge(this,o);4==h&&Ke(this),this.o&&!this.J&&(4==h?ln(this.j,this):(this.o=!1,$e(this)))}else(function(e){const t={};e=(e.g&&2<=Ht(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(p(e[r]))continue;var n=E(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const s=t[i]||[];t[i]=s,s.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,function(e){return e.join(", ")})})(this.g),400==n&&0<o.indexOf("Unknown SID")?(this.s=3,Te(12)):(this.s=0,Te(13)),Ke(this),We(this)}}}catch(h){}},Oe.prototype.cancel=function(){this.J=!0,Ke(this)},Oe.prototype.ba=function(){this.B=null;const e=Date.now();0<=e-this.S?(function(e,t){e.info(function(){return"TIMEOUT: "+t})}(this.i,this.A),2!=this.L&&(Se(),Te(17)),Ke(this),this.s=2,We(this)):qe(this,this.S-e)};var Qe=class{constructor(e,t){this.g=e,this.map=t}};function Ye(e){this.l=e||10,i.PerformanceNavigationTiming?e=0<(e=i.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(i.chrome&&i.chrome.loadTimes&&i.chrome.loadTimes()&&i.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Je(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Xe(e){return e.h?1:e.g?e.g.size:0}function Ze(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function et(e,t){e.g?e.g.add(t):e.h=t}function tt(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function nt(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return h(e.i)}function rt(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(s(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.na&&"function"==typeof e.na)return e.na();if(!e.V||"function"!=typeof e.V){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(s(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.V&&"function"==typeof e.V)return e.V();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(s(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}Ye.prototype.cancel=function(){if(this.i=nt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var it=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function st(e){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,e instanceof st){this.h=e.h,ot(this,e.j),this.o=e.o,this.g=e.g,lt(this,e.s),this.l=e.l;var t=e.i,n=new _t;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),ct(this,n),this.m=e.m}else e&&(t=String(e).match(it))?(this.h=!1,ot(this,t[1]||"",!0),this.o=ht(t[2]||""),this.g=ht(t[3]||"",!0),lt(this,t[4]),this.l=ht(t[5]||"",!0),ct(this,t[6]||"",!0),this.m=ht(t[7]||"")):(this.h=!1,this.i=new _t(null,this.h))}function at(e){return new st(e)}function ot(e,t,n){e.j=n?ht(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function lt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.s=t}else e.s=null}function ct(e,t,n){t instanceof _t?(e.i=t,function(e,t){t&&!e.j&&(Et(e),e.i=null,e.g.forEach(function(e,t){var n=t.toLowerCase();t!=n&&(xt(this,t),kt(this,n,e))},e)),e.j=t}(e.i,e.h)):(n||(t=ft(t,bt)),e.i=new _t(t,e.h))}function ut(e,t,n){e.i.set(t,n)}function dt(e){return ut(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function ht(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function ft(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,pt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function pt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}st.prototype.toString=function(){var e=[],t=this.j;t&&e.push(ft(t,gt,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(ft(t,gt,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.s)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(ft(n,"/"==n.charAt(0)?yt:vt,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",ft(n,wt)),e.join("")};var mt,gt=/[#\/\?@]/g,vt=/[#\?:]/g,yt=/[#\?]/g,bt=/[#\?@]/g,wt=/#/g;function _t(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Et(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function xt(e,t){Et(e),t=Tt(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function St(e,t){return Et(e),t=Tt(e,t),e.g.has(t)}function kt(e,t,n){xt(e,t),0<n.length&&(e.i=null,e.g.set(Tt(e,t),h(n)),e.h+=n.length)}function Tt(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function Ct(e,t,n,r,i){try{i&&(i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null),r(n)}catch(s){}}function It(){this.g=new fe}function Nt(e,t,n){const r=n||"";try{rt(e,function(e,n){let i=e;a(e)&&(i=de(e)),t.push(r+n+"="+encodeURIComponent(i))})}catch(fv){throw t.push(r+"type="+encodeURIComponent("_badmap")),fv}}function At(e){this.l=e.Ub||null,this.j=e.eb||!1}function Pt(e,t){ne.call(this),this.D=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function jt(e){e.j.read().then(e.Pa.bind(e)).catch(e.ga.bind(e))}function Rt(e){e.readyState=4,e.l=null,e.j=null,e.v=null,Dt(e)}function Dt(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Ot(e){let t="";return y(e,function(e,n){t+=n,t+=":",t+=e,t+="\r\n"}),t}function Lt(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Ot(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):ut(e,t,n))}function Mt(e){ne.call(this),this.headers=new Map,this.o=e||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(e=_t.prototype).add=function(e,t){Et(this),this.i=null,e=Tt(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},e.forEach=function(e,t){Et(this),this.g.forEach(function(n,r){n.forEach(function(n){e.call(t,n,r,this)},this)},this)},e.na=function(){Et(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},e.V=function(e){Et(this);let t=[];if("string"===typeof e)St(this,e)&&(t=t.concat(this.g.get(Tt(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},e.set=function(e,t){return Et(this),this.i=null,St(this,e=Tt(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&0<(e=this.V(e)).length?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const s=encodeURIComponent(String(r)),a=this.V(r);for(r=0;r<a.length;r++){var i=s;""!==a[r]&&(i+="="+encodeURIComponent(String(a[r]))),e.push(i)}}return this.i=e.join("&")},d(At,pe),At.prototype.g=function(){return new Pt(this.l,this.j)},At.prototype.i=(mt={},function(){return mt}),d(Pt,ne),(e=Pt.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=e,this.A=t,this.readyState=1,Dt(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.u,method:this.B,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||i).fetch(new Request(this.A,t)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Rt(this)),this.readyState=0},e.Sa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Dt(this)),this.g&&(this.readyState=3,Dt(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if("undefined"!==typeof i.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;jt(this)}else e.text().then(this.Ra.bind(this),this.ga.bind(this))},e.Pa=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.v.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Rt(this):Dt(this),3==this.readyState&&jt(this)}},e.Ra=function(e){this.g&&(this.response=this.responseText=e,Rt(this))},e.Qa=function(e){this.g&&(this.response=e,Rt(this))},e.ga=function(){this.g&&Rt(this)},e.setRequestHeader=function(e,t){this.u.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Pt.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),d(Mt,ne);var Ft=/^https?$/i,Ut=["POST","PUT"];function Vt(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.m=5,zt(e),$t(e)}function zt(e){e.A||(e.A=!0,re(e,"complete"),re(e,"error"))}function Bt(e){if(e.h&&"undefined"!=typeof r&&(!e.v[1]||4!=Ht(e)||2!=e.Z()))if(e.u&&4==Ht(e))se(e.Ea,0,e);else if(re(e,"readystatechange"),4==Ht(e)){e.h=!1;try{const r=e.Z();e:switch(r){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var s;if(s=0===r){var a=String(e.D).match(it)[1]||null;!a&&i.self&&i.self.location&&(a=i.self.location.protocol.slice(0,-1)),s=!Ft.test(a?a.toLowerCase():"")}n=s}if(n)re(e,"complete"),re(e,"success");else{e.m=6;try{var o=2<Ht(e)?e.g.statusText:""}catch(l){o=""}e.l=o+" ["+e.Z()+"]",zt(e)}}finally{$t(e)}}}function $t(e,t){if(e.g){qt(e);const n=e.g,r=e.v[0]?()=>{}:null;e.g=null,e.v=null,t||re(e,"ready");try{n.onreadystatechange=r}catch(fv){}}}function qt(e){e.I&&(i.clearTimeout(e.I),e.I=null)}function Ht(e){return e.g?e.g.readyState:0}function Wt(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.H){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Kt(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Gt(e){this.Aa=0,this.i=[],this.j=new Ne,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Kt("failFast",!1,e),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Kt("baseRetryDelayMs",5e3,e),this.cb=Kt("retryDelaySeedMs",1e4,e),this.Wa=Kt("forwardChannelMaxRetries",2,e),this.wa=Kt("forwardChannelRequestTimeoutMs",2e4,e),this.pa=e&&e.xmlHttpFactory||void 0,this.Xa=e&&e.Tb||void 0,this.Ca=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.h=new Ye(e&&e.concurrentRequestLimit),this.Da=new It,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=e&&e.Rb||!1,e&&e.xa&&this.j.xa(),e&&e.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&e&&e.detectBufferingProxy||!1,this.ja=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.ja=e.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function Qt(e){if(Jt(e),3==e.G){var t=e.U++,n=at(e.I);if(ut(n,"SID",e.K),ut(n,"RID",t),ut(n,"TYPE","terminate"),en(e,n),(t=new Oe(e,e.j,t)).L=2,t.v=dt(at(n)),n=!1,i.navigator&&i.navigator.sendBeacon)try{n=i.navigator.sendBeacon(t.v.toString(),"")}catch(r){}!n&&i.Image&&((new Image).src=t.v,n=!0),n||(t.g=fn(t.j,null),t.g.ea(t.v)),t.F=Date.now(),$e(t)}dn(e)}function Yt(e){e.g&&(sn(e),e.g.cancel(),e.g=null)}function Jt(e){Yt(e),e.u&&(i.clearTimeout(e.u),e.u=null),on(e),e.h.cancel(),e.s&&("number"===typeof e.s&&i.clearTimeout(e.s),e.s=null)}function Xt(e){if(!Je(e.h)&&!e.s){e.s=!0;var t=e.Ga;C||A(),I||(C(),I=!0),N.add(t,e),e.B=0}}function Zt(e,t){var n;n=t?t.l:e.U++;const r=at(e.I);ut(r,"SID",e.K),ut(r,"RID",n),ut(r,"AID",e.T),en(e,r),e.m&&e.o&&Lt(r,e.m,e.o),n=new Oe(e,e.j,n,e.B+1),null===e.m&&(n.H=e.o),t&&(e.i=t.D.concat(e.i)),t=tn(e,n,1e3),n.I=Math.round(.5*e.wa)+Math.round(.5*e.wa*Math.random()),et(e.h,n),Ue(n,r,t)}function en(e,t){e.H&&y(e.H,function(e,n){ut(t,n,e)}),e.l&&rt({},function(e,n){ut(t,n,e)})}function tn(e,t,n){n=Math.min(e.i.length,n);var r=e.l?c(e.l.Na,e.l,e):null;e:{var i=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let a=!0;for(let o=0;o<n;o++){let n=i[o].g;const l=i[o].map;if(n-=t,0>n)t=Math.max(0,i[o].g-100),a=!1;else try{Nt(l,e,"req"+n+"_")}catch(s){r&&r(l)}}if(a){r=e.join("&");break e}}}return e=e.i.splice(0,n),t.D=e,r}function nn(e){if(!e.g&&!e.u){e.Y=1;var t=e.Fa;C||A(),I||(C(),I=!0),N.add(t,e),e.v=0}}function rn(e){return!(e.g||e.u||3<=e.v)&&(e.Y++,e.u=Ie(c(e.Fa,e),cn(e,e.v)),e.v++,!0)}function sn(e){null!=e.A&&(i.clearTimeout(e.A),e.A=null)}function an(e){e.g=new Oe(e,e.j,"rpc",e.Y),null===e.m&&(e.g.H=e.o),e.g.O=0;var t=at(e.qa);ut(t,"RID","rpc"),ut(t,"SID",e.K),ut(t,"AID",e.T),ut(t,"CI",e.F?"0":"1"),!e.F&&e.ja&&ut(t,"TO",e.ja),ut(t,"TYPE","xmlhttp"),en(e,t),e.m&&e.o&&Lt(t,e.m,e.o),e.L&&(e.g.I=e.L);var n=e.g;e=e.ia,n.L=1,n.v=dt(at(t)),n.m=null,n.P=!0,Ve(n,e)}function on(e){null!=e.C&&(i.clearTimeout(e.C),e.C=null)}function ln(e,t){var n=null;if(e.g==t){on(e),sn(e),e.g=null;var r=2}else{if(!Ze(e.h,t))return;n=t.D,tt(e.h,t),r=1}if(0!=e.G)if(t.o)if(1==r){n=t.m?t.m.length:0,t=Date.now()-t.F;var i=e.B;re(r=Ee(),new Ce(r,n)),Xt(e)}else nn(e);else if(3==(i=t.s)||0==i&&0<t.X||!(1==r&&function(e,t){return!(Xe(e.h)>=e.h.j-(e.s?1:0))&&(e.s?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.B>=(e.Va?0:e.Wa))&&(e.s=Ie(c(e.Ga,e,t),cn(e,e.B)),e.B++,!0))}(e,t)||2==r&&rn(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:un(e,5);break;case 4:un(e,10);break;case 3:un(e,6);break;default:un(e,2)}}function cn(e,t){let n=e.Ta+Math.floor(Math.random()*e.cb);return e.isActive()||(n*=2),n*t}function un(e,t){if(e.j.info("Error code "+t),2==t){var n=c(e.fb,e),r=e.Xa;const t=!r;r=new st(r||"//www.google.com/images/cleardot.gif"),i.location&&"http"==i.location.protocol||ot(r,"https"),dt(r),t?function(e,t){const n=new Ne;if(i.Image){const r=new Image;r.onload=u(Ct,n,"TestLoadImage: loaded",!0,t,r),r.onerror=u(Ct,n,"TestLoadImage: error",!1,t,r),r.onabort=u(Ct,n,"TestLoadImage: abort",!1,t,r),r.ontimeout=u(Ct,n,"TestLoadImage: timeout",!1,t,r),i.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}(r.toString(),n):function(e,t){new Ne;const n=new AbortController,r=setTimeout(()=>{n.abort(),Ct(0,0,!1,t)},1e4);fetch(e,{signal:n.signal}).then(e=>{clearTimeout(r),e.ok?Ct(0,0,!0,t):Ct(0,0,!1,t)}).catch(()=>{clearTimeout(r),Ct(0,0,!1,t)})}(r.toString(),n)}else Te(2);e.G=0,e.l&&e.l.sa(t),dn(e),Jt(e)}function dn(e){if(e.G=0,e.ka=[],e.l){const t=nt(e.h);0==t.length&&0==e.i.length||(f(e.ka,t),f(e.ka,e.i),e.h.i.length=0,h(e.i),e.i.length=0),e.l.ra()}}function hn(e,t,n){var r=n instanceof st?at(n):new st(n);if(""!=r.g)t&&(r.g=t+"."+r.g),lt(r,r.s);else{var s=i.location;r=s.protocol,t=t?t+"."+s.hostname:s.hostname,s=+s.port;var a=new st(null);r&&ot(a,r),t&&(a.g=t),s&&lt(a,s),n&&(a.l=n),r=a}return n=e.D,t=e.ya,n&&t&&ut(r,n,t),ut(r,"VER",e.la),en(e,r),r}function fn(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ca&&!e.pa?new Mt(new At({eb:n})):new Mt(e.pa)).Ha(e.J),t}function pn(){}function mn(){}function gn(e,t){ne.call(this),this.g=new Gt(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.va&&(e?e["X-WebChannel-Client-Profile"]=t.va:e={"X-WebChannel-Client-Profile":t.va}),this.g.S=e,(e=t&&t.Sb)&&!p(e)&&(this.g.m=e),this.v=t&&t.supportsCrossDomainXhr||!1,this.u=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!p(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new bn(this)}function vn(e){ye.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function yn(){be.call(this),this.status=1}function bn(e){this.g=e}(e=Mt.prototype).Ha=function(e){this.J=e},e.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Pe.g(),this.v=this.o?me(this.o):me(Pe),this.g.onreadystatechange=c(this.Ea,this);try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(a){return void Vt(this,a)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var s in r)n.set(s,r[s]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find(e=>"content-type"==e.toLowerCase()),s=i.FormData&&e instanceof i.FormData,!(0<=Array.prototype.indexOf.call(Ut,t,void 0))||r||s||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,o]of n)this.g.setRequestHeader(i,o);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{qt(this),this.u=!0,this.g.send(e),this.u=!1}catch(a){Vt(this,a)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=e||7,re(this,"complete"),re(this,"abort"),$t(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),$t(this,!0)),Mt.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?Bt(this):this.bb())},e.bb=function(){Bt(this)},e.isActive=function(){return!!this.g},e.Z=function(){try{return 2<Ht(this)?this.g.status:-1}catch(mt){return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch(mt){return""}},e.Oa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),he(t)}},e.Ba=function(){return this.m},e.Ka=function(){return"string"===typeof this.l?this.l:String(this.l)},(e=Gt.prototype).la=8,e.G=1,e.connect=function(e,t,n,r){Te(0),this.W=e,this.H=t||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.I=hn(this,null,this.W),Xt(this)},e.Ga=function(e){if(this.s)if(this.s=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;const i=new Oe(this,this.j,e);let s=this.o;if(this.S&&(s?(s=b(s),_(s,this.S)):s=this.S),null!==this.m||this.O||(i.H=s,s=null),this.P)e:{for(var t=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=tn(this,i,t),ut(n=at(this.I),"RID",e),ut(n,"CVER",22),this.D&&ut(n,"X-HTTP-Session-Id",this.D),en(this,n),s&&(this.O?t="headers="+encodeURIComponent(String(Ot(s)))+"&"+t:this.m&&Lt(n,this.m,s)),et(this.h,i),this.Ua&&ut(n,"TYPE","init"),this.P?(ut(n,"$req",t),ut(n,"SID","null"),i.T=!0,Ue(i,n,null)):Ue(i,n,t),this.G=2}}else 3==this.G&&(e?Zt(this,e):0==this.i.length||Je(this.h)||Zt(this))},e.Fa=function(){if(this.u=null,an(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var e=2*this.R;this.j.info("BP detection timer enabled: "+e),this.A=Ie(c(this.ab,this),e)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Te(10),Yt(this),an(this))},e.Za=function(){null!=this.C&&(this.C=null,Yt(this),rn(this),Te(19))},e.fb=function(e){e?(this.j.info("Successfully pinged google.com"),Te(2)):(this.j.info("Failed to ping google.com"),Te(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=pn.prototype).ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){},mn.prototype.g=function(e,t){return new gn(e,t)},d(gn,ne),gn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},gn.prototype.close=function(){Qt(this.g)},gn.prototype.o=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.u&&((n={}).__data__=de(e),e=n);t.i.push(new Qe(t.Ya++,e)),3==t.G&&Xt(t)},gn.prototype.N=function(){this.g.l=null,delete this.j,Qt(this.g),delete this.g,gn.aa.N.call(this)},d(vn,ye),d(yn,be),d(bn,pn),bn.prototype.ua=function(){re(this.g,"a")},bn.prototype.ta=function(e){re(this.g,new vn(e))},bn.prototype.sa=function(e){re(this.g,new yn)},bn.prototype.ra=function(){re(this.g,"b")},mn.prototype.createWebChannel=mn.prototype.g,gn.prototype.send=gn.prototype.o,gn.prototype.open=gn.prototype.m,gn.prototype.close=gn.prototype.close,Ta=Ia.createWebChannelTransport=function(){return new mn},ka=Ia.getStatEventTarget=function(){return Ee()},Sa=Ia.Event=we,xa=Ia.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},je.NO_ERROR=0,je.TIMEOUT=8,je.HTTP_ERROR=6,Ea=Ia.ErrorCode=je,Re.COMPLETE="complete",_a=Ia.EventType=Re,ge.EventType=ve,ve.OPEN="a",ve.CLOSE="b",ve.ERROR="c",ve.MESSAGE="d",ne.prototype.listen=ne.prototype.K,wa=Ia.WebChannel=ge,Ia.FetchXmlHttpFactory=At,Mt.prototype.listenOnce=Mt.prototype.L,Mt.prototype.getLastError=Mt.prototype.Ka,Mt.prototype.getLastErrorCode=Mt.prototype.Ba,Mt.prototype.getStatus=Mt.prototype.Z,Mt.prototype.getResponseJson=Mt.prototype.Oa,Mt.prototype.getResponseText=Mt.prototype.oa,Mt.prototype.send=Mt.prototype.ea,Mt.prototype.setWithCredentials=Mt.prototype.Ha,ba=Ia.XhrIo=Mt}).apply("undefined"!==typeof Ca?Ca:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});const Na="@firebase/firestore",Aa="4.8.0";class Pa{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Pa.UNAUTHENTICATED=new Pa(null),Pa.GOOGLE_CREDENTIALS=new Pa("google-credentials-uid"),Pa.FIRST_PARTY=new Pa("first-party-uid"),Pa.MOCK_USER=new Pa("mock-user");let ja="11.10.0";const Ra=new xt("@firebase/firestore");function Da(){return Ra.logLevel}function Oa(e){if(Ra.logLevel<=yt.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Fa);Ra.debug(`Firestore (${ja}): ${e}`,...i)}}function La(e){if(Ra.logLevel<=yt.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Fa);Ra.error(`Firestore (${ja}): ${e}`,...i)}}function Ma(e){if(Ra.logLevel<=yt.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Fa);Ra.warn(`Firestore (${ja}): ${e}`,...i)}}function Fa(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function Ua(e,t,n){let r="Unexpected state";"string"==typeof t?r=t:n=t,Va(e,r,n)}function Va(e,t,n){let r=`FIRESTORE (${ja}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(void 0!==n)try{r+=" CONTEXT: "+JSON.stringify(n)}catch(e){r+=" CONTEXT: "+n}throw La(r),new Error(r)}function za(e,t,n,r){let i="Unexpected state";"string"==typeof n?i=n:r=n,e||Va(t,i,r)}function Ba(e,t){return e}const $a={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class qa extends nt{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ha{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Wa{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Ka{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Pa.UNAUTHENTICATED))}shutdown(){}}class Ga{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Qa{constructor(e){this.t=e,this.currentUser=Pa.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){za(void 0===this.o,42304);let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new Ha;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Ha,e.enqueueRetryable(()=>r(this.currentUser))};const s=()=>{const t=i;e.enqueueRetryable(async()=>{await t.promise,await r(this.currentUser)})},a=e=>{Oa("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(e=>a(e)),setTimeout(()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?a(e):(Oa("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Ha)}},0),s()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(t=>this.i!==e?(Oa("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(za("string"==typeof t.accessToken,31837,{l:t}),new Wa(t.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return za(null===e||"string"==typeof e,2055,{h:e}),new Pa(e)}}class Ya{constructor(e,t,n){this.P=e,this.T=t,this.I=n,this.type="FirstParty",this.user=Pa.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Ja{constructor(e,t,n){this.P=e,this.T=t,this.I=n}getToken(){return Promise.resolve(new Ya(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(Pa.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Xa{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Za{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,kn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){za(void 0===this.o,3512);const n=e=>{null!=e.error&&Oa("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${e.error.message}`);const n=e.token!==this.m;return this.m=e.token,Oa("FirebaseAppCheckTokenProvider",`Received ${n?"new":"existing"} token.`),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable(()=>n(t))};const r=e=>{Oa("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(e=>r(e)),setTimeout(()=>{if(!this.appCheck){const e=this.V.getImmediate({optional:!0});e?r(e):Oa("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Xa(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(e=>e?(za("string"==typeof e.token,44558,{tokenResult:e}),this.m=e.token,new Xa(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function eo(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}function to(){return new TextEncoder}class no{static newId(){const e=62*Math.floor(256/62);let t="";for(;t.length<20;){const n=eo(40);for(let r=0;r<n.length;++r)t.length<20&&n[r]<e&&(t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(n[r]%62))}return t}}function ro(e,t){return e<t?-1:e>t?1:0}function io(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=e.codePointAt(n),i=t.codePointAt(n);if(r!==i){if(r<128&&i<128)return ro(r,i);{const s=to(),a=ao(s.encode(so(e,n)),s.encode(so(t,n)));return 0!==a?a:ro(r,i)}}n+=r>65535?2:1}return ro(e.length,t.length)}function so(e,t){return e.codePointAt(t)>65535?e.substring(t,t+2):e.substring(t,t+1)}function ao(e,t){for(let n=0;n<e.length&&n<t.length;++n)if(e[n]!==t[n])return ro(e[n],t[n]);return ro(e.length,t.length)}function oo(e,t,n){return e.length===t.length&&e.every((e,r)=>n(e,t[r]))}const lo="__name__";class co{constructor(e,t,n){void 0===t?t=0:t>e.length&&Ua(637,{offset:t,range:e.length}),void 0===n?n=e.length-t:n>e.length-t&&Ua(1746,{length:n,range:e.length-t}),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===co.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof co?e.forEach(e=>{t.push(e)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=co.compareSegments(e.get(r),t.get(r));if(0!==n)return n}return ro(e.length,t.length)}static compareSegments(e,t){const n=co.isNumericId(e),r=co.isNumericId(t);return n&&!r?-1:!n&&r?1:n&&r?co.extractNumericId(e).compare(co.extractNumericId(t)):io(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ma.fromString(e.substring(4,e.length-2))}}class uo extends co{construct(e,t,n){return new uo(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new qa($a.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter(e=>e.length>0))}return new uo(e)}static emptyPath(){return new uo([])}}const ho=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class fo extends co{construct(e,t,n){return new fo(e,t,n)}static isValidIdentifier(e){return ho.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),fo.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&this.get(0)===lo}static keyField(){return new fo([lo])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new qa($a.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let s=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new qa($a.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new qa($a.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(s=!s,r++):"."!==t||s?(n+=t,r++):(i(),r++)}if(i(),s)throw new qa($a.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new fo(t)}static emptyPath(){return new fo([])}}class po{constructor(e){this.path=e}static fromPath(e){return new po(uo.fromString(e))}static fromName(e){return new po(uo.fromString(e).popFirst(5))}static empty(){return new po(uo.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===uo.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return uo.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new po(new uo(e.slice()))}}function mo(e,t,n){if(!n)throw new qa($a.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function go(e){if(!po.isDocumentKey(e))throw new qa($a.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function vo(e){if(po.isDocumentKey(e))throw new qa($a.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function yo(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}function bo(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return"function"==typeof e?"a function":Ua(12329,{type:typeof e})}function wo(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new qa($a.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=bo(e);throw new qa($a.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}function _o(e,t){const n={typeString:e};return t&&(n.value=t),n}function Eo(e,t){if(!yo(e))throw new qa($a.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in t)if(t[r]){const i=t[r].typeString,s="value"in t[r]?{value:t[r].value}:void 0;if(!(r in e)){n=`JSON missing required field: '${r}'`;break}const a=e[r];if(i&&typeof a!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(void 0!==s&&a!==s.value){n=`Expected '${r}' field to equal '${s.value}'`;break}}if(n)throw new qa($a.INVALID_ARGUMENT,n);return!0}const xo=-62135596800,So=1e6;class ko{static now(){return ko.fromMillis(Date.now())}static fromDate(e){return ko.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor((e-1e3*t)*So);return new ko(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new qa($a.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new qa($a.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<xo)throw new qa($a.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new qa($a.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/So}_compareTo(e){return this.seconds===e.seconds?ro(this.nanoseconds,e.nanoseconds):ro(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ko._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Eo(e,ko._jsonSchema))return new ko(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-xo;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ko._jsonSchemaVersion="firestore/timestamp/1.0",ko._jsonSchema={type:_o("string",ko._jsonSchemaVersion),seconds:_o("number"),nanoseconds:_o("number")};class To{static fromTimestamp(e){return new To(e)}static min(){return new To(new ko(0,0))}static max(){return new To(new ko(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Co=-1;class Io{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}Io.UNKNOWN_ID=-1;function No(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=To.fromTimestamp(1e9===r?new ko(n+1,0):new ko(n,r));return new Po(i,po.empty(),t)}function Ao(e){return new Po(e.readTime,e.key,Co)}class Po{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new Po(To.min(),po.empty(),Co)}static max(){return new Po(To.max(),po.empty(),Co)}}function jo(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=po.comparator(e.documentKey,t.documentKey),0!==n?n:ro(e.largestBatchId,t.largestBatchId))}const Ro="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Do{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}async function Oo(e){if(e.code!==$a.FAILED_PRECONDITION||e.message!==Ro)throw e;Oa("LocalStore","Unexpectedly lost primary lease")}class Lo{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ua(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Lo((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Lo?t:Lo.resolve(t)}catch(e){return Lo.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Lo.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Lo.reject(t)}static resolve(e){return new Lo((t,n)=>{t(e)})}static reject(e){return new Lo((t,n)=>{n(e)})}static waitFor(e){return new Lo((t,n)=>{let r=0,i=0,s=!1;e.forEach(e=>{++r,e.next(()=>{++i,s&&i===r&&t()},e=>n(e))}),s=!0,i===r&&t()})}static or(e){let t=Lo.resolve(!1);for(const n of e)t=t.next(e=>e?Lo.resolve(e):n());return t}static forEach(e,t){const n=[];return e.forEach((e,r)=>{n.push(t.call(this,e,r))}),this.waitFor(n)}static mapArray(e,t){return new Lo((n,r)=>{const i=e.length,s=new Array(i);let a=0;for(let o=0;o<i;o++){const l=o;t(e[l]).next(e=>{s[l]=e,++a,a===i&&n(s)},e=>r(e))}})}static doWhile(e,t){return new Lo((n,r)=>{const i=()=>{!0===e()?t().next(()=>{i()},r):n()};i()})}}function Mo(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Fo(e){return"IndexedDbTransactionError"===e.name}class Uo{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this._e(e),this.ae=e=>t.writeSequenceNumber(e))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}Uo.ue=-1;const Vo=-1;function zo(e){return null==e}function Bo(e){return 0===e&&1/e==-1/0}function $o(e){return"number"==typeof e&&Number.isInteger(e)&&!Bo(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}const qo="\x01";function Ho(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=Ko(t)),t=Wo(e.get(n),t);return Ko(t)}function Wo(e,t){let n=t;const r=e.length;for(let i=0;i<r;i++){const t=e.charAt(i);switch(t){case"\0":n+="\x01\x10";break;case qo:n+="\x01\x11";break;default:n+=t}}return n}function Ko(e){return e+qo+"\x01"}const Go="remoteDocuments",Qo="owner",Yo="mutationQueues",Jo="mutations";const Xo="documentMutations",Zo="remoteDocumentsV14",el="remoteDocumentGlobal",tl="targets",nl="targetDocuments",rl="targetGlobal",il="collectionParents",sl="clientMetadata",al="bundles",ol="namedQueries",ll="indexConfiguration",cl="indexState",ul="indexEntries",dl="documentOverlays",hl="globals",fl=[Yo,Jo,Xo,Go,tl,Qo,rl,nl,sl,el,il,al,ol],pl=[Yo,Jo,Xo,Zo,tl,Qo,rl,nl,sl,el,il,al,ol,dl],ml=pl,gl=[...ml,ll,cl,ul];function vl(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function yl(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function bl(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class wl{constructor(e,t){this.comparator=e,this.root=t||El.EMPTY}insert(e,t){return new wl(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,El.BLACK,null,null))}remove(e){return new wl(this.comparator,this.root.remove(e,this.comparator).copy(null,null,El.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){const e=[];return this.inorderTraversal((t,n)=>(e.push(`${t}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new _l(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new _l(this.root,e,this.comparator,!1)}getReverseIterator(){return new _l(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new _l(this.root,e,this.comparator,!0)}}class _l{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class El{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:El.RED,this.left=null!=r?r:El.EMPTY,this.right=null!=i?i:El.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new El(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return El.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return El.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,El.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,El.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ua(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ua(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ua(27949);return e+(this.isRed()?0:1)}}El.EMPTY=null,El.RED=!0,El.BLACK=!1,El.EMPTY=new class{constructor(){this.size=0}get key(){throw Ua(57766)}get value(){throw Ua(16141)}get color(){throw Ua(16727)}get left(){throw Ua(29726)}get right(){throw Ua(36894)}copy(e,t,n,r,i){return this}insert(e,t,n){return new El(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class xl{constructor(e){this.comparator=e,this.data=new wl(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Sl(this.data.getIterator())}getIteratorFrom(e){return new Sl(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(e=>{t=t.add(e)}),t}isEqual(e){if(!(e instanceof xl))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new xl(this.comparator);return t.data=e,t}}class Sl{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class kl{constructor(e){this.fields=e,e.sort(fo.comparator)}static empty(){return new kl([])}unionWith(e){let t=new xl(fo.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new kl(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return oo(this.fields,e.fields,(e,t)=>e.isEqual(t))}}class Tl extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Cl{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new Tl("Invalid base64 string: "+e):e}}(e);return new Cl(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new Cl(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ro(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Cl.EMPTY_BYTE_STRING=new Cl("");const Il=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Nl(e){if(za(!!e,39018),"string"==typeof e){let t=0;const n=Il.exec(e);if(za(!!n,46558,{timestamp:e}),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Al(e.seconds),nanos:Al(e.nanos)}}function Al(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Pl(e){return"string"==typeof e?Cl.fromBase64String(e):Cl.fromUint8Array(e)}const jl="server_timestamp",Rl="__type__",Dl="__previous_value__",Ol="__local_write_time__";function Ll(e){var t,n;return(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{})[Rl])||void 0===n?void 0:n.stringValue)===jl}function Ml(e){const t=e.mapValue.fields[Dl];return Ll(t)?Ml(t):t}function Fl(e){const t=Nl(e.mapValue.fields[Ol].timestampValue);return new ko(t.seconds,t.nanos)}class Ul{constructor(e,t,n,r,i,s,a,o,l,c){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=o,this.useFetchStreams=l,this.isUsingEmulator=c}}const Vl="(default)";class zl{constructor(e,t){this.projectId=e,this.database=t||Vl}static empty(){return new zl("","")}get isDefaultDatabase(){return this.database===Vl}isEqual(e){return e instanceof zl&&e.projectId===this.projectId&&e.database===this.database}}const Bl="__type__",$l="__max__",ql={mapValue:{fields:{__type__:{stringValue:$l}}}},Hl="__vector__",Wl="value";function Kl(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Ll(e)?4:uc(e)?9007199254740991:lc(e)?10:11:Ua(28295,{value:e})}function Gl(e,t){if(e===t)return!0;const n=Kl(e);if(n!==Kl(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Fl(e).isEqual(Fl(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=Nl(e.timestampValue),r=Nl(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Pl(e.bytesValue).isEqual(Pl(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Al(e.geoPointValue.latitude)===Al(t.geoPointValue.latitude)&&Al(e.geoPointValue.longitude)===Al(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Al(e.integerValue)===Al(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=Al(e.doubleValue),r=Al(t.doubleValue);return n===r?Bo(n)===Bo(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return oo(e.arrayValue.values||[],t.arrayValue.values||[],Gl);case 10:case 11:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(vl(n)!==vl(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Gl(n[i],r[i])))return!1;return!0}(e,t);default:return Ua(52216,{left:e})}}function Ql(e,t){return void 0!==(e.values||[]).find(e=>Gl(e,t))}function Yl(e,t){if(e===t)return 0;const n=Kl(e),r=Kl(t);if(n!==r)return ro(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ro(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=Al(e.integerValue||e.doubleValue),r=Al(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Jl(e.timestampValue,t.timestampValue);case 4:return Jl(Fl(e),Fl(t));case 5:return io(e.stringValue,t.stringValue);case 6:return function(e,t){const n=Pl(e),r=Pl(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=ro(n[i],r[i]);if(0!==e)return e}return ro(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=ro(Al(e.latitude),Al(t.latitude));return 0!==n?n:ro(Al(e.longitude),Al(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return Xl(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n,r,i,s;const a=e.fields||{},o=t.fields||{},l=null===(n=a[Wl])||void 0===n?void 0:n.arrayValue,c=null===(r=o[Wl])||void 0===r?void 0:r.arrayValue,u=ro((null===(i=null==l?void 0:l.values)||void 0===i?void 0:i.length)||0,(null===(s=null==c?void 0:c.values)||void 0===s?void 0:s.length)||0);return 0!==u?u:Xl(l,c)}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===ql.mapValue&&t===ql.mapValue)return 0;if(e===ql.mapValue)return 1;if(t===ql.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},s=Object.keys(i);r.sort(),s.sort();for(let a=0;a<r.length&&a<s.length;++a){const e=io(r[a],s[a]);if(0!==e)return e;const t=Yl(n[r[a]],i[s[a]]);if(0!==t)return t}return ro(r.length,s.length)}(e.mapValue,t.mapValue);default:throw Ua(23264,{le:n})}}function Jl(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return ro(e,t);const n=Nl(e),r=Nl(t),i=ro(n.seconds,r.seconds);return 0!==i?i:ro(n.nanos,r.nanos)}function Xl(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=Yl(n[i],r[i]);if(e)return e}return ro(n.length,r.length)}function Zl(e){return ec(e)}function ec(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=Nl(e);return`time(${t.seconds},${t.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return Pl(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return po.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return`geo(${e.latitude},${e.longitude})`}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=ec(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+=`${i}:${ec(e.fields[i])}`;return n+"}"}(e.mapValue):Ua(61005,{value:e})}function tc(e){switch(Kl(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Ml(e);return t?16+tc(t):16;case 5:return 2*e.stringValue.length;case 6:return Pl(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(e){return(e.values||[]).reduce((e,t)=>e+tc(t),0)}(e.arrayValue);case 10:case 11:return function(e){let t=0;return yl(e.fields,(e,n)=>{t+=e.length+tc(n)}),t}(e.mapValue);default:throw Ua(13486,{value:e})}}function nc(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function rc(e){return!!e&&"integerValue"in e}function ic(e){return!!e&&"arrayValue"in e}function sc(e){return!!e&&"nullValue"in e}function ac(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function oc(e){return!!e&&"mapValue"in e}function lc(e){var t,n;return(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{})[Bl])||void 0===n?void 0:n.stringValue)===Hl}function cc(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return yl(e.mapValue.fields,(e,n)=>t.mapValue.fields[e]=cc(n)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=cc(e.arrayValue.values[n]);return t}return Object.assign({},e)}function uc(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===$l}class dc{constructor(e){this.value=e}static empty(){return new dc({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!oc(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=cc(t)}setAll(e){let t=fo.emptyPath(),n={},r=[];e.forEach((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=cc(e):r.push(i.lastSegment())});const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());oc(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Gl(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];oc(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){yl(t,(t,n)=>e[t]=n);for(const r of n)delete e[r]}clone(){return new dc(cc(this.value))}}function hc(e){const t=[];return yl(e.fields,(e,n)=>{const r=new fo([e]);if(oc(n)){const e=hc(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)}),new kl(t)}class fc{constructor(e,t,n,r,i,s,a){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=s,this.documentState=a}static newInvalidDocument(e){return new fc(e,0,To.min(),To.min(),To.min(),dc.empty(),0)}static newFoundDocument(e,t,n,r){return new fc(e,1,t,To.min(),n,r,0)}static newNoDocument(e,t){return new fc(e,2,t,To.min(),To.min(),dc.empty(),0)}static newUnknownDocument(e,t){return new fc(e,3,t,To.min(),To.min(),dc.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(To.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=dc.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=dc.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=To.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof fc&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new fc(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class pc{constructor(e,t){this.position=e,this.inclusive=t}}function mc(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],a=e.position[i];if(r=s.field.isKeyField()?po.comparator(po.fromName(a.referenceValue),n.key):Yl(a,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function gc(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Gl(e.position[n],t.position[n]))return!1;return!0}class vc{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function yc(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class bc{}class wc extends bc{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new Ic(e,t,n):"array-contains"===t?new jc(e,n):"in"===t?new Rc(e,n):"not-in"===t?new Dc(e,n):"array-contains-any"===t?new Oc(e,n):new wc(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new Nc(e,n):new Ac(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&void 0===t.nullValue&&this.matchesComparison(Yl(t,this.value)):null!==t&&Kl(this.value)===Kl(t)&&this.matchesComparison(Yl(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Ua(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class _c extends bc{constructor(e,t){super(),this.filters=e,this.op=t,this.he=null}static create(e,t){return new _c(e,t)}matches(e){return Ec(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.he||(this.he=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function Ec(e){return"and"===e.op}function xc(e){return Sc(e)&&Ec(e)}function Sc(e){for(const t of e.filters)if(t instanceof _c)return!1;return!0}function kc(e){if(e instanceof wc)return e.field.canonicalString()+e.op.toString()+Zl(e.value);if(xc(e))return e.filters.map(e=>kc(e)).join(",");{const t=e.filters.map(e=>kc(e)).join(",");return`${e.op}(${t})`}}function Tc(e,t){return e instanceof wc?function(e,t){return t instanceof wc&&e.op===t.op&&e.field.isEqual(t.field)&&Gl(e.value,t.value)}(e,t):e instanceof _c?function(e,t){return t instanceof _c&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((e,n,r)=>e&&Tc(n,t.filters[r]),!0)}(e,t):void Ua(19439)}function Cc(e){return e instanceof wc?function(e){return`${e.field.canonicalString()} ${e.op} ${Zl(e.value)}`}(e):e instanceof _c?function(e){return e.op.toString()+" {"+e.getFilters().map(Cc).join(" ,")+"}"}(e):"Filter"}class Ic extends wc{constructor(e,t,n){super(e,t,n),this.key=po.fromName(n.referenceValue)}matches(e){const t=po.comparator(e.key,this.key);return this.matchesComparison(t)}}class Nc extends wc{constructor(e,t){super(e,"in",t),this.keys=Pc("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Ac extends wc{constructor(e,t){super(e,"not-in",t),this.keys=Pc("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Pc(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map(e=>po.fromName(e.referenceValue))}class jc extends wc{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return ic(t)&&Ql(t.arrayValue,this.value)}}class Rc extends wc{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Ql(this.value.arrayValue,t)}}class Dc extends wc{constructor(e,t){super(e,"not-in",t)}matches(e){if(Ql(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&void 0===t.nullValue&&!Ql(this.value.arrayValue,t)}}class Oc extends wc{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!ic(t)||!t.arrayValue.values)&&t.arrayValue.values.some(e=>Ql(this.value.arrayValue,e))}}class Lc{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=a,this.Pe=null}}function Mc(e){return new Lc(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function Fc(e){const t=Ba(e);if(null===t.Pe){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(e=>kc(e)).join(","),e+="|ob:",e+=t.orderBy.map(e=>function(e){return e.field.canonicalString()+e.dir}(e)).join(","),zo(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(e=>Zl(e)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(e=>Zl(e)).join(",")),t.Pe=e}return t.Pe}function Uc(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!yc(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!Tc(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!gc(e.startAt,t.startAt)&&gc(e.endAt,t.endAt)}function Vc(e){return po.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class zc{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=a,this.endAt=o,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function Bc(e,t,n,r,i,s,a,o){return new zc(e,t,n,r,i,s,a,o)}function $c(e){return new zc(e)}function qc(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Hc(e){return null!==e.collectionGroup}function Wc(e){const t=Ba(e);if(null===t.Te){t.Te=[];const e=new Set;for(const i of t.explicitOrderBy)t.Te.push(i),e.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new xl(fo.comparator);return e.filters.forEach(e=>{e.getFlattenedFilters().forEach(e=>{e.isInequality()&&(t=t.add(e.field))})}),t}(t);r.forEach(r=>{e.has(r.canonicalString())||r.isKeyField()||t.Te.push(new vc(r,n))}),e.has(fo.keyField().canonicalString())||t.Te.push(new vc(fo.keyField(),n))}return t.Te}function Kc(e){const t=Ba(e);return t.Ie||(t.Ie=Gc(t,Wc(e))),t.Ie}function Gc(e,t){if("F"===e.limitType)return Mc(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(e=>{const t="desc"===e.dir?"asc":"desc";return new vc(e.field,t)});const n=e.endAt?new pc(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new pc(e.startAt.position,e.startAt.inclusive):null;return Mc(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function Qc(e,t){const n=e.filters.concat([t]);return new zc(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Yc(e,t,n){return new zc(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Jc(e,t){return Uc(Kc(e),Kc(t))&&e.limitType===t.limitType}function Xc(e){return`${Fc(Kc(e))}|lt:${e.limitType}`}function Zc(e){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(e=>Cc(e)).join(", ")}]`),zo(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(e=>function(e){return`${e.field.canonicalString()} (${e.dir})`}(e)).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(e=>Zl(e)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(e=>Zl(e)).join(",")),`Target(${t})`}(Kc(e))}; limitType=${e.limitType})`}function eu(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):po.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of Wc(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=mc(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Wc(e),t))&&!(e.endAt&&!function(e,t,n){const r=mc(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Wc(e),t))}(e,t)}function tu(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function nu(e){return(t,n)=>{let r=!1;for(const i of Wc(e)){const e=ru(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function ru(e,t,n){const r=e.field.isKeyField()?po.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Yl(r,i):Ua(42886)}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Ua(19790,{direction:e.dir})}}class iu{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){yl(this.inner,(t,n)=>{for(const[r,i]of n)e(r,i)})}isEmpty(){return bl(this.inner)}size(){return this.innerSize}}const su=new wl(po.comparator);function au(){return su}const ou=new wl(po.comparator);function lu(){let e=ou;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function cu(e){let t=ou;return e.forEach((e,n)=>t=t.insert(e,n.overlayedDocument)),t}function uu(){return hu()}function du(){return hu()}function hu(){return new iu(e=>e.toString(),(e,t)=>e.isEqual(t))}const fu=new wl(po.comparator),pu=new xl(po.comparator);function mu(){let e=pu;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const gu=new xl(ro);function vu(){return gu}function yu(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Bo(t)?"-0":t}}function bu(e){return{integerValue:""+e}}function wu(e,t){return $o(t)?bu(t):yu(e,t)}class _u{constructor(){this._=void 0}}function Eu(e,t,n){return e instanceof ku?function(e,t){const n={fields:{[Rl]:{stringValue:jl},[Ol]:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&Ll(t)&&(t=Ml(t)),t&&(n.fields[Dl]=t),{mapValue:n}}(n,t):e instanceof Tu?Cu(e,t):e instanceof Iu?Nu(e,t):function(e,t){const n=Su(e,t),r=Pu(n)+Pu(e.Ee);return rc(n)&&rc(e.Ee)?bu(r):yu(e.serializer,r)}(e,t)}function xu(e,t,n){return e instanceof Tu?Cu(e,t):e instanceof Iu?Nu(e,t):n}function Su(e,t){return e instanceof Au?function(e){return rc(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class ku extends _u{}class Tu extends _u{constructor(e){super(),this.elements=e}}function Cu(e,t){const n=ju(t);for(const r of e.elements)n.some(e=>Gl(e,r))||n.push(r);return{arrayValue:{values:n}}}class Iu extends _u{constructor(e){super(),this.elements=e}}function Nu(e,t){let n=ju(t);for(const r of e.elements)n=n.filter(e=>!Gl(e,r));return{arrayValue:{values:n}}}class Au extends _u{constructor(e,t){super(),this.serializer=e,this.Ee=t}}function Pu(e){return Al(e.integerValue||e.doubleValue)}function ju(e){return ic(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class Ru{constructor(e,t){this.field=e,this.transform=t}}class Du{constructor(e,t){this.version=e,this.transformResults=t}}class Ou{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Ou}static exists(e){return new Ou(void 0,e)}static updateTime(e){return new Ou(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Lu(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class Mu{}function Fu(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Gu(e.key,Ou.none()):new $u(e.key,e.data,Ou.none());{const n=e.data,r=dc.empty();let i=new xl(fo.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new qu(e.key,r,new kl(i.toArray()),Ou.none())}}function Uu(e,t,n){e instanceof $u?function(e,t,n){const r=e.value.clone(),i=Wu(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof qu?function(e,t,n){if(!Lu(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=Wu(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Hu(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Vu(e,t,n,r){return e instanceof $u?function(e,t,n,r){if(!Lu(e.precondition,t))return n;const i=e.value.clone(),s=Ku(e.fieldTransforms,r,t);return i.setAll(s),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof qu?function(e,t,n,r){if(!Lu(e.precondition,t))return n;const i=Ku(e.fieldTransforms,r,t),s=t.data;return s.setAll(Hu(e)),s.setAll(i),t.convertToFoundDocument(t.version,s).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map(e=>e.field))}(e,t,n,r):function(e,t,n){return Lu(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function zu(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=Su(r.transform,e||null);null!=i&&(null===n&&(n=dc.empty()),n.set(r.field,i))}return n||null}function Bu(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&oo(e,t,(e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Tu&&t instanceof Tu||e instanceof Iu&&t instanceof Iu?oo(e.elements,t.elements,Gl):e instanceof Au&&t instanceof Au?Gl(e.Ee,t.Ee):e instanceof ku&&t instanceof ku}(e.transform,t.transform)}(e,t))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class $u extends Mu{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class qu extends Mu{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Hu(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function Wu(e,t,n){const r=new Map;za(e.length===n.length,32656,{Ae:n.length,Re:e.length});for(let i=0;i<n.length;i++){const s=e[i],a=s.transform,o=t.data.field(s.field);r.set(s.field,xu(a,o,n[i]))}return r}function Ku(e,t,n){const r=new Map;for(const i of e){const e=i.transform,s=n.data.field(i.field);r.set(i.field,Eu(e,s,t))}return r}class Gu extends Mu{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Qu extends Mu{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Yu{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&Uu(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=Vu(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=Vu(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=du();return this.mutations.forEach(r=>{const i=e.get(r.key),s=i.overlayedDocument;let a=this.applyToLocalView(s,i.mutatedFields);a=t.has(r.key)?null:a;const o=Fu(s,a);null!==o&&n.set(r.key,o),s.isValidDocument()||s.convertToNoDocument(To.min())}),n}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),mu())}isEqual(e){return this.batchId===e.batchId&&oo(this.mutations,e.mutations,(e,t)=>Bu(e,t))&&oo(this.baseMutations,e.baseMutations,(e,t)=>Bu(e,t))}}class Ju{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){za(e.mutations.length===n.length,58842,{Ve:e.mutations.length,me:n.length});let r=fu;const i=e.mutations;for(let s=0;s<i.length;s++)r=r.insert(i[s].key,n[s].version);return new Ju(e,t,n,r)}}class Xu{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Zu{constructor(e,t){this.count=e,this.unchangedNames=t}}var ed,td;function nd(e){switch(e){case $a.OK:return Ua(64938);case $a.CANCELLED:case $a.UNKNOWN:case $a.DEADLINE_EXCEEDED:case $a.RESOURCE_EXHAUSTED:case $a.INTERNAL:case $a.UNAVAILABLE:case $a.UNAUTHENTICATED:return!1;case $a.INVALID_ARGUMENT:case $a.NOT_FOUND:case $a.ALREADY_EXISTS:case $a.PERMISSION_DENIED:case $a.FAILED_PRECONDITION:case $a.ABORTED:case $a.OUT_OF_RANGE:case $a.UNIMPLEMENTED:case $a.DATA_LOSS:return!0;default:return Ua(15467,{code:e})}}function rd(e){if(void 0===e)return La("GRPC error has no .code"),$a.UNKNOWN;switch(e){case ed.OK:return $a.OK;case ed.CANCELLED:return $a.CANCELLED;case ed.UNKNOWN:return $a.UNKNOWN;case ed.DEADLINE_EXCEEDED:return $a.DEADLINE_EXCEEDED;case ed.RESOURCE_EXHAUSTED:return $a.RESOURCE_EXHAUSTED;case ed.INTERNAL:return $a.INTERNAL;case ed.UNAVAILABLE:return $a.UNAVAILABLE;case ed.UNAUTHENTICATED:return $a.UNAUTHENTICATED;case ed.INVALID_ARGUMENT:return $a.INVALID_ARGUMENT;case ed.NOT_FOUND:return $a.NOT_FOUND;case ed.ALREADY_EXISTS:return $a.ALREADY_EXISTS;case ed.PERMISSION_DENIED:return $a.PERMISSION_DENIED;case ed.FAILED_PRECONDITION:return $a.FAILED_PRECONDITION;case ed.ABORTED:return $a.ABORTED;case ed.OUT_OF_RANGE:return $a.OUT_OF_RANGE;case ed.UNIMPLEMENTED:return $a.UNIMPLEMENTED;case ed.DATA_LOSS:return $a.DATA_LOSS;default:return Ua(39323,{code:e})}}(td=ed||(ed={}))[td.OK=0]="OK",td[td.CANCELLED=1]="CANCELLED",td[td.UNKNOWN=2]="UNKNOWN",td[td.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",td[td.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",td[td.NOT_FOUND=5]="NOT_FOUND",td[td.ALREADY_EXISTS=6]="ALREADY_EXISTS",td[td.PERMISSION_DENIED=7]="PERMISSION_DENIED",td[td.UNAUTHENTICATED=16]="UNAUTHENTICATED",td[td.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",td[td.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",td[td.ABORTED=10]="ABORTED",td[td.OUT_OF_RANGE=11]="OUT_OF_RANGE",td[td.UNIMPLEMENTED=12]="UNIMPLEMENTED",td[td.INTERNAL=13]="INTERNAL",td[td.UNAVAILABLE=14]="UNAVAILABLE",td[td.DATA_LOSS=15]="DATA_LOSS";let id=null;const sd=new ma([4294967295,4294967295],0);function ad(e){const t=to().encode(e),n=new ga;return n.update(t),new Uint8Array(n.digest())}function od(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new ma([n,r],0),new ma([i,s],0)]}class ld{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new cd(`Invalid padding: ${t}`);if(n<0)throw new cd(`Invalid hash count: ${n}`);if(e.length>0&&0===this.hashCount)throw new cd(`Invalid hash count: ${n}`);if(0===e.length&&0!==t)throw new cd(`Invalid padding when bitmap length is 0: ${t}`);this.fe=8*e.length-t,this.ge=ma.fromNumber(this.fe)}pe(e,t,n){let r=e.add(t.multiply(ma.fromNumber(n)));return 1===r.compare(sd)&&(r=new ma([r.getBits(0),r.getBits(1)],0)),r.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.fe)return!1;const t=ad(e),[n,r]=od(t);for(let i=0;i<this.hashCount;i++){const e=this.pe(n,r,i);if(!this.ye(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),s=new ld(i,r,t);return n.forEach(e=>s.insert(e)),s}insert(e){if(0===this.fe)return;const t=ad(e),[n,r]=od(t);for(let i=0;i<this.hashCount;i++){const e=this.pe(n,r,i);this.we(e)}}we(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class cd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class ud{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,dd.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new ud(To.min(),r,new wl(ro),au(),mu())}}class dd{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new dd(n,t,mu(),mu(),mu())}}class hd{constructor(e,t,n,r){this.Se=e,this.removedTargetIds=t,this.key=n,this.be=r}}class fd{constructor(e,t){this.targetId=e,this.De=t}}class pd{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Cl.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class md{constructor(){this.ve=0,this.Ce=yd(),this.Fe=Cl.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return 0!==this.ve}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=mu(),t=mu(),n=mu();return this.Ce.forEach((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Ua(38017,{changeType:i})}}),new dd(this.Fe,this.Me,e,t,n)}ke(){this.xe=!1,this.Ce=yd()}qe(e,t){this.xe=!0,this.Ce=this.Ce.insert(e,t)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,za(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class gd{constructor(e){this.We=e,this.Ge=new Map,this.ze=au(),this.je=vd(),this.Je=vd(),this.He=new wl(ro)}Ye(e){for(const t of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(t,e.be):this.Xe(t,e.key,e.be);for(const t of e.removedTargetIds)this.Xe(t,e.key,e.be)}et(e){this.forEachTarget(e,t=>{const n=this.tt(t);switch(e.state){case 0:this.nt(t)&&n.Be(e.resumeToken);break;case 1:n.Ue(),n.Oe||n.ke(),n.Be(e.resumeToken);break;case 2:n.Ue(),n.Oe||this.removeTarget(t);break;case 3:this.nt(t)&&(n.Ke(),n.Be(e.resumeToken));break;case 4:this.nt(t)&&(this.rt(t),n.Be(e.resumeToken));break;default:Ua(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ge.forEach((e,n)=>{this.nt(n)&&t(n)})}it(e){const t=e.targetId,n=e.De.count,r=this.st(t);if(r){const i=r.target;if(Vc(i))if(0===n){const e=new po(i.path);this.Xe(t,e,fc.newNoDocument(e,To.min()))}else za(1===n,20013,{expectedCount:n});else{const r=this.ot(t);if(r!==n){const n=this._t(e),i=n?this.ut(n,e,r):1;if(0!==i){this.rt(t);const e=2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(t,e)}null==id||id.ct(function(e,t,n,r,i){var s,a,o,l,c,u;const d={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},h=t.unchangedNames;return h&&(d.bloomFilter={applied:0===i,hashCount:null!==(s=null==h?void 0:h.hashCount)&&void 0!==s?s:0,bitmapLength:null!==(l=null===(o=null===(a=null==h?void 0:h.bits)||void 0===a?void 0:a.bitmap)||void 0===o?void 0:o.length)&&void 0!==l?l:0,padding:null!==(u=null===(c=null==h?void 0:h.bits)||void 0===c?void 0:c.padding)&&void 0!==u?u:0,mightContain:e=>{var t;return null!==(t=null==r?void 0:r.mightContain(e))&&void 0!==t&&t}}),d}(r,e.De,this.We.lt(),n,i))}}}}_t(e){const t=e.De.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=t;let s,a;try{s=Pl(n).toUint8Array()}catch(e){if(e instanceof Tl)return Ma("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{a=new ld(s,r,i)}catch(e){return Ma(e instanceof cd?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===a.fe?null:a}ut(e,t,n){return t.De.count===n-this.ht(e,t.targetId)?0:2}ht(e,t){const n=this.We.getRemoteKeysForTarget(t);let r=0;return n.forEach(n=>{const i=this.We.lt(),s=`projects/${i.projectId}/databases/${i.database}/documents/${n.path.canonicalString()}`;e.mightContain(s)||(this.Xe(t,n,null),r++)}),r}Pt(e){const t=new Map;this.Ge.forEach((n,r)=>{const i=this.st(r);if(i){if(n.current&&Vc(i.target)){const t=new po(i.target.path);this.Tt(t).has(r)||this.It(r,t)||this.Xe(r,t,fc.newNoDocument(t,e))}n.Ne&&(t.set(r,n.Le()),n.ke())}});let n=mu();this.Je.forEach((e,t)=>{let r=!0;t.forEachWhile(e=>{const t=this.st(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)}),r&&(n=n.add(e))}),this.ze.forEach((t,n)=>n.setReadTime(e));const r=new ud(e,t,this.He,this.ze,n);return this.ze=au(),this.je=vd(),this.Je=vd(),this.He=new wl(ro),r}Ze(e,t){if(!this.nt(e))return;const n=this.It(e,t.key)?2:0;this.tt(e).qe(t.key,n),this.ze=this.ze.insert(t.key,t),this.je=this.je.insert(t.key,this.Tt(t.key).add(e)),this.Je=this.Je.insert(t.key,this.dt(t.key).add(e))}Xe(e,t,n){if(!this.nt(e))return;const r=this.tt(e);this.It(e,t)?r.qe(t,1):r.Qe(t),this.Je=this.Je.insert(t,this.dt(t).delete(e)),this.Je=this.Je.insert(t,this.dt(t).add(e)),n&&(this.ze=this.ze.insert(t,n))}removeTarget(e){this.Ge.delete(e)}ot(e){const t=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let t=this.Ge.get(e);return t||(t=new md,this.Ge.set(e,t)),t}dt(e){let t=this.Je.get(e);return t||(t=new xl(ro),this.Je=this.Je.insert(e,t)),t}Tt(e){let t=this.je.get(e);return t||(t=new xl(ro),this.je=this.je.insert(e,t)),t}nt(e){const t=null!==this.st(e);return t||Oa("WatchChangeAggregator","Detected inactive target",e),t}st(e){const t=this.Ge.get(e);return t&&t.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new md),this.We.getRemoteKeysForTarget(e).forEach(t=>{this.Xe(e,t,null)})}It(e,t){return this.We.getRemoteKeysForTarget(e).has(t)}}function vd(){return new wl(po.comparator)}function yd(){return new wl(po.comparator)}const bd={asc:"ASCENDING",desc:"DESCENDING"},wd={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},_d={and:"AND",or:"OR"};class Ed{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function xd(e,t){return e.useProto3Json||zo(t)?t:{value:t}}function Sd(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function kd(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Td(e,t){return Sd(e,t.toTimestamp())}function Cd(e){return za(!!e,49232),To.fromTimestamp(function(e){const t=Nl(e);return new ko(t.seconds,t.nanos)}(e))}function Id(e,t){return Nd(e,t).canonicalString()}function Nd(e,t){const n=function(e){return new uo(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function Ad(e){const t=uo.fromString(e);return za(Yd(t),10190,{key:t.toString()}),t}function Pd(e,t){return Id(e.databaseId,t.path)}function jd(e,t){const n=Ad(t);if(n.get(1)!==e.databaseId.projectId)throw new qa($a.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new qa($a.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new po(Ld(n))}function Rd(e,t){return Id(e.databaseId,t)}function Dd(e){const t=Ad(e);return 4===t.length?uo.emptyPath():Ld(t)}function Od(e){return new uo(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Ld(e){return za(e.length>4&&"documents"===e.get(4),29091,{key:e.toString()}),e.popFirst(5)}function Md(e,t,n){return{name:Pd(e,t),fields:n.value.mapValue.fields}}function Fd(e,t){let n;if(t instanceof $u)n={update:Md(e,t.key,t.value)};else if(t instanceof Gu)n={delete:Pd(e,t.key)};else if(t instanceof qu)n={update:Md(e,t.key,t.data),updateMask:Qd(t.fieldMask)};else{if(!(t instanceof Qu))return Ua(16599,{Rt:t.type});n={verify:Pd(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(e=>function(e,t){const n=t.transform;if(n instanceof ku)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Tu)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Iu)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Au)return{fieldPath:t.field.canonicalString(),increment:n.Ee};throw Ua(20930,{transform:t.transform})}(0,e))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Td(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Ua(27497)}(e,t.precondition)),n}function Ud(e,t){return{documents:[Rd(e,t.path)]}}function Vd(e,t){const n={structuredQuery:{}},r=t.path;let i;null!==t.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Rd(e,i);const s=function(e){if(0!==e.length)return Gd(_c.create(e,"and"))}(t.filters);s&&(n.structuredQuery.where=s);const a=function(e){if(0!==e.length)return e.map(e=>function(e){return{field:Wd(e.field),direction:$d(e.dir)}}(e))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);const o=xd(e,t.limit);return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{Vt:n,parent:i}}function zd(e){let t=Dd(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){za(1===r,65062);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let s=[];n.where&&(s=function(e){const t=Bd(e);return t instanceof _c&&xc(t)?t.getFilters():[t]}(n.where));let a=[];n.orderBy&&(a=function(e){return e.map(e=>function(e){return new vc(Kd(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e))}(n.orderBy));let o=null;n.limit&&(o=function(e){let t;return t="object"==typeof e?e.value:e,zo(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new pc(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new pc(n,t)}(n.endAt)),Bc(t,i,a,s,o,"F",l,c)}function Bd(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Kd(e.unaryFilter.field);return wc.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=Kd(e.unaryFilter.field);return wc.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Kd(e.unaryFilter.field);return wc.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Kd(e.unaryFilter.field);return wc.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ua(61313);default:return Ua(60726)}}(e):void 0!==e.fieldFilter?function(e){return wc.create(Kd(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ua(58110);default:return Ua(50506)}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return _c.create(e.compositeFilter.filters.map(e=>Bd(e)),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return Ua(1026)}}(e.compositeFilter.op))}(e):Ua(30097,{filter:e})}function $d(e){return bd[e]}function qd(e){return wd[e]}function Hd(e){return _d[e]}function Wd(e){return{fieldPath:e.canonicalString()}}function Kd(e){return fo.fromServerFormat(e.fieldPath)}function Gd(e){return e instanceof wc?function(e){if("=="===e.op){if(ac(e.value))return{unaryFilter:{field:Wd(e.field),op:"IS_NAN"}};if(sc(e.value))return{unaryFilter:{field:Wd(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(ac(e.value))return{unaryFilter:{field:Wd(e.field),op:"IS_NOT_NAN"}};if(sc(e.value))return{unaryFilter:{field:Wd(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Wd(e.field),op:qd(e.op),value:e.value}}}(e):e instanceof _c?function(e){const t=e.getFilters().map(e=>Gd(e));return 1===t.length?t[0]:{compositeFilter:{op:Hd(e.op),filters:t}}}(e):Ua(54877,{filter:e})}function Qd(e){const t=[];return e.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function Yd(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class Jd{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:To.min(),s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:To.min(),a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Cl.EMPTY_BYTE_STRING,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=o}withSequenceNumber(e){return new Jd(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Jd(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Jd(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Jd(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Xd{constructor(e){this.gt=e}}function Zd(e){const t=zd({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Yc(t,t.limit,"L"):t}class eh{constructor(){}bt(e,t){this.Dt(e,t),t.vt()}Dt(e,t){if("nullValue"in e)this.Ct(t,5);else if("booleanValue"in e)this.Ct(t,10),t.Ft(e.booleanValue?1:0);else if("integerValue"in e)this.Ct(t,15),t.Ft(Al(e.integerValue));else if("doubleValue"in e){const n=Al(e.doubleValue);isNaN(n)?this.Ct(t,13):(this.Ct(t,15),Bo(n)?t.Ft(0):t.Ft(n))}else if("timestampValue"in e){let n=e.timestampValue;this.Ct(t,20),"string"==typeof n&&(n=Nl(n)),t.Mt(`${n.seconds||""}`),t.Ft(n.nanos||0)}else if("stringValue"in e)this.xt(e.stringValue,t),this.Ot(t);else if("bytesValue"in e)this.Ct(t,30),t.Nt(Pl(e.bytesValue)),this.Ot(t);else if("referenceValue"in e)this.Bt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.Ct(t,45),t.Ft(n.latitude||0),t.Ft(n.longitude||0)}else"mapValue"in e?uc(e)?this.Ct(t,Number.MAX_SAFE_INTEGER):lc(e)?this.Lt(e.mapValue,t):(this.kt(e.mapValue,t),this.Ot(t)):"arrayValue"in e?(this.qt(e.arrayValue,t),this.Ot(t)):Ua(19022,{Qt:e})}xt(e,t){this.Ct(t,25),this.$t(e,t)}$t(e,t){t.Mt(e)}kt(e,t){const n=e.fields||{};this.Ct(t,55);for(const r of Object.keys(n))this.xt(r,t),this.Dt(n[r],t)}Lt(e,t){var n,r;const i=e.fields||{};this.Ct(t,53);const s=Wl,a=(null===(r=null===(n=i[s].arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.length)||0;this.Ct(t,15),t.Ft(Al(a)),this.xt(s,t),this.Dt(i[s],t)}qt(e,t){const n=e.values||[];this.Ct(t,50);for(const r of n)this.Dt(r,t)}Bt(e,t){this.Ct(t,37),po.fromName(e).path.forEach(e=>{this.Ct(t,60),this.$t(e,t)})}Ct(e,t){e.Ft(t)}Ot(e){e.Ft(2)}}eh.Ut=new eh;class th{constructor(){this.Dn=new nh}addToCollectionParentIndex(e,t){return this.Dn.add(t),Lo.resolve()}getCollectionParents(e,t){return Lo.resolve(this.Dn.getEntries(t))}addFieldIndex(e,t){return Lo.resolve()}deleteFieldIndex(e,t){return Lo.resolve()}deleteAllFieldIndexes(e){return Lo.resolve()}createTargetIndexes(e,t){return Lo.resolve()}getDocumentsMatchingTarget(e,t){return Lo.resolve(null)}getIndexType(e,t){return Lo.resolve(0)}getFieldIndexes(e,t){return Lo.resolve([])}getNextCollectionGroupToUpdate(e){return Lo.resolve(null)}getMinOffset(e,t){return Lo.resolve(Po.min())}getMinOffsetFromCollectionGroup(e,t){return Lo.resolve(Po.min())}updateCollectionGroup(e,t,n){return Lo.resolve()}updateIndexEntries(e,t){return Lo.resolve()}}class nh{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new xl(uo.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new xl(uo.comparator)).toArray()}}new Uint8Array(0);const rh={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},ih=41943040;class sh{static withCacheSize(e){return new sh(e,sh.DEFAULT_COLLECTION_PERCENTILE,sh.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}sh.DEFAULT_COLLECTION_PERCENTILE=10,sh.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,sh.DEFAULT=new sh(ih,sh.DEFAULT_COLLECTION_PERCENTILE,sh.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),sh.DISABLED=new sh(-1,0,0);class ah{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new ah(0)}static ur(){return new ah(-1)}}const oh="LruGarbageCollector",lh=1048576;function ch(e,t){let[n,r]=e,[i,s]=t;const a=ro(n,i);return 0===a?ro(r,s):a}class uh{constructor(e){this.Tr=e,this.buffer=new xl(ch),this.Ir=0}dr(){return++this.Ir}Er(e){const t=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();ch(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class dh{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Ar=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return null!==this.Ar}Rr(e){Oa(oh,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){Fo(e)?Oa(oh,"Ignoring IndexedDB error during garbage collection: ",e):await Oo(e)}await this.Rr(3e5)})}}class hh{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.mr(e).next(e=>Math.floor(t/100*e))}nthSequenceNumber(e,t){if(0===t)return Lo.resolve(Uo.ue);const n=new uh(t);return this.Vr.forEachTarget(e,e=>n.Er(e.sequenceNumber)).next(()=>this.Vr.gr(e,e=>n.Er(e))).next(()=>n.maxValue)}removeTargets(e,t,n){return this.Vr.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Oa("LruGarbageCollector","Garbage collection skipped; disabled"),Lo.resolve(rh)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(Oa("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),rh):this.pr(e,t))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,t){let n,r,i,s,a,o,l;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(t=>(t>this.params.maximumSequenceNumbersToCollect?(Oa("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${t}`),r=this.params.maximumSequenceNumbersToCollect):r=t,s=Date.now(),this.nthSequenceNumber(e,r))).next(r=>(n=r,a=Date.now(),this.removeTargets(e,n,t))).next(t=>(i=t,o=Date.now(),this.removeOrphanedDocuments(e,n))).next(e=>(l=Date.now(),Da()<=yt.DEBUG&&Oa("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${s-c}ms\n\tDetermined least recently used ${r} in `+(a-s)+"ms\n"+`\tRemoved ${i} targets in `+(o-a)+"ms\n"+`\tRemoved ${e} documents in `+(l-o)+"ms\n"+`Total Duration: ${l-c}ms`),Lo.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})))}}function fh(e,t){return new hh(e,t)}class ph{constructor(){this.changes=new iu(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,fc.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?Lo.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class mh{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class gh{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(n=r,this.remoteDocumentCache.getEntry(e,t))).next(e=>(null!==n&&Vu(n.mutation,e,kl.empty(),ko.now()),e))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.getLocalViewOfDocuments(e,t,mu()).next(()=>t))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:mu();const r=uu();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,n).next(e=>{let t=lu();return e.forEach((e,n)=>{t=t.insert(e,n.overlayedDocument)}),t}))}getOverlayedDocuments(e,t){const n=uu();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,mu()))}populateOverlays(e,t,n){const r=[];return n.forEach(e=>{t.has(e)||r.push(e)}),this.documentOverlayCache.getOverlays(e,r).next(e=>{e.forEach((e,n)=>{t.set(e,n)})})}computeViews(e,t,n,r){let i=au();const s=hu(),a=hu();return t.forEach((e,t)=>{const a=n.get(t.key);r.has(t.key)&&(void 0===a||a.mutation instanceof qu)?i=i.insert(t.key,t):void 0!==a?(s.set(t.key,a.mutation.getFieldMask()),Vu(a.mutation,t,a.mutation.getFieldMask(),ko.now())):s.set(t.key,kl.empty())}),this.recalculateAndSaveOverlays(e,i).next(e=>(e.forEach((e,t)=>s.set(e,t)),t.forEach((e,t)=>{var n;return a.set(e,new mh(t,null!==(n=s.get(e))&&void 0!==n?n:null))}),a))}recalculateAndSaveOverlays(e,t){const n=hu();let r=new wl((e,t)=>e-t),i=mu();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(e=>{for(const i of e)i.keys().forEach(e=>{const s=t.get(e);if(null===s)return;let a=n.get(e)||kl.empty();a=i.applyToLocalView(s,a),n.set(e,a);const o=(r.get(i.batchId)||mu()).add(e);r=r.insert(i.batchId,o)})}).next(()=>{const s=[],a=r.getReverseIterator();for(;a.hasNext();){const r=a.getNext(),o=r.key,l=r.value,c=du();l.forEach(e=>{if(!i.has(e)){const r=Fu(t.get(e),n.get(e));null!==r&&c.set(e,r),i=i.add(e)}}),s.push(this.documentOverlayCache.saveOverlays(e,o,c))}return Lo.waitFor(s)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.recalculateAndSaveOverlays(e,t))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return po.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Hc(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next(i=>{const s=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):Lo.resolve(uu());let a=Co,o=i;return s.next(t=>Lo.forEach(t,(t,n)=>(a<n.largestBatchId&&(a=n.largestBatchId),i.get(t)?Lo.resolve():this.remoteDocumentCache.getEntry(e,t).next(e=>{o=o.insert(t,e)}))).next(()=>this.populateOverlays(e,t,i)).next(()=>this.computeViews(e,o,t,mu())).next(e=>({batchId:a,changes:cu(e)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new po(t)).next(e=>{let t=lu();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t})}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let s=lu();return this.indexManager.getCollectionParents(e,i).next(a=>Lo.forEach(a,a=>{const o=function(e,t){return new zc(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,a.child(i));return this.getDocumentsMatchingCollectionQuery(e,o,n,r).next(e=>{e.forEach((e,t)=>{s=s.insert(e,t)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r))).next(e=>{i.forEach((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,fc.newInvalidDocument(r)))});let n=lu();return e.forEach((e,r)=>{const s=i.get(e);void 0!==s&&Vu(s.mutation,r,kl.empty(),ko.now()),eu(t,r)&&(n=n.insert(e,r))}),n})}}class vh{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,t){return Lo.resolve(this.Br.get(t))}saveBundleMetadata(e,t){return this.Br.set(t.id,function(e){return{id:e.id,version:e.version,createTime:Cd(e.createTime)}}(t)),Lo.resolve()}getNamedQuery(e,t){return Lo.resolve(this.Lr.get(t))}saveNamedQuery(e,t){return this.Lr.set(t.name,function(e){return{name:e.name,query:Zd(e.bundledQuery),readTime:Cd(e.readTime)}}(t)),Lo.resolve()}}class yh{constructor(){this.overlays=new wl(po.comparator),this.kr=new Map}getOverlay(e,t){return Lo.resolve(this.overlays.get(t))}getOverlays(e,t){const n=uu();return Lo.forEach(t,t=>this.getOverlay(e,t).next(e=>{null!==e&&n.set(t,e)})).next(()=>n)}saveOverlays(e,t,n){return n.forEach((n,r)=>{this.wt(e,t,r)}),Lo.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.kr.get(n);return void 0!==r&&(r.forEach(e=>this.overlays=this.overlays.remove(e)),this.kr.delete(n)),Lo.resolve()}getOverlaysForCollection(e,t,n){const r=uu(),i=t.length+1,s=new po(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const e=a.getNext().value,s=e.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return Lo.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new wl((e,t)=>e-t);const s=this.overlays.getIterator();for(;s.hasNext();){const e=s.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=uu(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const a=uu(),o=i.getIterator();for(;o.hasNext()&&(o.getNext().value.forEach((e,t)=>a.set(e,t)),!(a.size()>=r)););return Lo.resolve(a)}wt(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.kr.get(r.largestBatchId).delete(n.key);this.kr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new Xu(t,n));let i=this.kr.get(t);void 0===i&&(i=mu(),this.kr.set(t,i)),this.kr.set(t,i.add(n.key))}}class bh{constructor(){this.sessionToken=Cl.EMPTY_BYTE_STRING}getSessionToken(e){return Lo.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Lo.resolve()}}class wh{constructor(){this.qr=new xl(_h.Qr),this.$r=new xl(_h.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,t){const n=new _h(e,t);this.qr=this.qr.add(n),this.$r=this.$r.add(n)}Kr(e,t){e.forEach(e=>this.addReference(e,t))}removeReference(e,t){this.Wr(new _h(e,t))}Gr(e,t){e.forEach(e=>this.removeReference(e,t))}zr(e){const t=new po(new uo([])),n=new _h(t,e),r=new _h(t,e+1),i=[];return this.$r.forEachInRange([n,r],e=>{this.Wr(e),i.push(e.key)}),i}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const t=new po(new uo([])),n=new _h(t,e),r=new _h(t,e+1);let i=mu();return this.$r.forEachInRange([n,r],e=>{i=i.add(e.key)}),i}containsKey(e){const t=new _h(e,0),n=this.qr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class _h{constructor(e,t){this.key=e,this.Hr=t}static Qr(e,t){return po.comparator(e.key,t.key)||ro(e.Hr,t.Hr)}static Ur(e,t){return ro(e.Hr,t.Hr)||po.comparator(e.key,t.key)}}class Eh{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.er=1,this.Yr=new xl(_h.Qr)}checkEmpty(e){return Lo.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new Yu(i,t,n,r);this.mutationQueue.push(s);for(const a of r)this.Yr=this.Yr.add(new _h(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return Lo.resolve(s)}lookupMutationBatch(e,t){return Lo.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.Xr(n),i=r<0?0:r;return Lo.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return Lo.resolve(0===this.mutationQueue.length?Vo:this.er-1)}getAllMutationBatches(e){return Lo.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new _h(t,0),r=new _h(t,Number.POSITIVE_INFINITY),i=[];return this.Yr.forEachInRange([n,r],e=>{const t=this.Zr(e.Hr);i.push(t)}),Lo.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new xl(ro);return t.forEach(e=>{const t=new _h(e,0),r=new _h(e,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([t,r],e=>{n=n.add(e.Hr)})}),Lo.resolve(this.ei(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;po.isDocumentKey(i)||(i=i.child(""));const s=new _h(new po(i),0);let a=new xl(ro);return this.Yr.forEachWhile(e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e.Hr)),!0)},s),Lo.resolve(this.ei(a))}ei(e){const t=[];return e.forEach(e=>{const n=this.Zr(e);null!==n&&t.push(n)}),t}removeMutationBatch(e,t){za(0===this.ti(t.batchId,"removed"),55003),this.mutationQueue.shift();let n=this.Yr;return Lo.forEach(t.mutations,r=>{const i=new _h(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Yr=n})}rr(e){}containsKey(e,t){const n=new _h(t,0),r=this.Yr.firstAfterOrEqual(n);return Lo.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,Lo.resolve()}ti(e,t){return this.Xr(e)}Xr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Zr(e){const t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class xh{constructor(e){this.ni=e,this.docs=new wl(po.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,s=this.ni(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:s}),this.size+=s-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return Lo.resolve(n?n.document.mutableCopy():fc.newInvalidDocument(t))}getEntries(e,t){let n=au();return t.forEach(e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():fc.newInvalidDocument(e))}),Lo.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=au();const s=t.path,a=new po(s.child("__id-9223372036854775808__")),o=this.docs.getIteratorFrom(a);for(;o.hasNext();){const{key:e,value:{document:a}}=o.getNext();if(!s.isPrefixOf(e.path))break;e.path.length>s.length+1||jo(Ao(a),n)<=0||(r.has(a.key)||eu(t,a))&&(i=i.insert(a.key,a.mutableCopy()))}return Lo.resolve(i)}getAllFromCollectionGroup(e,t,n,r){Ua(9500)}ri(e,t){return Lo.forEach(this.docs,e=>t(e))}newChangeBuffer(e){return new Sh(this)}getSize(e){return Lo.resolve(this.size)}}class Sh extends ph{constructor(e){super(),this.Or=e}applyChanges(e){const t=[];return this.changes.forEach((n,r)=>{r.isValidDocument()?t.push(this.Or.addEntry(e,r)):this.Or.removeEntry(n)}),Lo.waitFor(t)}getFromCache(e,t){return this.Or.getEntry(e,t)}getAllFromCache(e,t){return this.Or.getEntries(e,t)}}class kh{constructor(e){this.persistence=e,this.ii=new iu(e=>Fc(e),Uc),this.lastRemoteSnapshotVersion=To.min(),this.highestTargetId=0,this.si=0,this.oi=new wh,this.targetCount=0,this._i=ah.ar()}forEachTarget(e,t){return this.ii.forEach((e,n)=>t(n)),Lo.resolve()}getLastRemoteSnapshotVersion(e){return Lo.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Lo.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),Lo.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.si&&(this.si=t),Lo.resolve()}hr(e){this.ii.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this._i=new ah(t),this.highestTargetId=t),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,t){return this.hr(t),this.targetCount+=1,Lo.resolve()}updateTargetData(e,t){return this.hr(t),Lo.resolve()}removeTargetData(e,t){return this.ii.delete(t.target),this.oi.zr(t.targetId),this.targetCount-=1,Lo.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.ii.forEach((s,a)=>{a.sequenceNumber<=t&&null===n.get(a.targetId)&&(this.ii.delete(s),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)}),Lo.waitFor(i).next(()=>r)}getTargetCount(e){return Lo.resolve(this.targetCount)}getTargetData(e,t){const n=this.ii.get(t)||null;return Lo.resolve(n)}addMatchingKeys(e,t,n){return this.oi.Kr(t,n),Lo.resolve()}removeMatchingKeys(e,t,n){this.oi.Gr(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach(t=>{i.push(r.markPotentiallyOrphaned(e,t))}),Lo.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.oi.zr(t),Lo.resolve()}getMatchingKeysForTargetId(e,t){const n=this.oi.Jr(t);return Lo.resolve(n)}containsKey(e,t){return Lo.resolve(this.oi.containsKey(t))}}class Th{constructor(e,t){this.ai={},this.overlays={},this.ui=new Uo(0),this.ci=!1,this.ci=!0,this.li=new bh,this.referenceDelegate=e(this),this.hi=new kh(this),this.indexManager=new th,this.remoteDocumentCache=function(e){return new xh(e)}(e=>this.referenceDelegate.Pi(e)),this.serializer=new Xd(t),this.Ti=new vh(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new yh,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.ai[e.toKey()];return n||(n=new Eh(t,this.referenceDelegate),this.ai[e.toKey()]=n),n}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,t,n){Oa("MemoryPersistence","Starting transaction:",e);const r=new Ch(this.ui.next());return this.referenceDelegate.Ii(),n(r).next(e=>this.referenceDelegate.di(r).next(()=>e)).toPromise().then(e=>(r.raiseOnCommittedEvent(),e))}Ei(e,t){return Lo.or(Object.values(this.ai).map(n=>()=>n.containsKey(e,t)))}}class Ch extends Do{constructor(e){super(),this.currentSequenceNumber=e}}class Ih{constructor(e){this.persistence=e,this.Ai=new wh,this.Ri=null}static Vi(e){return new Ih(e)}get mi(){if(this.Ri)return this.Ri;throw Ua(60996)}addReference(e,t,n){return this.Ai.addReference(n,t),this.mi.delete(n.toString()),Lo.resolve()}removeReference(e,t,n){return this.Ai.removeReference(n,t),this.mi.add(n.toString()),Lo.resolve()}markPotentiallyOrphaned(e,t){return this.mi.add(t.toString()),Lo.resolve()}removeTarget(e,t){this.Ai.zr(t.targetId).forEach(e=>this.mi.add(e.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(e=>{e.forEach(e=>this.mi.add(e.toString()))}).next(()=>n.removeTargetData(e,t))}Ii(){this.Ri=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Lo.forEach(this.mi,n=>{const r=po.fromPath(n);return this.fi(e,r).next(e=>{e||t.removeEntry(r,To.min())})}).next(()=>(this.Ri=null,t.apply(e)))}updateLimboDocument(e,t){return this.fi(e,t).next(e=>{e?this.mi.delete(t.toString()):this.mi.add(t.toString())})}Pi(e){return 0}fi(e,t){return Lo.or([()=>Lo.resolve(this.Ai.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}}class Nh{constructor(e,t){this.persistence=e,this.gi=new iu(e=>Ho(e.path),(e,t)=>e.isEqual(t)),this.garbageCollector=fh(this,t)}static Vi(e,t){return new Nh(e,t)}Ii(){}di(e){return Lo.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}mr(e){const t=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(e=>t.next(t=>e+t))}yr(e){let t=0;return this.gr(e,e=>{t++}).next(()=>t)}gr(e,t){return Lo.forEach(this.gi,(n,r)=>this.Sr(e,n,r).next(e=>e?Lo.resolve():t(r)))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const r=this.persistence.getRemoteDocumentCache(),i=r.newChangeBuffer();return r.ri(e,r=>this.Sr(e,r,t).next(e=>{e||(n++,i.removeEntry(r,To.min()))})).next(()=>i.apply(e)).next(()=>n)}markPotentiallyOrphaned(e,t){return this.gi.set(t,e.currentSequenceNumber),Lo.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.gi.set(n,e.currentSequenceNumber),Lo.resolve()}removeReference(e,t,n){return this.gi.set(n,e.currentSequenceNumber),Lo.resolve()}updateLimboDocument(e,t){return this.gi.set(t,e.currentSequenceNumber),Lo.resolve()}Pi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=tc(e.data.value)),t}Sr(e,t,n){return Lo.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const e=this.gi.get(t);return Lo.resolve(void 0!==e&&e>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Ah{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Is=n,this.ds=r}static Es(e,t){let n=mu(),r=mu();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new Ah(e,t.fromCache,n,r)}}class Ph{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class jh{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=et()?8:Mo(Xe())>0?6:4}initialize(e,t){this.gs=e,this.indexManager=t,this.As=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.ps(e,t).next(e=>{i.result=e}).next(()=>{if(!i.result)return this.ys(e,t,r,n).next(e=>{i.result=e})}).next(()=>{if(i.result)return;const n=new Ph;return this.ws(e,t,n).next(r=>{if(i.result=r,this.Rs)return this.Ss(e,t,n,r.size)})}).next(()=>i.result)}Ss(e,t,n,r){return n.documentReadCount<this.Vs?(Da()<=yt.DEBUG&&Oa("QueryEngine","SDK will not create cache indexes for query:",Zc(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),Lo.resolve()):(Da()<=yt.DEBUG&&Oa("QueryEngine","Query:",Zc(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.fs*r?(Da()<=yt.DEBUG&&Oa("QueryEngine","The SDK decides to create cache indexes for query:",Zc(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Kc(t))):Lo.resolve())}ps(e,t){if(qc(t))return Lo.resolve(null);let n=Kc(t);return this.indexManager.getIndexType(e,n).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=Yc(t,null,"F"),n=Kc(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next(r=>{const i=mu(...r);return this.gs.getDocuments(e,i).next(r=>this.indexManager.getMinOffset(e,n).next(n=>{const s=this.bs(t,r);return this.Ds(t,s,i,n.readTime)?this.ps(e,Yc(t,null,"F")):this.vs(e,s,t,n)}))})))}ys(e,t,n,r){return qc(t)||r.isEqual(To.min())?Lo.resolve(null):this.gs.getDocuments(e,n).next(i=>{const s=this.bs(t,i);return this.Ds(t,s,n,r)?Lo.resolve(null):(Da()<=yt.DEBUG&&Oa("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Zc(t)),this.vs(e,s,t,No(r,Co)).next(e=>e))})}bs(e,t){let n=new xl(nu(e));return t.forEach((t,r)=>{eu(e,r)&&(n=n.add(r))}),n}Ds(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}ws(e,t,n){return Da()<=yt.DEBUG&&Oa("QueryEngine","Using full collection scan to execute query:",Zc(t)),this.gs.getDocumentsMatchingQuery(e,t,Po.min(),n)}vs(e,t,n,r){return this.gs.getDocumentsMatchingQuery(e,n,r).next(e=>(t.forEach(t=>{e=e.insert(t.key,t)}),e))}}const Rh="LocalStore";class Dh{constructor(e,t,n,r){this.persistence=e,this.Cs=t,this.serializer=r,this.Fs=new wl(ro),this.Ms=new iu(e=>Fc(e),Uc),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(n)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new gh(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Fs))}}function Oh(e,t,n,r){return new Dh(e,t,n,r)}async function Lh(e,t){const n=Ba(e);return await n.persistence.runTransaction("Handle user change","readonly",e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next(i=>(r=i,n.Ns(t),n.mutationQueue.getAllMutationBatches(e))).next(t=>{const i=[],s=[];let a=mu();for(const e of r){i.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}for(const e of t){s.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}return n.localDocuments.getDocuments(e,a).next(e=>({Bs:e,removedBatchIds:i,addedBatchIds:s}))})})}function Mh(e){const t=Ba(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.hi.getLastRemoteSnapshotVersion(e))}function Fh(e,t,n){let r=mu(),i=mu();return n.forEach(e=>r=r.add(e)),t.getEntries(e,r).next(e=>{let r=au();return n.forEach((n,s)=>{const a=e.get(n);s.isFoundDocument()!==a.isFoundDocument()&&(i=i.add(n)),s.isNoDocument()&&s.version.isEqual(To.min())?(t.removeEntry(n,s.readTime),r=r.insert(n,s)):!a.isValidDocument()||s.version.compareTo(a.version)>0||0===s.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(s),r=r.insert(n,s)):Oa(Rh,"Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",s.version)}),{Ls:r,ks:i}})}function Uh(e,t){const n=Ba(e);return n.persistence.runTransaction("Get next mutation batch","readonly",e=>(void 0===t&&(t=Vo),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)))}function Vh(e,t){const n=Ba(e);return n.persistence.runTransaction("Allocate target","readwrite",e=>{let r;return n.hi.getTargetData(e,t).next(i=>i?(r=i,Lo.resolve(r)):n.hi.allocateTargetId(e).next(i=>(r=new Jd(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.hi.addTargetData(e,r).next(()=>r))))}).then(e=>{const r=n.Fs.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Fs=n.Fs.insert(e.targetId,e),n.Ms.set(t,e.targetId)),e})}async function zh(e,t,n){const r=Ba(e),i=r.Fs.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,e=>r.persistence.referenceDelegate.removeTarget(e,i))}catch(e){if(!Fo(e))throw e;Oa(Rh,`Failed to update sequence numbers for target ${t}: ${e}`)}r.Fs=r.Fs.remove(t),r.Ms.delete(i.target)}function Bh(e,t,n){const r=Ba(e);let i=To.min(),s=mu();return r.persistence.runTransaction("Execute query","readwrite",e=>function(e,t,n){const r=Ba(e),i=r.Ms.get(n);return void 0!==i?Lo.resolve(r.Fs.get(i)):r.hi.getTargetData(t,n)}(r,e,Kc(t)).next(t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(e,t.targetId).next(e=>{s=e})}).next(()=>r.Cs.getDocumentsMatchingQuery(e,t,n?i:To.min(),n?s:mu())).next(e=>($h(r,tu(t),e),{documents:e,qs:s})))}function $h(e,t,n){let r=e.xs.get(t)||To.min();n.forEach((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)}),e.xs.set(t,r)}class qh{constructor(){this.activeTargetIds=vu()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Hh{constructor(){this.Fo=new qh,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,t,n){this.Mo[e]=t}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new qh,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Wh{xo(e){}shutdown(){}}const Kh="ConnectivityMonitor";class Gh{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){Oa(Kh,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){Oa(Kh,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Qh=null;function Yh(){return null===Qh?Qh=268435456+Math.round(2147483648*Math.random()):Qh++,"0x"+Qh.toString(16)}const Jh="RestConnection",Xh={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Zh{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.$o=t+"://"+e.host,this.Uo=`projects/${n}/databases/${r}`,this.Ko=this.databaseId.database===Vl?`project_id=${n}`:`project_id=${n}&database_id=${r}`}Wo(e,t,n,r,i){const s=Yh(),a=this.Go(e,t.toUriEncodedString());Oa(Jh,`Sending RPC '${e}' ${s}:`,a,n);const o={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(o,r,i);const{host:l}=new URL(a),c=Ke(l);return this.jo(e,a,o,n,c).then(t=>(Oa(Jh,`Received RPC '${e}' ${s}: `,t),t),t=>{throw Ma(Jh,`RPC '${e}' ${s} failed with error: `,t,"url: ",a,"request:",n),t})}Jo(e,t,n,r,i,s){return this.Wo(e,t,n,r,i)}zo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+ja,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((t,n)=>e[n]=t),n&&n.headers.forEach((t,n)=>e[n]=t)}Go(e,t){const n=Xh[e];return`${this.$o}/v1/${t}:${n}`}terminate(){}}class ef{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}const tf="WebChannelConnection";class nf extends Zh{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,t,n,r,i){const s=Yh();return new Promise((i,a)=>{const o=new ba;o.setWithCredentials(!0),o.listenOnce(_a.COMPLETE,()=>{try{switch(o.getLastErrorCode()){case Ea.NO_ERROR:const t=o.getResponseJson();Oa(tf,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(t)),i(t);break;case Ea.TIMEOUT:Oa(tf,`RPC '${e}' ${s} timed out`),a(new qa($a.DEADLINE_EXCEEDED,"Request time out"));break;case Ea.HTTP_ERROR:const n=o.getStatus();if(Oa(tf,`RPC '${e}' ${s} failed with status:`,n,"response text:",o.getResponseText()),n>0){let e=o.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values($a).indexOf(t)>=0?t:$a.UNKNOWN}(t.status);a(new qa(e,t.message))}else a(new qa($a.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new qa($a.UNAVAILABLE,"Connection failed."));break;default:Ua(9055,{c_:e,streamId:s,l_:o.getLastErrorCode(),h_:o.getLastError()})}}finally{Oa(tf,`RPC '${e}' ${s} completed.`)}});const l=JSON.stringify(r);Oa(tf,`RPC '${e}' ${s} sending request:`,r),o.send(t,"POST",l,n,15)})}P_(e,t,n){const r=Yh(),i=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=Ta(),a=ka(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(o.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(o.useFetchStreams=!0),this.zo(o.initMessageHeaders,t,n),o.encodeInitMessageHeaders=!0;const c=i.join("");Oa(tf,`Creating RPC '${e}' stream ${r}: ${c}`,o);const u=s.createWebChannel(c,o);this.T_(u);let d=!1,h=!1;const f=new ef({Ho:t=>{h?Oa(tf,`Not sending because RPC '${e}' stream ${r} is closed:`,t):(d||(Oa(tf,`Opening RPC '${e}' stream ${r} transport.`),u.open(),d=!0),Oa(tf,`RPC '${e}' stream ${r} sending:`,t),u.send(t))},Yo:()=>u.close()}),p=(e,t,n)=>{e.listen(t,e=>{try{n(e)}catch(e){setTimeout(()=>{throw e},0)}})};return p(u,wa.EventType.OPEN,()=>{h||(Oa(tf,`RPC '${e}' stream ${r} transport opened.`),f.s_())}),p(u,wa.EventType.CLOSE,()=>{h||(h=!0,Oa(tf,`RPC '${e}' stream ${r} transport closed`),f.__(),this.I_(u))}),p(u,wa.EventType.ERROR,t=>{h||(h=!0,Ma(tf,`RPC '${e}' stream ${r} transport errored. Name:`,t.name,"Message:",t.message),f.__(new qa($a.UNAVAILABLE,"The operation could not be completed")))}),p(u,wa.EventType.MESSAGE,t=>{var n;if(!h){const i=t.data[0];za(!!i,16349);const s=i,a=(null==s?void 0:s.error)||(null===(n=s[0])||void 0===n?void 0:n.error);if(a){Oa(tf,`RPC '${e}' stream ${r} received error:`,a);const t=a.status;let n=function(e){const t=ed[e];if(void 0!==t)return rd(t)}(t),i=a.message;void 0===n&&(n=$a.INTERNAL,i="Unknown error status: "+t+" with message "+a.message),h=!0,f.__(new qa(n,i)),u.close()}else Oa(tf,`RPC '${e}' stream ${r} received:`,i),f.a_(i)}}),p(a,Sa.STAT_EVENT,t=>{t.stat===xa.PROXY?Oa(tf,`RPC '${e}' stream ${r} detected buffering proxy`):t.stat===xa.NOPROXY&&Oa(tf,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{f.o_()},0),f}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(t=>t===e)}}function rf(){return"undefined"!=typeof document?document:null}function sf(e){return new Ed(e,!0)}class af{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.Fi=e,this.timerId=t,this.d_=n,this.E_=r,this.A_=i,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const t=Math.floor(this.R_+this.p_()),n=Math.max(0,Date.now()-this.m_),r=Math.max(0,t-n);r>0&&Oa("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.R_} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,r,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){null!==this.V_&&(this.V_.skipDelay(),this.V_=null)}cancel(){null!==this.V_&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}const of="PersistentStream";class lf{constructor(e,t,n,r,i,s,a,o){this.Fi=e,this.w_=n,this.S_=r,this.connection=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=o,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new af(e,t)}M_(){return 1===this.state||5===this.state||this.x_()}x_(){return 2===this.state||3===this.state}start(){this.C_=0,4!==this.state?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&null===this.D_&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,4!==e?this.F_.reset():t&&t.code===$a.RESOURCE_EXHAUSTED?(La(t.toString()),La("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):t&&t.code===$a.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(t)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),t=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(e=>{let[n,r]=e;this.b_===t&&this.W_(n,r)},t=>{e(()=>{const e=new qa($a.UNKNOWN,"Fetching auth token failed: "+t.message);return this.G_(e)})})}W_(e,t){const n=this.K_(this.b_);this.stream=this.z_(e,t),this.stream.Zo(()=>{n(()=>this.listener.Zo())}),this.stream.e_(()=>{n(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(e=>{n(()=>this.G_(e))}),this.stream.onMessage(e=>{n(()=>1==++this.C_?this.j_(e):this.onNext(e))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return Oa(of,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return t=>{this.Fi.enqueueAndForget(()=>this.b_===e?t():(Oa(of,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class cf extends lf{constructor(e,t,n,r,i,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i}z_(e,t){return this.connection.P_("Listen",e,t)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Ua(39313,{state:e})}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(e,t){return e.useProto3Json?(za(void 0===t||"string"==typeof t,58123),Cl.fromBase64String(t||"")):(za(void 0===t||t instanceof Buffer||t instanceof Uint8Array,16193),Cl.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),a=t.targetChange.cause,o=a&&function(e){const t=void 0===e.code?$a.UNKNOWN:rd(e.code);return new qa(t,e.message||"")}(a);n=new pd(r,i,s,o||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=jd(e,r.document.name),s=Cd(r.document.updateTime),a=r.document.createTime?Cd(r.document.createTime):To.min(),o=new dc({mapValue:{fields:r.document.fields}}),l=fc.newFoundDocument(i,s,a,o),c=r.targetIds||[],u=r.removedTargetIds||[];n=new hd(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=jd(e,r.document),s=r.readTime?Cd(r.readTime):To.min(),a=fc.newNoDocument(i,s),o=r.removedTargetIds||[];n=new hd([],o,a.key,a)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=jd(e,r.document),s=r.removedTargetIds||[];n=new hd([],s,i,null)}else{if(!("filter"in t))return Ua(11601,{At:t});{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,s=new Zu(r,i),a=e.targetId;n=new fd(a,s)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return To.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?To.min():t.readTime?Cd(t.readTime):To.min()}(e);return this.listener.J_(t,n)}H_(e){const t={};t.database=Od(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=Vc(r)?{documents:Ud(e,r)}:{query:Vd(e,r).Vt},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=kd(e,t.resumeToken);const r=xd(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(To.min())>0){n.readTime=Sd(e,t.snapshotVersion.toTimestamp());const r=xd(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ua(28987,{purpose:e})}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.k_(t)}Y_(e){const t={};t.database=Od(this.serializer),t.removeTarget=e,this.k_(t)}}class uf extends lf{constructor(e,t,n,r,i,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,t){return this.connection.P_("Write",e,t)}j_(e){return za(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,za(!e.writeResults||0===e.writeResults.length,55816),this.listener.ea()}onNext(e){za(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const t=function(e,t){return e&&e.length>0?(za(void 0!==t,14353),e.map(e=>function(e,t){let n=e.updateTime?Cd(e.updateTime):Cd(t);return n.isEqual(To.min())&&(n=Cd(t)),new Du(n,e.transformResults||[])}(e,t))):[]}(e.writeResults,e.commitTime),n=Cd(e.commitTime);return this.listener.ta(n,t)}na(){const e={};e.database=Od(this.serializer),this.k_(e)}X_(e){const t={streamToken:this.lastStreamToken,writes:e.map(e=>Fd(this.serializer,e))};this.k_(t)}}class df{}class hf extends df{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.ra=!1}ia(){if(this.ra)throw new qa($a.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,n,r){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(i=>{let[s,a]=i;return this.connection.Wo(e,Nd(t,n),r,s,a)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===$a.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new qa($a.UNKNOWN,e.toString())})}Jo(e,t,n,r,i){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(s=>{let[a,o]=s;return this.connection.Jo(e,Nd(t,n),r,a,o,i)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===$a.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new qa($a.UNKNOWN,e.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class ff{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){0===this.sa&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){"Online"===this.state?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,"Online"===e&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(La(t),this._a=!1):Oa("OnlineStateTracker",t)}ha(){null!==this.oa&&(this.oa.cancel(),this.oa=null)}}const pf="RemoteStore";class mf{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=i,this.Ea.xo(e=>{n.enqueueAndForget(async()=>{Sf(this)&&(Oa(pf,"Restarting streams for network reachability change."),await async function(e){const t=Ba(e);t.Ia.add(4),await vf(t),t.Aa.set("Unknown"),t.Ia.delete(4),await gf(t)}(this))})}),this.Aa=new ff(n,r)}}async function gf(e){if(Sf(e))for(const t of e.da)await t(!0)}async function vf(e){for(const t of e.da)await t(!1)}function yf(e,t){const n=Ba(e);n.Ta.has(t.targetId)||(n.Ta.set(t.targetId,t),xf(n)?Ef(n):$f(n).x_()&&wf(n,t))}function bf(e,t){const n=Ba(e),r=$f(n);n.Ta.delete(t),r.x_()&&_f(n,t),0===n.Ta.size&&(r.x_()?r.B_():Sf(n)&&n.Aa.set("Unknown"))}function wf(e,t){if(e.Ra.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(To.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}$f(e).H_(t)}function _f(e,t){e.Ra.$e(t),$f(e).Y_(t)}function Ef(e){e.Ra=new gd({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),Et:t=>e.Ta.get(t)||null,lt:()=>e.datastore.serializer.databaseId}),$f(e).start(),e.Aa.aa()}function xf(e){return Sf(e)&&!$f(e).M_()&&e.Ta.size>0}function Sf(e){return 0===Ba(e).Ia.size}function kf(e){e.Ra=void 0}async function Tf(e){e.Aa.set("Online")}async function Cf(e){e.Ta.forEach((t,n)=>{wf(e,t)})}async function If(e,t){kf(e),xf(e)?(e.Aa.la(t),Ef(e)):e.Aa.set("Unknown")}async function Nf(e,t,n){if(e.Aa.set("Online"),t instanceof pd&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.Ta.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.Ta.delete(r),e.Ra.removeTarget(r))}(e,t)}catch(n){Oa(pf,"Failed to remove targets %s: %s ",t.targetIds.join(","),n),await Af(e,n)}else if(t instanceof hd?e.Ra.Ye(t):t instanceof fd?e.Ra.it(t):e.Ra.et(t),!n.isEqual(To.min()))try{const t=await Mh(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.Ra.Pt(t);return n.targetChanges.forEach((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.Ta.get(r);i&&e.Ta.set(r,i.withResumeToken(n.resumeToken,t))}}),n.targetMismatches.forEach((t,n)=>{const r=e.Ta.get(t);if(!r)return;e.Ta.set(t,r.withResumeToken(Cl.EMPTY_BYTE_STRING,r.snapshotVersion)),_f(e,t);const i=new Jd(r.target,t,n,r.sequenceNumber);wf(e,i)}),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){Oa(pf,"Failed to raise snapshot:",t),await Af(e,t)}}async function Af(e,t,n){if(!Fo(t))throw t;e.Ia.add(1),await vf(e),e.Aa.set("Offline"),n||(n=()=>Mh(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{Oa(pf,"Retrying IndexedDB access"),await n(),e.Ia.delete(1),await gf(e)})}function Pf(e,t){return t().catch(n=>Af(e,n,t))}async function jf(e){const t=Ba(e),n=qf(t);let r=t.Pa.length>0?t.Pa[t.Pa.length-1].batchId:Vo;for(;Rf(t);)try{const e=await Uh(t.localStore,r);if(null===e){0===t.Pa.length&&n.B_();break}r=e.batchId,Df(t,e)}catch(e){await Af(t,e)}Of(t)&&Lf(t)}function Rf(e){return Sf(e)&&e.Pa.length<10}function Df(e,t){e.Pa.push(t);const n=qf(e);n.x_()&&n.Z_&&n.X_(t.mutations)}function Of(e){return Sf(e)&&!qf(e).M_()&&e.Pa.length>0}function Lf(e){qf(e).start()}async function Mf(e){qf(e).na()}async function Ff(e){const t=qf(e);for(const n of e.Pa)t.X_(n.mutations)}async function Uf(e,t,n){const r=e.Pa.shift(),i=Ju.from(r,t,n);await Pf(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await jf(e)}async function Vf(e,t){t&&qf(e).Z_&&await async function(e,t){if(function(e){return nd(e)&&e!==$a.ABORTED}(t.code)){const n=e.Pa.shift();qf(e).N_(),await Pf(e,()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t)),await jf(e)}}(e,t),Of(e)&&Lf(e)}async function zf(e,t){const n=Ba(e);n.asyncQueue.verifyOperationInProgress(),Oa(pf,"RemoteStore received new credentials");const r=Sf(n);n.Ia.add(3),await vf(n),r&&n.Aa.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ia.delete(3),await gf(n)}async function Bf(e,t){const n=Ba(e);t?(n.Ia.delete(2),await gf(n)):t||(n.Ia.add(2),await vf(n),n.Aa.set("Unknown"))}function $f(e){return e.Va||(e.Va=function(e,t,n){const r=Ba(e);return r.ia(),new cf(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Zo:Tf.bind(null,e),e_:Cf.bind(null,e),n_:If.bind(null,e),J_:Nf.bind(null,e)}),e.da.push(async t=>{t?(e.Va.N_(),xf(e)?Ef(e):e.Aa.set("Unknown")):(await e.Va.stop(),kf(e))})),e.Va}function qf(e){return e.ma||(e.ma=function(e,t,n){const r=Ba(e);return r.ia(),new uf(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Zo:()=>Promise.resolve(),e_:Mf.bind(null,e),n_:Vf.bind(null,e),ea:Ff.bind(null,e),ta:Uf.bind(null,e)}),e.da.push(async t=>{t?(e.ma.N_(),await jf(e)):(await e.ma.stop(),e.Pa.length>0&&(Oa(pf,`Stopping write stream with ${e.Pa.length} pending writes`),e.Pa=[]))})),e.ma}class Hf{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Ha,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(e=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const s=Date.now()+n,a=new Hf(e,t,s,r,i);return a.start(n),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new qa($a.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Wf(e,t){if(La("AsyncQueue",`${t}: ${e}`),Fo(e))return new qa($a.UNAVAILABLE,`${t}: ${e}`);throw e}class Kf{static emptySet(e){return new Kf(e.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||po.comparator(t.key,n.key):(e,t)=>po.comparator(e.key,t.key),this.keyedMap=lu(),this.sortedSet=new wl(this.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Kf))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new Kf;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class Gf{constructor(){this.fa=new wl(po.comparator)}track(e){const t=e.doc.key,n=this.fa.get(t);n?0!==e.type&&3===n.type?this.fa=this.fa.insert(t,e):3===e.type&&1!==n.type?this.fa=this.fa.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.fa=this.fa.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.fa=this.fa.remove(t):1===e.type&&2===n.type?this.fa=this.fa.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):Ua(63341,{At:e,ga:n}):this.fa=this.fa.insert(t,e)}pa(){const e=[];return this.fa.inorderTraversal((t,n)=>{e.push(n)}),e}}class Qf{constructor(e,t,n,r,i,s,a,o,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=o,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const s=[];return t.forEach(e=>{s.push({type:0,doc:e})}),new Qf(e,t,Kf.emptySet(t),s,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Jc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class Yf{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}}class Jf{constructor(){this.queries=Xf(),this.onlineState="Unknown",this.Da=new Set}terminate(){!function(e,t){const n=Ba(e),r=n.queries;n.queries=Xf(),r.forEach((e,n)=>{for(const r of n.wa)r.onError(t)})}(this,new qa($a.ABORTED,"Firestore shutting down"))}}function Xf(){return new iu(e=>Xc(e),Jc)}async function Zf(e,t){const n=Ba(e);let r=3;const i=t.query;let s=n.queries.get(i);s?!s.Sa()&&t.ba()&&(r=2):(s=new Yf,r=t.ba()?0:1);try{switch(r){case 0:s.ya=await n.onListen(i,!0);break;case 1:s.ya=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(e){const n=Wf(e,`Initialization of query '${Zc(t.query)}' failed`);return void t.onError(n)}n.queries.set(i,s),s.wa.push(t),t.va(n.onlineState),s.ya&&t.Ca(s.ya)&&rp(n)}async function ep(e,t){const n=Ba(e),r=t.query;let i=3;const s=n.queries.get(r);if(s){const e=s.wa.indexOf(t);e>=0&&(s.wa.splice(e,1),0===s.wa.length?i=t.ba()?0:1:!s.Sa()&&t.ba()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function tp(e,t){const n=Ba(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.wa)e.Ca(i)&&(r=!0);t.ya=i}}r&&rp(n)}function np(e,t,n){const r=Ba(e),i=r.queries.get(t);if(i)for(const s of i.wa)s.onError(n);r.queries.delete(t)}function rp(e){e.Da.forEach(e=>{e.next()})}var ip,sp;(sp=ip||(ip={})).Fa="default",sp.Cache="cache";class ap{constructor(e,t,n){this.query=e,this.Ma=t,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=n||{}}Ca(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new Qf(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),t=!0):this.Ba(e,this.onlineState)&&(this.La(e),t=!0),this.Oa=e,t}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let t=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),t=!0),t}Ba(e,t){if(!e.fromCache)return!0;if(!this.ba())return!0;const n="Offline"!==t;return(!this.options.ka||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Na(e){if(e.docChanges.length>0)return!0;const t=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}La(e){e=Qf.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==ip.Cache}}class op{constructor(e){this.key=e}}class lp{constructor(e){this.key=e}}class cp{constructor(e,t){this.query=e,this.Ha=t,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=mu(),this.mutatedKeys=mu(),this.Xa=nu(e),this.eu=new Kf(this.Xa)}get tu(){return this.Ha}nu(e,t){const n=t?t.ru:new Gf,r=t?t.eu:this.eu;let i=t?t.mutatedKeys:this.mutatedKeys,s=r,a=!1;const o="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((e,t)=>{const c=r.get(e),u=eu(this.query,t)?t:null,d=!!c&&this.mutatedKeys.has(c.key),h=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?d!==h&&(n.track({type:3,doc:u}),f=!0):this.iu(c,u)||(n.track({type:2,doc:u}),f=!0,(o&&this.Xa(u,o)>0||l&&this.Xa(u,l)<0)&&(a=!0)):!c&&u?(n.track({type:0,doc:u}),f=!0):c&&!u&&(n.track({type:1,doc:c}),f=!0,(o||l)&&(a=!0)),f&&(u?(s=s.add(u),i=h?i.add(e):i.delete(e)):(s=s.delete(e),i=i.delete(e)))}),null!==this.query.limit)for(;s.size>this.query.limit;){const e="F"===this.query.limitType?s.last():s.first();s=s.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{eu:s,ru:n,Ds:a,mutatedKeys:i}}iu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const i=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const s=e.ru.pa();s.sort((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ua(20277,{At:e})}};return n(e)-n(t)}(e.type,t.type)||this.Xa(e.doc,t.doc)),this.su(n),r=null!=r&&r;const a=t&&!r?this.ou():[],o=0===this.Za.size&&this.current&&!r?1:0,l=o!==this.Ya;return this.Ya=o,0!==s.length||l?{snapshot:new Qf(this.query,e.eu,i,s,e.mutatedKeys,0===o,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),_u:a}:{_u:a}}va(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({eu:this.eu,ru:new Gf,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(e=>this.Ha=this.Ha.add(e)),e.modifiedDocuments.forEach(e=>{}),e.removedDocuments.forEach(e=>this.Ha=this.Ha.delete(e)),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=mu(),this.eu.forEach(e=>{this.au(e.key)&&(this.Za=this.Za.add(e.key))});const t=[];return e.forEach(e=>{this.Za.has(e)||t.push(new lp(e))}),this.Za.forEach(n=>{e.has(n)||t.push(new op(n))}),t}uu(e){this.Ha=e.qs,this.Za=mu();const t=this.nu(e.documents);return this.applyChanges(t,!0)}cu(){return Qf.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,0===this.Ya,this.hasCachedResults)}}const up="SyncEngine";class dp{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class hp{constructor(e){this.key=e,this.lu=!1}}class fp{constructor(e,t,n,r,i,s){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.hu={},this.Pu=new iu(e=>Xc(e),Jc),this.Tu=new Map,this.Iu=new Set,this.du=new wl(po.comparator),this.Eu=new Map,this.Au=new wh,this.Ru={},this.Vu=new Map,this.mu=ah.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return!0===this.fu}}async function pp(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=Op(e);let i;const s=r.Pu.get(t);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.cu()):i=await gp(r,t,n,!0),i}async function mp(e,t){const n=Op(e);await gp(n,t,!0,!1)}async function gp(e,t,n,r){const i=await Vh(e.localStore,Kc(t)),s=i.targetId,a=e.sharedClientState.addLocalQueryTarget(s,n);let o;return r&&(o=await vp(e,t,s,"current"===a,i.resumeToken)),e.isPrimaryClient&&n&&yf(e.remoteStore,i),o}async function vp(e,t,n,r,i){e.gu=(t,n,r)=>async function(e,t,n,r){let i=t.view.nu(n);i.Ds&&(i=await Bh(e.localStore,t.query,!1).then(e=>{let{documents:n}=e;return t.view.nu(n,i)}));const s=r&&r.targetChanges.get(t.targetId),a=r&&null!=r.targetMismatches.get(t.targetId),o=t.view.applyChanges(i,e.isPrimaryClient,s,a);return Np(e,t.targetId,o._u),o.snapshot}(e,t,n,r);const s=await Bh(e.localStore,t,!0),a=new cp(t,s.qs),o=a.nu(s.documents),l=dd.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),c=a.applyChanges(o,e.isPrimaryClient,l);Np(e,n,c._u);const u=new dp(t,n,a);return e.Pu.set(t,u),e.Tu.has(n)?e.Tu.get(n).push(t):e.Tu.set(n,[t]),c.snapshot}async function yp(e,t,n){const r=Ba(e),i=r.Pu.get(t),s=r.Tu.get(i.targetId);if(s.length>1)return r.Tu.set(i.targetId,s.filter(e=>!Jc(e,t))),void r.Pu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await zh(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&bf(r.remoteStore,i.targetId),Cp(r,i.targetId)}).catch(Oo)):(Cp(r,i.targetId),await zh(r.localStore,i.targetId,!0))}async function bp(e,t){const n=Ba(e),r=n.Pu.get(t),i=n.Tu.get(r.targetId);n.isPrimaryClient&&1===i.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),bf(n.remoteStore,r.targetId))}async function wp(e,t){const n=Ba(e);try{const e=await function(e,t){const n=Ba(e),r=t.snapshotVersion;let i=n.Fs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",e=>{const s=n.Os.newChangeBuffer({trackRemovals:!0});i=n.Fs;const a=[];t.targetChanges.forEach((s,o)=>{const l=i.get(o);if(!l)return;a.push(n.hi.removeMatchingKeys(e,s.removedDocuments,o).next(()=>n.hi.addMatchingKeys(e,s.addedDocuments,o)));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(o)?c=c.withResumeToken(Cl.EMPTY_BYTE_STRING,To.min()).withLastLimboFreeSnapshotVersion(To.min()):s.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(s.resumeToken,r)),i=i.insert(o,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(l,c,s)&&a.push(n.hi.updateTargetData(e,c))});let o=au(),l=mu();if(t.documentUpdates.forEach(r=>{t.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))}),a.push(Fh(e,s,t.documentUpdates).next(e=>{o=e.Ls,l=e.ks})),!r.isEqual(To.min())){const t=n.hi.getLastRemoteSnapshotVersion(e).next(t=>n.hi.setTargetsMetadata(e,e.currentSequenceNumber,r));a.push(t)}return Lo.waitFor(a).next(()=>s.apply(e)).next(()=>n.localDocuments.getLocalViewOfDocuments(e,o,l)).next(()=>o)}).then(e=>(n.Fs=i,e))}(n.localStore,t);t.targetChanges.forEach((e,t)=>{const r=n.Eu.get(t);r&&(za(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1,22616),e.addedDocuments.size>0?r.lu=!0:e.modifiedDocuments.size>0?za(r.lu,14607):e.removedDocuments.size>0&&(za(r.lu,42227),r.lu=!1))}),await jp(n,e,t)}catch(e){await Oo(e)}}function _p(e,t,n){const r=Ba(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.Pu.forEach((n,r)=>{const i=r.view.va(t);i.snapshot&&e.push(i.snapshot)}),function(e,t){const n=Ba(e);n.onlineState=t;let r=!1;n.queries.forEach((e,n)=>{for(const i of n.wa)i.va(t)&&(r=!0)}),r&&rp(n)}(r.eventManager,t),e.length&&r.hu.J_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function Ep(e,t,n){const r=Ba(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Eu.get(t),s=i&&i.key;if(s){let e=new wl(po.comparator);e=e.insert(s,fc.newNoDocument(s,To.min()));const n=mu().add(s),i=new ud(To.min(),new Map,new wl(ro),e,n);await wp(r,i),r.du=r.du.remove(s),r.Eu.delete(t),Pp(r)}else await zh(r.localStore,t,!1).then(()=>Cp(r,t,n)).catch(Oo)}async function xp(e,t){const n=Ba(e),r=t.batch.batchId;try{const e=await function(e,t){const n=Ba(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",e=>{const r=t.batch.keys(),i=n.Os.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,s=i.keys();let a=Lo.resolve();return s.forEach(e=>{a=a.next(()=>r.getEntry(t,e)).next(t=>{const s=n.docVersions.get(e);za(null!==s,48541),t.version.compareTo(s)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))})}),a.next(()=>e.mutationQueue.removeMutationBatch(t,i))}(n,e,t,i).next(()=>i.apply(e)).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=mu();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))).next(()=>n.localDocuments.getDocuments(e,r))})}(n.localStore,t);Tp(n,r,null),kp(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await jp(n,e)}catch(e){await Oo(e)}}async function Sp(e,t,n){const r=Ba(e);try{const e=await function(e,t){const n=Ba(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next(t=>(za(null!==t,37113),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t))).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)).next(()=>n.localDocuments.getDocuments(e,r))})}(r.localStore,t);Tp(r,t,n),kp(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await jp(r,e)}catch(n){await Oo(n)}}function kp(e,t){(e.Vu.get(t)||[]).forEach(e=>{e.resolve()}),e.Vu.delete(t)}function Tp(e,t,n){const r=Ba(e);let i=r.Ru[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Ru[r.currentUser.toKey()]=i}}function Cp(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Tu.get(t))e.Pu.delete(r),n&&e.hu.pu(r,n);e.Tu.delete(t),e.isPrimaryClient&&e.Au.zr(t).forEach(t=>{e.Au.containsKey(t)||Ip(e,t)})}function Ip(e,t){e.Iu.delete(t.path.canonicalString());const n=e.du.get(t);null!==n&&(bf(e.remoteStore,n),e.du=e.du.remove(t),e.Eu.delete(n),Pp(e))}function Np(e,t,n){for(const r of n)r instanceof op?(e.Au.addReference(r.key,t),Ap(e,r)):r instanceof lp?(Oa(up,"Document no longer in limbo: "+r.key),e.Au.removeReference(r.key,t),e.Au.containsKey(r.key)||Ip(e,r.key)):Ua(19791,{yu:r})}function Ap(e,t){const n=t.key,r=n.path.canonicalString();e.du.get(n)||e.Iu.has(r)||(Oa(up,"New document in limbo: "+n),e.Iu.add(r),Pp(e))}function Pp(e){for(;e.Iu.size>0&&e.du.size<e.maxConcurrentLimboResolutions;){const t=e.Iu.values().next().value;e.Iu.delete(t);const n=new po(uo.fromString(t)),r=e.mu.next();e.Eu.set(r,new hp(n)),e.du=e.du.insert(n,r),yf(e.remoteStore,new Jd(Kc($c(n.path)),r,"TargetPurposeLimboResolution",Uo.ue))}}async function jp(e,t,n){const r=Ba(e),i=[],s=[],a=[];r.Pu.isEmpty()||(r.Pu.forEach((e,o)=>{a.push(r.gu(o,t,n).then(e=>{var t;if((e||n)&&r.isPrimaryClient){const i=e?!e.fromCache:null===(t=null==n?void 0:n.targetChanges.get(o.targetId))||void 0===t?void 0:t.current;r.sharedClientState.updateQueryState(o.targetId,i?"current":"not-current")}if(e){i.push(e);const t=Ah.Es(o.targetId,e);s.push(t)}}))}),await Promise.all(a),r.hu.J_(i),await async function(e,t){const n=Ba(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",e=>Lo.forEach(t,t=>Lo.forEach(t.Is,r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r)).next(()=>Lo.forEach(t.ds,r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))}catch(e){if(!Fo(e))throw e;Oa(Rh,"Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.Fs.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.Fs=n.Fs.insert(e,i)}}}(r.localStore,s))}async function Rp(e,t){const n=Ba(e);if(!n.currentUser.isEqual(t)){Oa(up,"User change. New user:",t.toKey());const e=await Lh(n.localStore,t);n.currentUser=t,function(e,t){e.Vu.forEach(e=>{e.forEach(e=>{e.reject(new qa($a.CANCELLED,t))})}),e.Vu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await jp(n,e.Bs)}}function Dp(e,t){const n=Ba(e),r=n.Eu.get(t);if(r&&r.lu)return mu().add(r.key);{let e=mu();const r=n.Tu.get(t);if(!r)return e;for(const t of r){const r=n.Pu.get(t);e=e.unionWith(r.view.tu)}return e}}function Op(e){const t=Ba(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=wp.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Dp.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Ep.bind(null,t),t.hu.J_=tp.bind(null,t.eventManager),t.hu.pu=np.bind(null,t.eventManager),t}function Lp(e){const t=Ba(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=xp.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Sp.bind(null,t),t}class Mp{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=sf(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,t){return null}Fu(e,t){return null}vu(e){return Oh(this.persistence,new jh,e.initialUser,this.serializer)}Du(e){return new Th(Ih.Vi,this.serializer)}bu(e){return new Hh}async terminate(){var e,t;null===(e=this.gcScheduler)||void 0===e||e.stop(),null===(t=this.indexBackfillerScheduler)||void 0===t||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Mp.provider={build:()=>new Mp};class Fp extends Mp{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,t){za(this.persistence.referenceDelegate instanceof Nh,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new dh(n,e.asyncQueue,t)}Du(e){const t=void 0!==this.cacheSizeBytes?sh.withCacheSize(this.cacheSizeBytes):sh.DEFAULT;return new Th(e=>Nh.Vi(e,t),this.serializer)}}class Up{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>_p(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=Rp.bind(null,this.syncEngine),await Bf(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new Jf}createDatastore(e){const t=sf(e.databaseInfo.databaseId),n=function(e){return new nf(e)}(e.databaseInfo);return function(e,t,n,r){return new hf(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new mf(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,e=>_p(this.syncEngine,e,0),Gh.C()?new Gh:new Wh)}createSyncEngine(e,t){return function(e,t,n,r,i,s,a){const o=new fp(e,t,n,r,i,s);return a&&(o.fu=!0),o}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(e){const t=Ba(e);Oa(pf,"RemoteStore shutting down."),t.Ia.add(5),await vf(t),t.Ea.shutdown(),t.Aa.set("Unknown")}(this.remoteStore),null===(e=this.datastore)||void 0===e||e.terminate(),null===(t=this.eventManager)||void 0===t||t.terminate()}}Up.provider={build:()=>new Up};class Vp{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):La("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}const zp="FirestoreClient";class Bp{constructor(e,t,n,r,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=Pa.UNAUTHENTICATED,this.clientId=no.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(n,async e=>{Oa(zp,"Received user=",e.uid),await this.authCredentialListener(e),this.user=e}),this.appCheckCredentials.start(n,e=>(Oa(zp,"Received new app check token=",e),this.appCheckCredentialListener(e,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ha;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=Wf(t,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function $p(e,t){e.asyncQueue.verifyOperationInProgress(),Oa(zp,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async e=>{r.isEqual(e)||(await Lh(t.localStore,e),r=e)}),t.persistence.setDatabaseDeletedListener(()=>{Ma("Terminating Firestore due to IndexedDb database deletion"),e.terminate().then(()=>{Oa("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(e=>{Ma("Terminating Firestore due to IndexedDb database deletion failed",e)})}),e._offlineComponents=t}async function qp(e,t){e.asyncQueue.verifyOperationInProgress();const n=await Hp(e);Oa(zp,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(e=>zf(t.remoteStore,e)),e.setAppCheckTokenChangeListener((e,n)=>zf(t.remoteStore,n)),e._onlineComponents=t}async function Hp(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Oa(zp,"Using user provided OfflineComponentProvider");try{await $p(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(e){return"FirebaseError"===e.name?e.code===$a.FAILED_PRECONDITION||e.code===$a.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(n))throw n;Ma("Error using user provided cache. Falling back to memory cache: "+n),await $p(e,new Mp)}}else Oa(zp,"Using default OfflineComponentProvider"),await $p(e,new Fp(void 0));return e._offlineComponents}async function Wp(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Oa(zp,"Using user provided OnlineComponentProvider"),await qp(e,e._uninitializedComponentsProvider._online)):(Oa(zp,"Using default OnlineComponentProvider"),await qp(e,new Up))),e._onlineComponents}function Kp(e){return Wp(e).then(e=>e.syncEngine)}async function Gp(e){const t=await Wp(e),n=t.eventManager;return n.onListen=pp.bind(null,t.syncEngine),n.onUnlisten=yp.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=mp.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=bp.bind(null,t.syncEngine),n}function Qp(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new Ha;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,n,r,i){const s=new Vp({next:o=>{s.Ou(),t.enqueueAndForget(()=>ep(e,a));const l=o.docs.has(n);!l&&o.fromCache?i.reject(new qa($a.UNAVAILABLE,"Failed to get document because the client is offline.")):l&&o.fromCache&&r&&"server"===r.source?i.reject(new qa($a.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:e=>i.reject(e)}),a=new ap($c(n.path),s,{includeMetadataChanges:!0,ka:!0});return Zf(e,a)}(await Gp(e),e.asyncQueue,t,n,r)),r.promise}function Yp(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new Ha;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,n,r,i){const s=new Vp({next:n=>{s.Ou(),t.enqueueAndForget(()=>ep(e,a)),n.fromCache&&"server"===r.source?i.reject(new qa($a.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),a=new ap(n,s,{includeMetadataChanges:!0,ka:!0});return Zf(e,a)}(await Gp(e),e.asyncQueue,t,n,r)),r.promise}function Jp(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const Xp=new Map,Zp="firestore.googleapis.com",em=!0;class tm{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new qa($a.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Zp,this.ssl=em}else this.host=e.host,this.ssl=null!==(t=e.ssl)&&void 0!==t?t:em;if(this.isUsingEmulator=void 0!==e.emulatorOptions,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=ih;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<lh)throw new qa($a.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new qa($a.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Jp(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new qa($a.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (must not be NaN)`);if(e.timeoutSeconds<5)throw new qa($a.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (minimum allowed value is 5)`);if(e.timeoutSeconds>30)throw new qa($a.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class nm{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new tm({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new qa($a.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new qa($a.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new tm(e),this._emulatorOptions=e.emulatorOptions||{},void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Ka;switch(e.type){case"firstParty":return new Ja(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new qa($a.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Xp.get(e);t&&(Oa("ComponentProvider","Removing Datastore"),Xp.delete(e),t.terminate())}(this),Promise.resolve()}}function rm(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i;e=wo(e,nm);const s=Ke(t),a=e._getSettings(),o=Object.assign(Object.assign({},a),{emulatorOptions:e._getEmulatorOptions()}),l=`${t}:${n}`;s&&(Ge(`https://${l}`),Je("Firestore",!0)),a.host!==Zp&&a.host!==l&&Ma("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c=Object.assign(Object.assign({},a),{host:l,ssl:s,emulatorOptions:r});if(!st(c,o)&&(e._setSettings(c),r.mockUserToken)){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=Pa.MOCK_USER;else{t=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Ue(JSON.stringify({alg:"none",type:"JWT"})),Ue(JSON.stringify(s)),""].join(".")}(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new qa($a.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new Pa(s)}e._authCredentials=new Ga(new Wa(t,n))}}class im{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new im(this.firestore,e,this._query)}}class sm{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new am(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new sm(this.firestore,e,this._key)}toJSON(){return{type:sm._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,n){if(Eo(t,sm._jsonSchema))return new sm(e,n||null,new po(uo.fromString(t.referencePath)))}}sm._jsonSchemaVersion="firestore/documentReference/1.0",sm._jsonSchema={type:_o("string",sm._jsonSchemaVersion),referencePath:_o("string")};class am extends im{constructor(e,t,n){super(e,t,$c(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new sm(this.firestore,null,new po(e))}withConverter(e){return new am(this.firestore,e,this._path)}}function om(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=ht(e),mo("collection","path",t),e instanceof nm){const n=uo.fromString(t,...r);return vo(n),new am(e,null,n)}{if(!(e instanceof sm||e instanceof am))throw new qa($a.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(uo.fromString(t,...r));return vo(n),new am(e.firestore,null,n)}}function lm(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=ht(e),1===arguments.length&&(t=no.newId()),mo("doc","path",t),e instanceof nm){const n=uo.fromString(t,...r);return go(n),new sm(e,null,new po(n))}{if(!(e instanceof sm||e instanceof am))throw new qa($a.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(uo.fromString(t,...r));return go(n),new sm(e.firestore,e instanceof am?e.converter:null,new po(n))}}const cm="AsyncQueue";class um{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Promise.resolve();this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new af(this,"async_queue_retry"),this.oc=()=>{const e=rf();e&&Oa(cm,"Visibility state changed to "+e.visibilityState),this.F_.y_()},this._c=e;const t=rf();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const t=rf();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});const t=new Ha;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(0!==this.Zu.length){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(fv){if(!Fo(fv))throw fv;Oa(cm,"Operation failed with retryable error: "+fv)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){const t=this._c.then(()=>(this.nc=!0,e().catch(e=>{throw this.tc=e,this.nc=!1,La("INTERNAL UNHANDLED ERROR: ",dm(e)),e}).then(e=>(this.nc=!1,e))));return this._c=t,t}enqueueAfterDelay(e,t,n){this.ac(),this.sc.indexOf(e)>-1&&(t=0);const r=Hf.createAndSchedule(this,e,t,n,e=>this.lc(e));return this.ec.push(r),r}ac(){this.tc&&Ua(47125,{hc:dm(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do{e=this._c,await e}while(e!==this._c)}Tc(e){for(const t of this.ec)if(t.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((e,t)=>e.targetTimeMs-t.targetTimeMs);for(const t of this.ec)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){const t=this.ec.indexOf(e);this.ec.splice(t,1)}}function dm(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}class hm extends nm{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new um,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new um(e),this._firestoreClient=void 0,await e}}}function fm(e){if(e._terminated)throw new qa($a.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||pm(e),e._firestoreClient}function pm(e){var t,n,r;const i=e._freezeSettings(),s=function(e,t,n,r){return new Ul(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,Jp(r.experimentalLongPollingOptions),r.useFetchStreams,r.isUsingEmulator)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._componentsProvider||(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),e._firestoreClient=new Bp(e._authCredentials,e._appCheckCredentials,e._queue,s,e._componentsProvider&&function(e){const t=null==e?void 0:e._online.build();return{_offline:null==e?void 0:e._offline.build(t),_online:t}}(e._componentsProvider))}class mm{constructor(e){this._byteString=e}static fromBase64String(e){try{return new mm(Cl.fromBase64String(e))}catch(e){throw new qa($a.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new mm(Cl.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:mm._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Eo(e,mm._jsonSchema))return mm.fromBase64String(e.bytes)}}mm._jsonSchemaVersion="firestore/bytes/1.0",mm._jsonSchema={type:_o("string",mm._jsonSchemaVersion),bytes:_o("string")};class gm{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new qa($a.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new fo(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class vm{constructor(e){this._methodName=e}}class ym{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new qa($a.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new qa($a.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ro(this._lat,e._lat)||ro(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ym._jsonSchemaVersion}}static fromJSON(e){if(Eo(e,ym._jsonSchema))return new ym(e.latitude,e.longitude)}}ym._jsonSchemaVersion="firestore/geoPoint/1.0",ym._jsonSchema={type:_o("string",ym._jsonSchemaVersion),latitude:_o("number"),longitude:_o("number")};class bm{constructor(e){this._values=(e||[]).map(e=>e)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}toJSON(){return{type:bm._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Eo(e,bm._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(e=>"number"==typeof e))return new bm(e.vectorValues);throw new qa($a.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}bm._jsonSchemaVersion="firestore/vectorValue/1.0",bm._jsonSchema={type:_o("string",bm._jsonSchemaVersion),vectorValues:_o("object")};const wm=/^__.*__$/;class _m{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new qu(e,this.data,this.fieldMask,t,this.fieldTransforms):new $u(e,this.data,t,this.fieldTransforms)}}class Em{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new qu(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function xm(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ua(40011,{Ec:e})}}class Sm{constructor(e,t,n,r,i,s){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Ac(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new Sm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Rc({path:n,mc:!1});return r.fc(e),r}gc(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Rc({path:n,mc:!1});return r.Ac(),r}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return Bm(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(0===e.length)throw this.wc("Document fields must not be empty");if(xm(this.Ec)&&wm.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class km{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||sf(e)}Dc(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Sm({Ec:e,methodName:t,bc:n,path:fo.emptyPath(),mc:!1,Sc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Tm(e){const t=e._freezeSettings(),n=sf(e._databaseId);return new km(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Cm(e,t,n,r,i){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const a=e.Dc(s.merge||s.mergeFields?2:0,t,n,i);Fm("Data must be an object, but it was:",a,r);const o=Lm(r,a);let l,c;if(s.merge)l=new kl(a.fieldMask),c=a.fieldTransforms;else if(s.mergeFields){const e=[];for(const r of s.mergeFields){const i=Um(t,r,n);if(!a.contains(i))throw new qa($a.INVALID_ARGUMENT,`Field '${i}' is specified in your field mask but missing from your input data.`);$m(e,i)||e.push(i)}l=new kl(e),c=a.fieldTransforms.filter(e=>l.covers(e.field))}else l=null,c=a.fieldTransforms;return new _m(new dc(o),l,c)}class Im extends vm{_toFieldTransform(e){if(2!==e.Ec)throw 1===e.Ec?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Im}}function Nm(e,t,n){return new Sm({Ec:3,bc:t.settings.bc,methodName:e._methodName,mc:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class Am extends vm{constructor(e,t){super(e),this.vc=t}_toFieldTransform(e){const t=Nm(this,e,!0),n=this.vc.map(e=>Om(e,t)),r=new Tu(n);return new Ru(e.path,r)}isEqual(e){return e instanceof Am&&st(this.vc,e.vc)}}class Pm extends vm{constructor(e,t){super(e),this.vc=t}_toFieldTransform(e){const t=Nm(this,e,!0),n=this.vc.map(e=>Om(e,t)),r=new Iu(n);return new Ru(e.path,r)}isEqual(e){return e instanceof Pm&&st(this.vc,e.vc)}}function jm(e,t,n,r){const i=e.Dc(1,t,n);Fm("Data must be an object, but it was:",i,r);const s=[],a=dc.empty();yl(r,(e,r)=>{const o=zm(t,e,n);r=ht(r);const l=i.gc(o);if(r instanceof Im)s.push(o);else{const e=Om(r,l);null!=e&&(s.push(o),a.set(o,e))}});const o=new kl(s);return new Em(a,o,i.fieldTransforms)}function Rm(e,t,n,r,i,s){const a=e.Dc(1,t,n),o=[Um(t,r,n)],l=[i];if(s.length%2!=0)throw new qa($a.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<s.length;h+=2)o.push(Um(t,s[h])),l.push(s[h+1]);const c=[],u=dc.empty();for(let h=o.length-1;h>=0;--h)if(!$m(c,o[h])){const e=o[h];let t=l[h];t=ht(t);const n=a.gc(e);if(t instanceof Im)c.push(e);else{const r=Om(t,n);null!=r&&(c.push(e),u.set(e,r))}}const d=new kl(c);return new Em(u,d,a.fieldTransforms)}function Dm(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Om(n,e.Dc(r?4:3,t))}function Om(e,t){if(Mm(e=ht(e)))return Fm("Unsupported field value:",t,e),Lm(e,t);if(e instanceof vm)return function(e,t){if(!xm(t.Ec))throw t.wc(`${e._methodName}() can only be used with update() and set()`);if(!t.path)throw t.wc(`${e._methodName}() is not currently supported inside arrays`);const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.mc&&4!==t.Ec)throw t.wc("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=Om(i,t.yc(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=ht(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return wu(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=ko.fromDate(e);return{timestampValue:Sd(t.serializer,n)}}if(e instanceof ko){const n=new ko(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Sd(t.serializer,n)}}if(e instanceof ym)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof mm)return{bytesValue:kd(t.serializer,e._byteString)};if(e instanceof sm){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.wc(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:Id(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof bm)return function(e,t){return{mapValue:{fields:{[Bl]:{stringValue:Hl},[Wl]:{arrayValue:{values:e.toArray().map(e=>{if("number"!=typeof e)throw t.wc("VectorValues must only contain numeric values.");return yu(t.serializer,e)})}}}}}}(e,t);throw t.wc(`Unsupported field value: ${bo(e)}`)}(e,t)}function Lm(e,t){const n={};return bl(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):yl(e,(e,r)=>{const i=Om(r,t.Vc(e));null!=i&&(n[e]=i)}),{mapValue:{fields:n}}}function Mm(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof ko||e instanceof ym||e instanceof mm||e instanceof sm||e instanceof vm||e instanceof bm)}function Fm(e,t,n){if(!Mm(n)||!yo(n)){const r=bo(n);throw"an object"===r?t.wc(e+" a custom object"):t.wc(e+" "+r)}}function Um(e,t,n){if((t=ht(t))instanceof gm)return t._internalPath;if("string"==typeof t)return zm(e,t);throw Bm("Field path arguments must be of type string or ",e,!1,void 0,n)}const Vm=new RegExp("[~\\*/\\[\\]]");function zm(e,t,n){if(t.search(Vm)>=0)throw Bm(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new gm(...t.split("."))._internalPath}catch(r){throw Bm(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function Bm(e,t,n,r,i){const s=r&&!r.isEmpty(),a=void 0!==i;let o=`Function ${t}() called with invalid data`;n&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(s||a)&&(l+=" (found",s&&(l+=` in field ${r}`),a&&(l+=` in document ${i}`),l+=")"),new qa($a.INVALID_ARGUMENT,o+e+l)}function $m(e,t){return e.some(e=>e.isEqual(t))}class qm{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new sm(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Hm(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Wm("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Hm extends qm{data(){return super.data()}}function Wm(e,t){return"string"==typeof t?zm(e,t):t instanceof gm?t._internalPath:t._delegate._internalPath}function Km(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new qa($a.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Gm{}class Qm extends Gm{}function Ym(e,t){let n=[];for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];t instanceof Gm&&n.push(t),n=n.concat(i),function(e){const t=e.filter(e=>e instanceof Zm).length,n=e.filter(e=>e instanceof Jm).length;if(t>1||t>0&&n>0)throw new qa($a.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const a of n)e=a._apply(e);return e}class Jm extends Qm{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new Jm(e,t,n)}_apply(e){const t=this._parse(e);return rg(e._query,t),new im(e.firestore,e.converter,Qc(e._query,t))}_parse(e){const t=Tm(e.firestore),n=function(e,t,n,r,i,s,a){let o;if(i.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new qa($a.INVALID_ARGUMENT,`Invalid Query. You can't perform '${s}' queries on documentId().`);if("in"===s||"not-in"===s){ng(a,s);const t=[];for(const n of a)t.push(tg(r,e,n));o={arrayValue:{values:t}}}else o=tg(r,e,a)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||ng(a,s),o=Dm(n,t,a,"in"===s||"not-in"===s);return wc.create(i,s,o)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}function Xm(e,t,n){const r=t,i=Wm("where",e);return Jm._create(i,r,n)}class Zm extends Gm{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Zm(e,t)}_parse(e){const t=this._queryConstraints.map(t=>t._parse(e)).filter(e=>e.getFilters().length>0);return 1===t.length?t[0]:_c.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const i of r)rg(n,i),n=Qc(n,i)}(e._query,t),new im(e.firestore,e.converter,Qc(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class eg extends Qm{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new eg(e,t)}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new qa($a.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new qa($a.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new vc(t,n)}(e._query,this._field,this._direction);return new im(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new zc(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}function tg(e,t,n){if("string"==typeof(n=ht(n))){if(""===n)throw new qa($a.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Hc(t)&&-1!==n.indexOf("/"))throw new qa($a.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(uo.fromString(n));if(!po.isDocumentKey(r))throw new qa($a.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return nc(e,new po(r))}if(n instanceof sm)return nc(e,n._key);throw new qa($a.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${bo(n)}.`)}function ng(e,t){if(!Array.isArray(e)||0===e.length)throw new qa($a.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function rg(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new qa($a.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new qa($a.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class ig{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Kl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Al(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Pl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ua(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return yl(e,(e,r)=>{n[e]=this.convertValue(r,t)}),n}convertVectorValue(e){var t,n,r;const i=null===(r=null===(n=null===(t=e.fields)||void 0===t?void 0:t[Wl].arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.map(e=>Al(e.doubleValue));return new bm(i)}convertGeoPoint(e){return new ym(Al(e.latitude),Al(e.longitude))}convertArray(e,t){return(e.values||[]).map(e=>this.convertValue(e,t))}convertServerTimestamp(e,t){switch(t){case"previous":const n=Ml(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Fl(e));default:return null}}convertTimestamp(e){const t=Nl(e);return new ko(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=uo.fromString(e);za(Yd(n),9688,{name:e});const r=new zl(n.get(1),n.get(3)),i=new po(n.popFirst(5));return r.isEqual(t)||La(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}}function sg(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class ag{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class og extends qm{constructor(e,t,n,r,i,s){super(e,t,n,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new lg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(Wm("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new qa($a.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=og._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),e&&e.isValidDocument()&&e.isFoundDocument()?(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t):t}}og._jsonSchemaVersion="firestore/documentSnapshot/1.0",og._jsonSchema={type:_o("string",og._jsonSchemaVersion),bundleSource:_o("string","DocumentSnapshot"),bundleName:_o("string"),bundle:_o("string")};class lg extends og{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class cg{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new ag(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new lg(this._firestore,this._userDataWriter,n.key,n,new ag(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new qa($a.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map(n=>{const r=new lg(e._firestore,e._userDataWriter,n.doc.key,n.doc,new ag(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}})}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter(e=>t||3!==e.type).map(t=>{const r=new lg(e._firestore,e._userDataWriter,t.doc.key,t.doc,new ag(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,s=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),s=n.indexOf(t.doc.key)),{type:ug(t.type),doc:r,oldIndex:i,newIndex:s}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new qa($a.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=cg._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=no.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],n=[],r=[];return this.docs.forEach(e=>{null!==e._document&&(t.push(e._document),n.push(this._userDataWriter.convertObjectMap(e._document.data.value.mapValue.fields,"previous")),r.push(e.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function ug(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ua(61501,{type:e})}}function dg(e){e=wo(e,sm);const t=wo(e.firestore,hm);return Qp(fm(t),e._key).then(n=>bg(t,e,n))}cg._jsonSchemaVersion="firestore/querySnapshot/1.0",cg._jsonSchema={type:_o("string",cg._jsonSchemaVersion),bundleSource:_o("string","QuerySnapshot"),bundleName:_o("string"),bundle:_o("string")};class hg extends ig{constructor(e){super(),this.firestore=e}convertBytes(e){return new mm(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new sm(this.firestore,null,t)}}function fg(e){e=wo(e,im);const t=wo(e.firestore,hm),n=fm(t),r=new hg(t);return Km(e._query),Yp(n,e._query).then(n=>new cg(t,r,e,n))}function pg(e,t,n){e=wo(e,sm);const r=wo(e.firestore,hm),i=sg(e.converter,t,n);return yg(r,[Cm(Tm(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Ou.none())])}function mg(e,t,n){e=wo(e,sm);const r=wo(e.firestore,hm),i=Tm(r);let s;for(var a=arguments.length,o=new Array(a>3?a-3:0),l=3;l<a;l++)o[l-3]=arguments[l];return s="string"==typeof(t=ht(t))||t instanceof gm?Rm(i,"updateDoc",e._key,t,n,o):jm(i,"updateDoc",e._key,t),yg(r,[s.toMutation(e._key,Ou.exists(!0))])}function gg(e){return yg(wo(e.firestore,hm),[new Gu(e._key,Ou.none())])}function vg(e,t){const n=wo(e.firestore,hm),r=lm(e),i=sg(e.converter,t);return yg(n,[Cm(Tm(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Ou.exists(!1))]).then(()=>r)}function yg(e,t){return function(e,t){const n=new Ha;return e.asyncQueue.enqueueAndForget(async()=>async function(e,t,n){const r=Lp(e);try{const e=await function(e,t){const n=Ba(e),r=ko.now(),i=t.reduce((e,t)=>e.add(t.key),mu());let s,a;return n.persistence.runTransaction("Locally write mutations","readwrite",e=>{let o=au(),l=mu();return n.Os.getEntries(e,i).next(e=>{o=e,o.forEach((e,t)=>{t.isValidDocument()||(l=l.add(e))})}).next(()=>n.localDocuments.getOverlayedDocuments(e,o)).next(i=>{s=i;const a=[];for(const e of t){const t=zu(e,s.get(e.key).overlayedDocument);null!=t&&a.push(new qu(e.key,t,hc(t.value.mapValue),Ou.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,a,t)}).next(t=>{a=t;const r=t.applyToLocalDocumentSet(s,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)})}).then(()=>({batchId:a.batchId,changes:cu(s)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Ru[e.currentUser.toKey()];r||(r=new wl(ro)),r=r.insert(t,n),e.Ru[e.currentUser.toKey()]=r}(r,e.batchId,n),await jp(r,e.changes),await jf(r.remoteStore)}catch(e){const t=Wf(e,"Failed to persist write");n.reject(t)}}(await Kp(e),t,n)),n.promise}(fm(e),t)}function bg(e,t,n){const r=n.docs.get(t._key),i=new hg(e);return new og(e,i,t._key,r,new ag(n.hasPendingWrites,n.fromCache),t.converter)}function wg(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Am("arrayUnion",t)}function _g(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Pm("arrayRemove",t)}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){ja=e}(In),xn(new ft("firestore",(e,n)=>{let{instanceIdentifier:r,options:i}=n;const s=e.getProvider("app").getImmediate(),a=new hm(new Qa(e.getProvider("auth-internal")),new Za(s,e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new qa($a.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new zl(e.options.projectId,t)}(s,r),s);return i=Object.assign({useFetchStreams:t},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),Pn(Na,Aa,e),Pn(Na,Aa,"esm2017")}();Pn("firebase","11.10.0","app");const Eg=["REACT_APP_FIREBASE_API_KEY","REACT_APP_FIREBASE_AUTH_DOMAIN","REACT_APP_FIREBASE_PROJECT_ID","REACT_APP_FIREBASE_STORAGE_BUCKET","REACT_APP_FIREBASE_MESSAGING_SENDER_ID","REACT_APP_FIREBASE_APP_ID"];for(const n of Eg)if(!{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_CLOUDINARY_CLOUD_NAME:"dxqxjaruh",REACT_APP_CLOUDINARY_UPLOAD_PRESET:"ignite",REACT_APP_EMAILJS_PUBLIC_KEY:"nxm2K3gkOeRTTO6lb",REACT_APP_EMAILJS_SERVICE_ID:"service_8uecr8p",REACT_APP_EMAILJS_TEMPLATE_APPROVAL:"template_szaabif",REACT_APP_EMAILJS_TEMPLATE_REJECTION:"template_uqau4un",REACT_APP_FIREBASE_API_KEY:"AIzaSyAHSqMT1mLifDykEKsxXQs4e0V9m78UPQ0",REACT_APP_FIREBASE_APP_ID:"1:383859238509:web:d5743aa9ad3f54f2cd8164",REACT_APP_FIREBASE_AUTH_DOMAIN:"ignite-cd493.firebaseapp.com",REACT_APP_FIREBASE_MEASUREMENT_ID:"G-5176MFW08Z",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"383859238509",REACT_APP_FIREBASE_PROJECT_ID:"ignite-cd493",REACT_APP_FIREBASE_STORAGE_BUCKET:"ignite-cd493.firebasestorage.app"}[n])throw new Error(`Missing required environment variable: ${n}`);const xg=Nn({apiKey:"AIzaSyAHSqMT1mLifDykEKsxXQs4e0V9m78UPQ0",authDomain:"ignite-cd493.firebaseapp.com",projectId:"ignite-cd493",storageBucket:"ignite-cd493.firebasestorage.app",messagingSenderId:"383859238509",appId:"1:383859238509:web:d5743aa9ad3f54f2cd8164",measurementId:"G-5176MFW08Z"}),Sg=function(e,t){const n="object"==typeof e?e:An(),r="string"==typeof e?e:t||Vl,i=Sn(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const e=(e=>{const t=$e(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]})("firestore");e&&rm(i,...e)}return i}(xg),kg=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:An();const t=Sn(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=Sn(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(st(n.getOptions(),null!==t&&void 0!==t?t:{}))return e;Gn(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:la,persistence:[ys,Xi,rs]}),r=He("authTokenSyncURL");if(r&&"boolean"===typeof isSecureContext&&isSecureContext){const e=new URL(r,location.origin);if(location.origin===e.origin){const t=(i=e.toString(),async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>ha)return;const r=null===t||void 0===t?void 0:t.token;fa!==r&&(fa=r,await fetch(i,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))});!function(e,t,n){ht(e).beforeAuthStateChanged(t,n)}(n,t,()=>t(n.currentUser)),function(e,t,n,r){ht(e).onIdTokenChanged(t,n,r)}(n,e=>t(e))}}var i;const s=$e("auth");return s&&mi(n,`http://${s}`),n}(xg),Tg=()=>{const[e,n]=(0,t.useState)(null),[r,i]=(0,t.useState)(null),[s,a]=(0,t.useState)(!1),[o,l]=(0,t.useState)(!1),[c,u]=(0,t.useState)(!1),d=ee(),h="/"===X().pathname;(0,t.useEffect)(()=>{const e=()=>{const e=window.scrollY;a(e>50)};return window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)},[]),(0,t.useEffect)(()=>{const e=Ki(kg,async e=>{if(e){n(e);try{const t=await dg(lm(Sg,"admins",e.uid));t.exists()&&i(t.data().role)}catch(t){console.error("Error fetching user role:",t)}}else n(null),i(null)});return()=>e()},[]);const f=async()=>{try{await function(e){return ht(e).signOut()}(kg),n(null),i(null),d("/")}catch(e){console.error("Error logging out:",e)}},p=()=>{l(!1)};return(0,Ae.jsx)("nav",{className:"navbar "+(h&&!s?"navbar-transparent":"navbar-solid"),children:(0,Ae.jsxs)("div",{className:"nav-container",children:[(0,Ae.jsx)(Ce,{to:"/",className:"nav-logo",onClick:p,children:(0,Ae.jsx)("img",{src:"https://res.cloudinary.com/dxqxjaruh/image/upload/v1753546487/logo_gdmnno.png",alt:"Ignite Arcade",className:"nav-logo-img"})}),(0,Ae.jsxs)("button",{className:"mobile-menu-toggle",onClick:()=>{l(!o)},"aria-label":"Toggle menu",children:[(0,Ae.jsx)("span",{className:"hamburger-line "+(o?"open":"")}),(0,Ae.jsx)("span",{className:"hamburger-line "+(o?"open":"")}),(0,Ae.jsx)("span",{className:"hamburger-line "+(o?"open":"")})]}),(0,Ae.jsxs)("div",{className:"nav-menu "+(o?"mobile-open":""),children:[(0,Ae.jsx)(Ce,{to:"/",className:"nav-link",onClick:p,children:"Home"}),(0,Ae.jsx)(Ce,{to:"/menu",className:"nav-link",onClick:p,children:"Cafe"}),(0,Ae.jsx)(Ce,{to:"/offers",className:"nav-link",onClick:p,children:"Offers"}),(0,Ae.jsx)(Ce,{to:"/booking",className:"nav-link",onClick:p,children:"Book Now"}),(0,Ae.jsxs)("div",{className:"mobile-only",children:[(0,Ae.jsx)(Ce,{to:"/feedback",className:"nav-link",onClick:p,children:"Feedback"}),(0,Ae.jsx)(Ce,{to:"/faq",className:"nav-link",onClick:p,children:"FAQ"})]}),(0,Ae.jsxs)("div",{className:"support-dropdown desktop-only",onMouseEnter:()=>u(!0),onMouseLeave:()=>u(!1),children:[(0,Ae.jsxs)("button",{className:"nav-link support-toggle",onClick:()=>{u(!c)},children:["Support",(0,Ae.jsx)("span",{className:"dropdown-arrow",children:"\u25bc"})]}),(0,Ae.jsxs)("div",{className:"dropdown-menu "+(c?"show":""),children:[(0,Ae.jsx)(Ce,{to:"/feedback",className:"dropdown-item",onClick:p,children:"Feedback"}),(0,Ae.jsx)(Ce,{to:"/faq",className:"dropdown-item",onClick:p,children:"FAQ"})]})]}),e?(0,Ae.jsx)("div",{className:"admin-section",children:(0,Ae.jsx)("button",{onClick:()=>{f(),p()},className:"nav-link logout-btn",type:"button",children:"\ud83d\udd13 Logout"})}):null]}),o&&(0,Ae.jsx)("div",{className:"mobile-overlay",onClick:p})]})})},Cg=e=>{let{children:n,requiredRole:r=null}=e;const[i,s]=(0,t.useState)(null),[a,o]=(0,t.useState)(null),[l,c]=(0,t.useState)(!0),u=X();if((0,t.useEffect)(()=>{const e=Ki(kg,async e=>{if(e){s(e);try{const t=await dg(lm(Sg,"admins",e.uid));t.exists()?o(t.data().role):o(null)}catch(t){console.error("Error fetching user role:",t),o(null)}}else s(null),o(null);c(!1)});return()=>e()},[]),l)return(0,Ae.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",background:"linear-gradient(135deg, #0a0b1a, #1a1b2e)",color:"#ffffff",fontFamily:"Fredoka, sans-serif",fontSize:"1.2rem"},children:"Loading..."});if(!i)return(0,Ae.jsx)(me,{to:"/admin",state:{from:u},replace:!0});if(r&&a!==r){if(!(Array.isArray(r)?r.includes(a):a===r))return"jana"===a?(0,Ae.jsx)(me,{to:"/admin/dashboard",replace:!0}):"reception"===a?(0,Ae.jsx)(me,{to:"/admin/calendar",replace:!0}):(0,Ae.jsx)(me,{to:"/admin",replace:!0})}return n},Ig=e=>{let{children:n}=e;const[r,i]=(0,t.useState)(null),[s,a]=(0,t.useState)(null),[o,l]=(0,t.useState)(!0);return(0,t.useEffect)(()=>{const e=Ki(kg,async e=>{if(e){i(e);try{const t=await dg(lm(Sg,"admins",e.uid));t.exists()?a(t.data().role):a(null)}catch(t){console.error("Error fetching user role:",t),a(null)}}else i(null),a(null);l(!1)});return()=>e()},[]),o?(0,Ae.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",background:"linear-gradient(135deg, #0a0b1a, #1a1b2e)",color:"#ffffff",fontFamily:"Fredoka, sans-serif",fontSize:"1.2rem"},children:"Loading..."}):r?(0,Ae.jsx)(me,{to:"/admin/dashboard",replace:!0}):n},Ng=e=>{let{isOpen:n,onClose:r,zoneName:i}=e;const[s,a]=(0,t.useState)({images:[],videos:[]}),[o,l]=(0,t.useState)(0),[c,u]=(0,t.useState)("images"),[d,h]=(0,t.useState)(!1),f={bowling:"bowling",vr:"vr",cafe:"cafe"};(0,t.useEffect)(()=>{n&&i&&p()},[n,i]);const p=async()=>{h(!0);try{const e=f[i],t=await dg(lm(Sg,"zoneMedia","mediaCollection"));if(t.exists()){const n=t.data()[e]||{images:[],videos:[]};a(n),l(0),u(n.images.length>0?"images":"videos")}}catch(e){console.error("Error loading zone media:",e)}finally{h(!1)}},m=s[c]||[],g=m.length,v=()=>{if(o<g-1)l(o+1);else{const e="images"===c?"videos":"images";s[e]&&s[e].length>0&&(u(e),l(0))}},y=()=>{if(o>0)l(o-1);else{const e="images"===c?"videos":"images";s[e]&&s[e].length>0&&(u(e),l(s[e].length-1))}},b=e=>{"ArrowRight"===e.key&&v(),"ArrowLeft"===e.key&&y(),"Escape"===e.key&&r()};if((0,t.useEffect)(()=>(n?(document.addEventListener("keydown",b),document.body.style.overflow="hidden"):document.body.style.overflow="unset",()=>{document.removeEventListener("keydown",b),document.body.style.overflow="unset"}),[n,o,c]),!n)return null;const w=s.images.length>0||s.videos.length>0;return(0,Ae.jsx)("div",{className:"media-viewer-overlay",onClick:r,children:(0,Ae.jsxs)("div",{className:"media-viewer",onClick:e=>e.stopPropagation(),children:[(0,Ae.jsx)("button",{className:"close-btn",onClick:r,children:"\u2715"}),(0,Ae.jsxs)("div",{className:"media-header",children:[(0,Ae.jsxs)("h2",{children:[i," Gallery"]}),(0,Ae.jsxs)("div",{className:"media-tabs",children:[s.images.length>0&&(0,Ae.jsxs)("button",{className:"tab "+("images"===c?"active":""),onClick:()=>{u("images"),l(0)},children:["Images (",s.images.length,")"]}),s.videos.length>0&&(0,Ae.jsxs)("button",{className:"tab "+("videos"===c?"active":""),onClick:()=>{u("videos"),l(0)},children:["Videos (",s.videos.length,")"]})]})]}),(0,Ae.jsx)("div",{className:"media-content",children:d?(0,Ae.jsx)("div",{className:"loading",children:"Loading media..."}):w?(0,Ae.jsxs)(Ae.Fragment,{children:[(0,Ae.jsx)("div",{className:"media-display",children:m[o]&&("images"===c?(0,Ae.jsx)("img",{src:m[o].url,alt:`${i} ${o+1}`}):(0,Ae.jsx)("video",{src:m[o].url,controls:!0,autoPlay:!0}))}),g>1&&(0,Ae.jsxs)("div",{className:"media-controls",children:[(0,Ae.jsx)("button",{className:"nav-btn prev",onClick:y,children:"\u2039"}),(0,Ae.jsxs)("span",{className:"media-counter",children:[o+1," of ",g," ",c]}),(0,Ae.jsx)("button",{className:"nav-btn next",onClick:v,children:"\u203a"})]})]}):(0,Ae.jsx)("div",{className:"no-media",children:"No media available for this zone"})})]})})},Ag=()=>{const[e,n]=(0,t.useState)(""),[r,i]=(0,t.useState)(""),[s,a]=(0,t.useState)(!1),[o,l]=(0,t.useState)(0),[c,u]=(0,t.useState)(!1),[d,h]=(0,t.useState)(!1),[f,p]=(0,t.useState)(!1),[m,g]=(0,t.useState)(null),v=(0,t.useRef)(null),y=(0,t.useRef)(null),b=(0,t.useRef)(null),w=(0,t.useRef)([]),_=(0,t.useRef)(null),E="Welcome to IGNITE",x=["Where Fun Meets Adventure!","Your Ultimate Entertainment Destination","Strike Up Some Fun!","Level Up Your Game Experience!","Create Unforgettable Memories!"];(0,t.useEffect)(()=>{const e=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting?e.target.classList.add("animate-in"):e.target.classList.remove("animate-in")})},{threshold:.1,rootMargin:"0px 0px -50px 0px"});return[v.current,y.current,b.current,_.current,...w.current.filter(Boolean)].forEach(t=>{t&&e.observe(t)}),()=>e.disconnect()},[]),(0,t.useEffect)(()=>{let e=0;const t=()=>{e<17?(n(E.slice(0,e+1)),e++,setTimeout(t,100)):(a(!0),setTimeout(r,500))},r=()=>{h(!0),s(0)},s=e=>{const t=x[e];let n=0;u(!0),i("");const r=()=>{n<t.length?(i(t.slice(0,n+1)),n++,setTimeout(r,80)):(u(!1),setTimeout(()=>o(e),2e3))};r()},o=e=>{const t=x[e];let n=t.length;u(!0);const r=()=>{if(n>0)i(t.slice(0,n-1)),n--,setTimeout(r,50);else{u(!1);const t=(e+1)%x.length;l(t),setTimeout(()=>s(t),300)}};r()};setTimeout(t,1500)},[]);const S=e=>{g(e),p(!0)};return(0,Ae.jsxs)("div",{className:"home",children:[(0,Ae.jsx)("section",{className:"hero",children:(0,Ae.jsx)("div",{className:"hero-background",children:(0,Ae.jsxs)("div",{className:"hero-content",children:[(0,Ae.jsx)("div",{className:"logo-container",children:(0,Ae.jsx)("img",{src:"https://res.cloudinary.com/dxqxjaruh/image/upload/v1753546487/logo_gdmnno.png",alt:"Ignite Arcade Logo",className:"hero-logo"})}),(0,Ae.jsxs)("h1",{className:"typing-title",children:[e,(0,Ae.jsx)("span",{className:"cursor",children:s?"":"|"})]}),(0,Ae.jsxs)("p",{className:"typing-subtitle",children:[r,(0,Ae.jsx)("span",{className:"cursor subtitle-cursor",children:d&&(c||r.length>0)?"|":""})]}),(0,Ae.jsx)("div",{className:"cta-container "+(s?"show":""),children:(0,Ae.jsx)(Ce,{to:"/booking",className:"cta-button",children:"Book Your Session"})})]})})}),(0,Ae.jsx)("section",{className:"zones scroll-animate",ref:v,children:(0,Ae.jsxs)("div",{className:"container",children:[(0,Ae.jsx)("h2",{className:"scroll-animate-child",children:"Our Gaming Zones"}),(0,Ae.jsx)("p",{children:"Click on any zone card to view the gallery and explore more!"}),(0,Ae.jsxs)("div",{className:"zone-card scroll-animate-child clickable-zone",ref:e=>w.current[0]=e,onClick:()=>S("vr"),children:[(0,Ae.jsxs)("div",{className:"zone-image",children:[(0,Ae.jsx)("img",{src:"https://res.cloudinary.com/dxqxjaruh/image/upload/v1753546803/VRhome_ms1faz.jpg",alt:"VR Games Zone"}),(0,Ae.jsx)("div",{className:"zone-overlay",children:(0,Ae.jsx)("span",{className:"view-gallery",children:"\ud83d\udcf8 View Gallery"})})]}),(0,Ae.jsxs)("div",{className:"zone-content",children:[(0,Ae.jsx)("h3",{children:"\ud83e\udd7d VR Games Zone"}),(0,Ae.jsx)("p",{children:"Step into the future of fun with our cutting-edge VR experiences! Powered by advanced technology, our VR zone lets you explore new worlds, challenge your reflexes, and make unforgettable memories with friends\u2014no controllers, just pure immersion."})]})]}),(0,Ae.jsxs)("div",{className:"zone-card scroll-animate-child clickable-zone",ref:e=>w.current[1]=e,onClick:()=>S("bowling"),children:[(0,Ae.jsxs)("div",{className:"zone-image",children:[(0,Ae.jsx)("img",{src:"https://res.cloudinary.com/dxqxjaruh/image/upload/v1753546486/bowlingHome_zbbdgm.jpg",alt:"Bowling Zone"}),(0,Ae.jsx)("div",{className:"zone-overlay",children:(0,Ae.jsx)("span",{className:"view-gallery",children:"\ud83d\udcf8 View Gallery"})})]}),(0,Ae.jsxs)("div",{className:"zone-content",children:[(0,Ae.jsx)("h3",{children:"\ud83c\udfb3 Bowling Zone"}),(0,Ae.jsx)("p",{children:"Step into a space full of energy, colorful lights, and good vibes! With music, glowing lanes, and a lively atmosphere, our bowling zone is perfect for parties, friendly matches, or just having fun with your friends and family."})]})]}),(0,Ae.jsxs)("div",{className:"zone-card scroll-animate-child clickable-zone",ref:e=>w.current[2]=e,onClick:()=>S("cafe"),children:[(0,Ae.jsxs)("div",{className:"zone-image",children:[(0,Ae.jsx)("img",{src:"https://res.cloudinary.com/dxqxjaruh/image/upload/v1753546486/CafeHome_ouvnt9.jpg",alt:"Grab & Giggle Caf\xe9"}),(0,Ae.jsx)("div",{className:"zone-overlay",children:(0,Ae.jsx)("span",{className:"view-gallery",children:"\ud83d\udcf8 View Gallery"})})]}),(0,Ae.jsxs)("div",{className:"zone-content",children:[(0,Ae.jsx)("h3",{children:"\u2615 IGNITE Cafe"}),(0,Ae.jsx)("p",{children:"Need a break from the action? Whether you're grabbing a refreshing drink on the go or taking a moment to unwind, our indoor and outdoor seating has you covered. Sit back, relax, and enjoy views of the bowling lanes\u2014perfect for recharging, socializing, and soaking in the fun between rounds."})]})]})]})}),(0,Ae.jsx)("section",{className:"info scroll-animate",ref:y,children:(0,Ae.jsx)("div",{className:"container",children:(0,Ae.jsxs)("div",{className:"info-content",children:[(0,Ae.jsxs)("div",{className:"info-text scroll-animate-child",children:[(0,Ae.jsx)("h2",{children:"Get to Know Us"}),(0,Ae.jsx)("p",{children:"At IGNITE, we're built on four core pillars: Safety, Technology, Inclusion, and Amusement. These values set us apart and shape everything we do \u2014 from the games we offer to the experience you'll have. Every message we share and every moment you enjoy is powered by at least one of these principles. Together, they create an experience that's exciting, meaningful, and built to last."})]}),(0,Ae.jsx)("div",{className:"info-image scroll-animate-child",children:(0,Ae.jsx)("img",{src:"https://res.cloudinary.com/dxqxjaruh/image/upload/v1753546487/GetToKnowUs_x3wsox.jpg",alt:"Get to Know Us"})})]})})}),(0,Ae.jsx)("section",{className:"social-media scroll-animate",ref:b,children:(0,Ae.jsxs)("div",{className:"container",children:[(0,Ae.jsx)("h2",{className:"scroll-animate-child",children:"Follow Us"}),(0,Ae.jsx)("p",{className:"social-description scroll-animate-child",children:"Stay connected and never miss the fun! Follow us on social media for the latest updates, behind-the-scenes content, and exclusive offers."}),(0,Ae.jsxs)("div",{className:"social-links scroll-animate-child",children:[(0,Ae.jsxs)("a",{href:"https://www.instagram.com/ignite_ps",target:"_blank",rel:"noopener noreferrer",className:"social-link instagram",children:[(0,Ae.jsx)("div",{className:"social-icon",children:(0,Ae.jsx)("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:(0,Ae.jsx)("path",{d:"M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"})})}),(0,Ae.jsxs)("div",{className:"social-content",children:[(0,Ae.jsx)("h3",{children:"Instagram"}),(0,Ae.jsx)("p",{children:"@ignite_ps"})]})]}),(0,Ae.jsxs)("a",{href:"https://www.tiktok.com/@ignite_ps",target:"_blank",rel:"noopener noreferrer",className:"social-link tiktok",children:[(0,Ae.jsx)("div",{className:"social-icon",children:(0,Ae.jsx)("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:(0,Ae.jsx)("path",{d:"M19.59 6.69a4.83 4.83 0 0 1-3.77-4.25V2h-3.45v13.67a2.89 2.89 0 0 1-5.2 1.74 2.89 2.89 0 0 1 2.31-4.64 2.93 2.93 0 0 1 .88.13V9.4a6.84 6.84 0 0 0-1-.05A6.33 6.33 0 0 0 5 20.1a6.34 6.34 0 0 0 10.86-4.43v-7a8.16 8.16 0 0 0 4.77 1.52v-3.4a4.85 4.85 0 0 1-1-.1z"})})}),(0,Ae.jsxs)("div",{className:"social-content",children:[(0,Ae.jsx)("h3",{children:"TikTok"}),(0,Ae.jsx)("p",{children:"@ignite_ps"})]})]}),(0,Ae.jsxs)("a",{href:"https://www.facebook.com/profile.php?id=61565061638459",target:"_blank",rel:"noopener noreferrer",className:"social-link facebook",children:[(0,Ae.jsx)("div",{className:"social-icon",children:(0,Ae.jsx)("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:(0,Ae.jsx)("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})})}),(0,Ae.jsxs)("div",{className:"social-content",children:[(0,Ae.jsx)("h3",{children:"Facebook"}),(0,Ae.jsx)("p",{children:"IGNITE Arcade"})]})]})]})]})}),(0,Ae.jsx)("footer",{className:"footer scroll-animate",ref:_,children:(0,Ae.jsxs)("div",{className:"container",children:[(0,Ae.jsxs)("div",{className:"footer-content",children:[(0,Ae.jsx)("div",{className:"footer-left scroll-animate-child",children:(0,Ae.jsx)("img",{src:"https://res.cloudinary.com/dxqxjaruh/image/upload/v1753546487/logo_gdmnno.png",alt:"Ignite Arcade",className:"footer-logo"})}),(0,Ae.jsx)("div",{className:"footer-right scroll-animate-child",children:(0,Ae.jsxs)("div",{className:"footer-info",children:[(0,Ae.jsxs)("div",{className:"footer-contact",children:[(0,Ae.jsx)("h4",{children:"Contact Info"}),(0,Ae.jsxs)("p",{children:["\ud83d\udce7"," ",(0,Ae.jsx)("a",{href:"mailto:info@ignitearcade.com",className:"footer-link",children:"info@ignitearcade.com"})]}),(0,Ae.jsxs)("p",{children:["\ud83d\udcde"," ",(0,Ae.jsx)("a",{href:"tel:0566164488",className:"footer-link",children:"0566164488"})]}),(0,Ae.jsx)("p",{children:"\ud83d\udccd Ramallah - Al-Tireh, Al-Bazzar Building - Floor 2"})]}),(0,Ae.jsxs)("div",{className:"footer-hours",children:[(0,Ae.jsx)("h4",{children:"Opening Hours"}),(0,Ae.jsx)("p",{children:"Daily: 3:00 PM - 11:00 PM"})]})]})})]}),(0,Ae.jsx)("div",{className:"footer-bottom scroll-animate-child",children:(0,Ae.jsx)("p",{children:"\xa9 2025 Ignite Arcade. All rights reserved."})})]})}),(0,Ae.jsx)(Ng,{isOpen:f,onClose:()=>{p(!1),g(null)},zoneName:m})]})};var Pg=n(488);const jg=()=>{const[e,n]=(0,t.useState)([]),[r,i]=(0,t.useState)(!0),s=e=>{let{onClick:t,...n}=e;const{onMove:r,index:i,active:s,carouselState:{currentSlide:a,deviceType:o}}=n;return(0,Ae.jsx)("li",{children:(0,Ae.jsx)("button",{className:s?"active":"inactive",onClick:()=>t(),style:{width:"12px",height:"12px",borderRadius:"50%",border:"2px solid "+(s?"#ff7f00":"rgba(255, 127, 0, 0.5)"),background:s?"#ff7f00":"transparent",cursor:"pointer",padding:"0",outline:"none",transition:"all 0.3s ease",boxShadow:s?"0 0 15px rgba(255, 127, 0, 0.6)":"none",transform:s?"scale(1.3)":"scale(1)"}})})};(0,t.useEffect)(()=>{a()},[]);const a=async()=>{try{const e=await fg(om(Sg,"menu"));n(e.docs.map(e=>({id:e.id,...e.data()})))}catch(e){console.error("Error fetching menu items:",e)}i(!1)};return(0,Ae.jsx)("div",{className:"menu",children:(0,Ae.jsxs)("div",{className:"container",children:[(0,Ae.jsx)("h1",{children:" IGNITE Cafe"}),(0,Ae.jsx)("p",{children:"Delicious food and refreshing drinks to fuel your gaming session!"}),r?(0,Ae.jsx)("div",{className:"loading",children:"Loading menu..."}):0===e.length?(0,Ae.jsx)("div",{className:"no-items",children:(0,Ae.jsx)("p",{children:"No menu items available at the moment."})}):(0,Ae.jsx)("div",{className:"menu-carousel-container",children:(0,Ae.jsx)(Pg.default,{responsive:{superLargeDesktop:{breakpoint:{max:4e3,min:1400},items:4},desktop:{breakpoint:{max:1400,min:1024},items:3},tablet:{breakpoint:{max:1024,min:768},items:2},mobile:{breakpoint:{max:768,min:0},items:1}},infinite:!0,autoPlay:!0,autoPlaySpeed:3e3,keyBoardControl:!0,customTransition:"all .5s",transitionDuration:500,containerClass:"menu-carousel",removeArrowOnDeviceType:["tablet","mobile"],showDots:!0,renderDotsOutside:!0,customDot:(0,Ae.jsx)(s,{}),dotListClass:"custom-dot-list-style",itemClass:"menu-carousel-item",children:e.map(e=>(0,Ae.jsx)("div",{className:"menu-item",children:(0,Ae.jsx)("div",{className:"item-image",children:e.image.startsWith("http")?(0,Ae.jsx)("img",{src:e.image,alt:e.name,style:{width:"100%",height:"auto",objectFit:"cover",borderRadius:"8px"}}):(0,Ae.jsx)("span",{children:e.image})})},e.id))})})]})})},Rg=()=>{const[e,n]=(0,t.useState)([]),[r,i]=(0,t.useState)(!0);(0,t.useEffect)(()=>{s()},[]);const s=async()=>{try{const e=(await fg(om(Sg,"offers"))).docs.map(e=>({id:e.id,buy:e.data().spend,get:e.data().get}));e.sort((e,t)=>e.buy-t.buy),n(e)}catch(e){console.error("Error fetching offers:",e)}i(!1)};return(0,Ae.jsx)("div",{className:"offers-page",children:(0,Ae.jsxs)("div",{className:"offers-container",children:[(0,Ae.jsx)("h1",{children:"\ud83c\udf1f Special Offers & Loyalty Program"}),(0,Ae.jsxs)("div",{className:"characters-intro",children:[(0,Ae.jsxs)("div",{className:"character-card",children:[(0,Ae.jsx)("img",{src:"https://res.cloudinary.com/dxqxjaruh/image/upload/v1753546486/Enzo1_wxl5jb.png",alt:"Enzo",className:"character-img"}),(0,Ae.jsx)("h3",{children:"Meet Enzo!"}),(0,Ae.jsx)("p",{children:"Your bowling buddy who loves rewards!"})]}),(0,Ae.jsxs)("div",{className:"character-card",children:[(0,Ae.jsx)("img",{src:"https://res.cloudinary.com/dxqxjaruh/image/upload/v1753546803/zoe1_uqewcu.png",alt:"Zoe",className:"character-img"}),(0,Ae.jsx)("h3",{children:"Meet Zoe!"}),(0,Ae.jsx)("p",{children:"She'll help you earn amazing points!"})]})]}),(0,Ae.jsxs)("div",{className:"points-system",children:[(0,Ae.jsx)("h2",{children:"\ud83d\udcb0 Spend Money, Earn More Points!"}),(0,Ae.jsx)("p",{className:"points-subtitle",children:"The more you spend, the more bonus points you get!"}),(0,Ae.jsx)("div",{className:"points-grid",children:r?(0,Ae.jsx)("div",{className:"loading",children:"Loading offers..."}):0===e.length?(0,Ae.jsx)("div",{className:"no-offers",children:(0,Ae.jsx)("p",{children:"No offers available at the moment."})}):e.map(e=>(0,Ae.jsxs)("div",{className:"points-card",children:[(0,Ae.jsxs)("div",{className:"spend-amount",children:[(0,Ae.jsx)("span",{className:"currency",children:"\u20aa"}),(0,Ae.jsx)("span",{className:"amount",children:e.buy}),(0,Ae.jsx)("span",{className:"label",children:"Spend"})]}),(0,Ae.jsx)("div",{className:"arrow",children:(0,Ae.jsx)("span",{children:"\u2192"})}),(0,Ae.jsxs)("div",{className:"get-amount",children:[(0,Ae.jsx)("span",{className:"points",children:e.get}),(0,Ae.jsx)("span",{className:"label",children:"Points"})]})]},e.id))}),(0,Ae.jsxs)("div",{className:"points-benefits",children:[(0,Ae.jsx)("h3",{children:"\ud83c\udfaf What can you do with points?"}),(0,Ae.jsxs)("div",{className:"benefits-grid",children:[(0,Ae.jsxs)("div",{className:"benefit-item",children:[(0,Ae.jsx)("span",{className:"benefit-icon",children:"\ud83c\udfb3"}),(0,Ae.jsx)("h4",{children:"Free Bowling"}),(0,Ae.jsx)("p",{children:"Use points for free games"})]}),(0,Ae.jsxs)("div",{className:"benefit-item",children:[(0,Ae.jsx)("span",{className:"benefit-icon",children:"\ud83e\udd7d"}),(0,Ae.jsx)("h4",{children:"VR Sessions"}),(0,Ae.jsx)("p",{children:"Unlock VR experiences"})]})]})]})]})]})})},Dg=()=>{const{showSuccess:e,showError:n,showWarning:r,showConfirm:i}=De(),[s,a]=(0,t.useState)("regular"),[o,l]=(0,t.useState)({name:"",phone:"",email:"",people:1,rounds:1,date:new Date,time:"",bundleId:"",bundleName:"",bundlePrice:"",duration:45}),[c,u]=(0,t.useState)({}),[d,h]=(0,t.useState)(new Date),[f,p]=(0,t.useState)([]),[m,g]=(0,t.useState)(!1),[v,y]=(0,t.useState)(null),b=["15:00","15:45","16:30","17:15","18:00","18:45","19:30","20:15","21:00","21:45","22:30"];(0,t.useEffect)(()=>{E(),x()},[o.date]);const w=e=>{const[t,n]=e.split(":").map(Number);return 60*t+n},_=(e,t)=>{const n=w(e),r=n+t,i=[];return b.forEach(e=>{const t=w(e);r<=t||n>=t+45||i.push(e)}),i},E=async()=>{const e=o.date.toDateString(),t=Ym(om(Sg,"bookings"),Xm("date","==",e),Xm("status","==","approved")),n=await fg(t),r={};b.forEach(e=>{r[e]=0}),n.docs.forEach(e=>{const t=e.data(),n=t.time,i=t.duration||45;_(n,i).forEach(e=>{void 0!==r[e]&&(r[e]+=1)})}),u(r)},x=async()=>{try{const e=await fg(om(Sg,"birthdayPackages"));p(e.docs.map(e=>({id:e.id,...e.data()})))}catch(e){console.error("Error fetching birthday packages:",e)}},S=e=>c[e]||0,k=(e,t)=>_(e,t).some(e=>S(e)>=6),T=e=>{const t=new Date;return e.toDateString()===t.toDateString()},C=(e,t)=>e.toDateString()===t.toDateString(),I=e=>{const t=new Date;return t.setHours(0,0,0,0),e<t},N=e=>{h(new Date(d.getFullYear(),d.getMonth()+e,1))},A=e=>{const t=new Date(d.getFullYear(),d.getMonth(),e);I(t)||l({...o,date:t,time:""})},P=()=>m&&v?(0,Ae.jsx)("div",{className:"booking-modal-overlay",onClick:()=>g(!1),children:(0,Ae.jsxs)("div",{className:"booking-modal",onClick:e=>e.stopPropagation(),children:[(0,Ae.jsxs)("div",{className:"booking-modal-header",children:[(0,Ae.jsx)("div",{className:"success-icon",children:"\ud83c\udf89"}),(0,Ae.jsx)("h2",{children:"Booking Submitted Successfully!"})]}),(0,Ae.jsxs)("div",{className:"booking-modal-body",children:[(0,Ae.jsxs)("div",{className:"booking-summary",children:[(0,Ae.jsx)("h3",{children:"Booking Summary"}),(0,Ae.jsxs)("div",{className:"booking-detail",children:[(0,Ae.jsx)("span",{className:"label",children:"Name:"}),(0,Ae.jsx)("span",{className:"value",children:v.name})]}),(0,Ae.jsxs)("div",{className:"booking-detail",children:[(0,Ae.jsx)("span",{className:"label",children:"Date & Time:"}),(0,Ae.jsxs)("span",{className:"value",children:[v.date," at ",v.time]})]}),(0,Ae.jsxs)("div",{className:"booking-detail",children:[(0,Ae.jsx)("span",{className:"label",children:"People:"}),(0,Ae.jsx)("span",{className:"value",children:v.people})]}),"regular"===v.type?(0,Ae.jsxs)("div",{className:"booking-detail",children:[(0,Ae.jsx)("span",{className:"label",children:"Rounds:"}),(0,Ae.jsx)("span",{className:"value",children:v.rounds})]}):(0,Ae.jsxs)("div",{className:"booking-detail",children:[(0,Ae.jsx)("span",{className:"label",children:"Package:"}),(0,Ae.jsx)("span",{className:"value",children:v.bundleName})]}),(0,Ae.jsxs)("div",{className:"booking-detail",children:[(0,Ae.jsx)("span",{className:"label",children:"Phone:"}),(0,Ae.jsx)("span",{className:"value",children:v.phone})]})]}),(0,Ae.jsxs)("div",{className:"status-message",children:[(0,Ae.jsx)("div",{className:"status-icon",children:"\u23f3"}),(0,Ae.jsx)("h4",{children:"Your booking is pending confirmation"}),(0,Ae.jsxs)("p",{children:["We have received your booking request. Our team will contact you via WhatsApp at ",(0,Ae.jsx)("strong",{children:v.phone})," within the next few hours to confirm your booking details and availability."]}),(0,Ae.jsxs)("div",{className:"next-steps",children:[(0,Ae.jsx)("h5",{children:"What happens next?"}),(0,Ae.jsxs)("ul",{children:[(0,Ae.jsx)("li",{children:"\ud83d\udcde We'll call or WhatsApp you to confirm"}),(0,Ae.jsx)("li",{children:"\u2705 Once confirmed, your booking will be secured"}),(0,Ae.jsx)("li",{children:"\ud83d\udce7 You'll receive final confirmation details"})]})]})]})]}),(0,Ae.jsx)("div",{className:"booking-modal-footer",children:(0,Ae.jsx)("button",{className:"modal-close-btn",onClick:()=>g(!1),children:"Got it, thanks!"})})]})}):null;return(0,Ae.jsxs)("div",{className:"booking",children:[(0,Ae.jsxs)("div",{className:"container",children:[(0,Ae.jsx)("h1",{children:"\ud83c\udfb3 Bowling Booking"}),(0,Ae.jsxs)("div",{className:"booking-type-selector",children:[(0,Ae.jsx)("button",{type:"button",className:"type-btn "+("regular"===s?"active":""),onClick:()=>{a("regular"),l({...o,duration:45,bundleId:"",bundleName:"",bundlePrice:""})},children:"\ud83c\udfb3 Regular Booking"}),(0,Ae.jsx)("button",{type:"button",className:"type-btn "+("birthday"===s?"active":""),onClick:()=>{a("birthday"),l({...o,bundleId:"",bundleName:"",bundlePrice:""})},children:"\ud83c\udf89 Birthday Package"})]}),(0,Ae.jsxs)("div",{className:"booking-content",children:[(0,Ae.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),k(o.time,o.duration)){if(!await i({title:"Time Slot at Capacity",message:"This time slot already has 6 approved bookings (all lanes occupied). Your booking will be submitted but may need to be rescheduled. Would you like to continue?",confirmText:"Continue Booking",cancelText:"Choose Different Time",type:"warning"}))return}try{const e={...o,date:o.date.toDateString(),createdAt:new Date,type:s,status:"pending",contactAttempts:0,notes:""},t=await vg(om(Sg,"bookings"),e);y({id:t.id,...e}),g(!0),l({name:"",phone:"",email:"",people:1,rounds:1,date:new Date,time:"",bundleId:"",bundleName:"",bundlePrice:"",duration:45}),a("regular")}catch(t){n("Error submitting booking: "+t.message)}},className:"booking-form",children:[(0,Ae.jsxs)("div",{className:"form-top-section",children:[(0,Ae.jsxs)("div",{className:"form-left-column",children:[(0,Ae.jsxs)("div",{className:"form-group",children:[(0,Ae.jsx)("label",{children:"Name:"}),(0,Ae.jsx)("input",{type:"text",value:o.name,onChange:e=>l({...o,name:e.target.value}),placeholder:"your name",required:!0})]}),(0,Ae.jsxs)("div",{className:"form-group",children:[(0,Ae.jsx)("label",{children:"Email:"}),(0,Ae.jsx)("input",{type:"email",value:o.email,onChange:e=>l({...o,email:e.target.value}),placeholder:"your@email.com",required:!0}),(0,Ae.jsx)("small",{className:"field-note",children:"We'll send confirmation emails to this address"})]}),(0,Ae.jsxs)("div",{className:"form-group",children:[(0,Ae.jsx)("label",{children:"WhatsApp Phone:"}),(0,Ae.jsx)("input",{type:"tel",value:o.phone,onChange:e=>l({...o,phone:e.target.value}),placeholder:"+970XXXXXXXXX",required:!0})]})]}),(0,Ae.jsxs)("div",{className:"form-right-column",children:["regular"===s&&(0,Ae.jsxs)("div",{className:"form-group",children:[(0,Ae.jsx)("label",{children:"Number of People (max 6):"}),(0,Ae.jsx)("div",{className:"number-selector",children:[1,2,3,4,5,6].map(e=>(0,Ae.jsx)("button",{type:"button",className:"number-box "+(o.people===e?"selected":""),onClick:()=>l({...o,people:e}),children:e},e))})]}),"regular"===s&&(0,Ae.jsxs)("div",{className:"form-group",children:[(0,Ae.jsx)("label",{children:"Number of Rounds (max 3):"}),(0,Ae.jsx)("div",{className:"number-selector",children:[1,2,3].map(e=>(0,Ae.jsx)("button",{type:"button",className:"number-box "+(o.rounds===e?"selected":""),onClick:()=>l({...o,rounds:e}),children:e},e))})]})]})]}),"birthday"===s&&(0,Ae.jsxs)("div",{className:"bundle-selection",children:[(0,Ae.jsx)("label",{children:"Select Birthday Package:"}),(0,Ae.jsx)("div",{className:"bundles-grid",children:f.map(e=>(0,Ae.jsxs)("div",{className:"bundle-option "+(o.bundleId===e.id?"selected":""),onClick:()=>(e=>{l({...o,bundleId:e.id,bundleName:e.title,bundlePrice:e.price,duration:e.duration,people:e.maxPeople})})(e),children:[(0,Ae.jsx)("h4",{children:e.title}),(0,Ae.jsx)("p",{className:"bundle-price",children:e.price}),(0,Ae.jsxs)("p",{className:"duration-info",children:["Duration: ",e.duration," minutes"]}),(0,Ae.jsx)("ul",{children:e.items.map((e,t)=>(0,Ae.jsx)("li",{children:e},t))}),(0,Ae.jsxs)("p",{className:"max-people",children:["Max: ",e.maxPeople," people"]})]},e.id))})]}),(0,Ae.jsxs)("div",{className:"date-time-section",children:[(0,Ae.jsxs)("div",{className:"calendar-section",children:[(0,Ae.jsx)("label",{children:"Select Date:"}),(()=>{const e=(t=d,new Date(t.getFullYear(),t.getMonth()+1,0).getDate());var t;const n=(e=>new Date(e.getFullYear(),e.getMonth(),1).getDay())(d),r=[];for(let i=0;i<n;i++)r.push((0,Ae.jsx)("div",{className:"calendar-day empty"},`empty-${i}`));for(let i=1;i<=e;i++){const e=new Date(d.getFullYear(),d.getMonth(),i),t=C(e,o.date),n=I(e),s=T(e);r.push((0,Ae.jsx)("div",{className:`calendar-day ${t?"selected":""} ${n?"past":""} ${s?"today":""}`,onClick:()=>A(i),children:i},i))}return(0,Ae.jsxs)("div",{className:"custom-calendar",children:[(0,Ae.jsxs)("div",{className:"calendar-header",children:[(0,Ae.jsx)("button",{type:"button",onClick:()=>N(-1),className:"month-nav",children:"\u2039"}),(0,Ae.jsxs)("h3",{children:[["January","February","March","April","May","June","July","August","September","October","November","December"][d.getMonth()]," ",d.getFullYear()]}),(0,Ae.jsx)("button",{type:"button",onClick:()=>N(1),className:"month-nav",children:"\u203a"})]}),(0,Ae.jsx)("div",{className:"calendar-weekdays",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(e=>(0,Ae.jsx)("div",{className:"weekday",children:e},e))}),(0,Ae.jsx)("div",{className:"calendar-days",children:r})]})})(),(0,Ae.jsxs)("p",{className:"selected-date",children:["Selected:"," ",o.date.toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"})]})]}),(0,Ae.jsxs)("div",{className:"time-slots",children:[(0,Ae.jsx)("label",{children:"Available Time Slots:"}),o.duration>45&&(0,Ae.jsxs)("p",{className:"duration-info",children:["\u2139\ufe0f This booking is ",o.duration," minutes long and may span multiple time slots"]}),(0,Ae.jsx)("div",{className:"slots-grid",children:b.map(e=>{const t=k(e,o.duration);S(e),c[e];const n=_(e,o.duration);return(0,Ae.jsxs)("button",{type:"button",className:`slot ${t?"at-capacity":""} ${o.time===e?"selected":""}`,onClick:()=>l({...o,time:e}),title:o.duration>45?`Will span slots: ${n.join(", ")}`:"",children:[(0,Ae.jsx)("div",{className:"slot-time",children:e}),(0,Ae.jsx)("div",{className:"slot-status",children:t?(0,Ae.jsx)("span",{className:"capacity-warning",children:"\u26a0\ufe0f At Capacity"}):(0,Ae.jsx)("span",{className:"available"})}),o.duration>45&&o.time===e&&(0,Ae.jsxs)("div",{className:"slot-duration",children:[o.duration,"min"]})]},e)})})]})]}),(0,Ae.jsxs)("div",{className:"submit-section",children:[(0,Ae.jsxs)("button",{type:"submit",className:"submit-btn",disabled:!o.time||"birthday"===s&&!o.bundleId,children:["Book ","birthday"===s?"Birthday Package":"Regular"]}),(0,Ae.jsx)("p",{className:"submit-note",children:"\ud83d\udcdd Your booking will be reviewed and confirmed by our team"})]})]}),(0,Ae.jsxs)("div",{className:"booking-info",children:[(0,Ae.jsx)("h3",{children:"Booking Information"}),"regular"===s?(0,Ae.jsxs)("ul",{children:[(0,Ae.jsx)("li",{children:"\ud83d\udcc5 Each session is 45 minutes"}),(0,Ae.jsx)("li",{children:"\ud83c\udfb3 6 lanes available per time slot"}),(0,Ae.jsx)("li",{children:"\ud83d\udc65 Maximum 6 people per booking"}),(0,Ae.jsx)("li",{children:"\ud83d\udd04 Maximum 3 rounds per booking"}),(0,Ae.jsx)("li",{children:"\u23f3 All bookings require admin approval"}),(0,Ae.jsx)("li",{children:"\ud83d\udcde For cancellation: 0566164488"})]}):(0,Ae.jsxs)("ul",{children:[(0,Ae.jsx)("li",{children:"\ud83c\udf89 Birthday packages include multiple activities"}),(0,Ae.jsx)("li",{children:"\ud83c\udfb3 Extended bowling sessions"}),(0,Ae.jsx)("li",{children:"\ud83e\udd7d VR gaming sessions included"}),(0,Ae.jsx)("li",{children:"\u23f3 All bookings require admin approval"}),(0,Ae.jsx)("li",{children:"\ud83d\udcde For cancellation: 0566164488"})]})]})]})]}),(0,Ae.jsx)(P,{}),(0,Ae.jsx)("style",{jsx:!0,children:"\n        .booking-modal-overlay {\n          position: fixed;\n          top: 0;\n          left: 0;\n          right: 0;\n          bottom: 0;\n          background-color: rgba(0, 0, 0, 0.5);\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          z-index: 10001;\n          animation: fadeIn 0.3s ease-out;\n        }\n\n        .booking-modal {\n          background: white;\n          border-radius: 16px;\n          box-shadow: 0 20px 60px rgba(0, 0, 0, 0.2);\n          max-width: 500px;\n          width: 90%;\n          max-height: 90vh;\n          overflow-y: auto;\n          animation: slideIn 0.3s ease-out;\n        }\n\n        .booking-modal-header {\n          text-align: center;\n          padding: 24px 24px 16px;\n          border-bottom: 1px solid #f0f0f0;\n        }\n\n        .success-icon {\n          font-size: 48px;\n          margin-bottom: 16px;\n        }\n\n        .booking-modal-header h2 {\n          margin: 0;\n          color: #22c55e;\n          font-size: 24px;\n        }\n\n        .booking-modal-body {\n          padding: 24px;\n        }\n\n        .booking-summary {\n          margin-bottom: 24px;\n          padding: 16px;\n          background: #f8fafc;\n          border-radius: 8px;\n        }\n\n        .booking-summary h3 {\n          margin: 0 0 16px 0;\n          color: #334155;\n        }\n\n        .booking-detail {\n          display: flex;\n          justify-content: space-between;\n          margin-bottom: 8px;\n        }\n\n        .booking-detail .label {\n          font-weight: 500;\n          color: #64748b;\n        }\n\n        .booking-detail .value {\n          color: #334155;\n        }\n\n        .status-message {\n          text-align: center;\n        }\n\n        .status-icon {\n          font-size: 32px;\n          margin-bottom: 16px;\n        }\n\n        .status-message h4 {\n          margin: 0 0 16px 0;\n          color: #f59e0b;\n        }\n\n        .status-message p {\n          margin-bottom: 24px;\n          line-height: 1.6;\n          color: #64748b;\n        }\n\n        .next-steps {\n          text-align: left;\n          background: #fefce8;\n          padding: 16px;\n          border-radius: 8px;\n          border-left: 4px solid #f59e0b;\n        }\n\n        .next-steps h5 {\n          margin: 0 0 12px 0;\n          color: #92400e;\n        }\n\n        .next-steps ul {\n          margin: 0;\n          padding-left: 20px;\n        }\n\n        .next-steps li {\n          margin-bottom: 8px;\n          color: #78716c;\n        }\n\n        .booking-modal-footer {\n          padding: 16px 24px 24px;\n          text-align: center;\n        }\n\n        .modal-close-btn {\n          background: linear-gradient(135deg, #22c55e, #16a34a);\n          color: white;\n          border: none;\n          border-radius: 8px;\n          padding: 12px 32px;\n          font-size: 16px;\n          font-weight: 500;\n          cursor: pointer;\n          transition: all 0.2s ease;\n        }\n\n        .modal-close-btn:hover {\n          transform: translateY(-1px);\n          box-shadow: 0 4px 12px rgba(34, 197, 94, 0.4);\n        }\n\n        .field-note {\n          display: block;\n          font-size: 12px;\n          color: #6b7280;\n          margin-top: 4px;\n        }\n\n        .duration-info {\n          background: #e0f2fe;\n          color: #0c4a6e;\n          padding: 8px 12px;\n          border-radius: 6px;\n          font-size: 14px;\n          margin-bottom: 16px;\n          border-left: 4px solid #0284c7;\n        }\n\n        .slot.at-capacity {\n          border: 2px solid #f59e0b;\n          background: #fefce8;\n        }\n\n        .slot.at-capacity:hover {\n          background: #fef3c7;\n        }\n\n        .capacity-warning {\n          color: #f59e0b;\n          font-weight: 600;\n          font-size: 12px;\n        }\n\n        .available {\n          color: #22c55e;\n          font-weight: 600;\n          font-size: 12px;\n        }\n\n        .slot-info {\n          font-size: 11px;\n          color: #6b7280;\n          margin-top: 4px;\n        }\n\n        /* Removed slots-legend styles */\n\n        .submit-note {\n          text-align: center;\n          font-size: 14px;\n          color: #6b7280;\n          margin-top: 12px;\n          margin-bottom: 0;\n        }\n\n        @keyframes fadeIn {\n          from {\n            opacity: 0;\n          }\n          to {\n            opacity: 1;\n          }\n        }\n\n        @keyframes slideIn {\n          from {\n            transform: scale(0.9) translateY(-20px);\n            opacity: 0;\n          }\n          to {\n            transform: scale(1) translateY(0);\n            opacity: 1;\n          }\n        }\n\n        @media (max-width: 768px) {\n          .booking-modal {\n            margin: 20px;\n            width: calc(100% - 40px);\n          }\n\n          .legend-item {\n            display: block;\n            margin-bottom: 8px;\n          }\n        }\n      "})]})},Og=()=>{const{showSuccess:e,showError:n}=De(),[r,i]=(0,t.useState)({name:"",rating:5,comment:""}),[s,a]=(0,t.useState)([]),[o,l]=(0,t.useState)(0),[c,u]=(0,t.useState)(!1),[d,h]=(0,t.useState)({});(0,t.useEffect)(()=>{f();const e=localStorage.getItem("userFeedbackInteractions");e&&h(JSON.parse(e))},[]);const f=async()=>{try{const e=(await fg(om(Sg,"feedback"))).docs.map(e=>({id:e.id,...e.data(),likes:e.data().likes||0,dislikes:e.data().dislikes||0}));e.sort((e,t)=>{var n,r;const i=(null===(n=e.createdAt)||void 0===n?void 0:n.seconds)||0;return((null===(r=t.createdAt)||void 0===r?void 0:r.seconds)||0)-i}),a(e)}catch(e){console.error("Error fetching feedback:",e)}},p=()=>{l(0)},m=e=>{if(null===e||void 0===e||!e.seconds)return"Recently";return new Date(1e3*e.seconds).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})};return(0,Ae.jsx)("div",{className:"feedback-page",children:(0,Ae.jsxs)("div",{className:"container",children:[(0,Ae.jsx)("h1",{children:"\ud83d\udcac Feedback"}),(0,Ae.jsxs)("div",{className:"feedback-content",children:[(0,Ae.jsxs)("form",{onSubmit:async t=>{t.preventDefault();try{await vg(om(Sg,"feedback"),{...r,createdAt:new Date,likes:0,dislikes:0}),e("Thank you for your feedback! \ud83c\udf1f"),i({name:"",rating:5,comment:""}),l(0),f()}catch(s){n("Error submitting feedback: "+s.message)}},className:"feedback-form",children:[(0,Ae.jsx)("h2",{children:"Share Your Experience"}),(0,Ae.jsx)("input",{type:"text",placeholder:"Your Name",value:r.name,onChange:e=>i({...r,name:e.target.value}),required:!0}),(0,Ae.jsxs)("div",{className:"rating-section",children:[(0,Ae.jsx)("label",{children:"Rating:"}),(0,Ae.jsx)("div",{className:"star-rating",children:[1,2,3,4,5].map(e=>(0,Ae.jsx)("span",{className:`star ${(o||r.rating)>=e?"active":""} ${o>=e?"hover":""}`,onClick:()=>{return t=e,i({...r,rating:t}),void l(0);var t},onMouseEnter:()=>{l(e)},onMouseLeave:p,children:"\u2b50"},e))}),(0,Ae.jsxs)("div",{className:"rating-display",children:[o||r.rating," out of 5 stars"]})]}),(0,Ae.jsx)("textarea",{placeholder:"Tell us about your experience...",value:r.comment,onChange:e=>i({...r,comment:e.target.value}),required:!0}),(0,Ae.jsx)("button",{type:"submit",children:"Submit Feedback"})]}),(0,Ae.jsxs)("div",{className:"feedback-list",children:[(0,Ae.jsx)("h2",{children:"What Others Say"}),(0,Ae.jsxs)("div",{className:"feedback-container",children:[(c?s:s.slice(0,5)).map((e,t)=>{return(0,Ae.jsxs)("div",{className:"feedback-item",style:{animationDelay:.1*t+"s"},children:[(0,Ae.jsxs)("div",{className:"feedback-header",children:[(0,Ae.jsx)("strong",{children:e.name}),(0,Ae.jsx)("span",{className:"stars",children:(n=e.rating,"\u2b50".repeat(n)+"\u2606".repeat(5-n))})]}),(0,Ae.jsx)("p",{children:e.comment}),(0,Ae.jsxs)("div",{className:"feedback-actions",children:[(0,Ae.jsxs)("div",{className:"like-dislike",children:[(0,Ae.jsxs)("button",{className:"action-btn "+(d[`${e.id}_like`]?"liked":""),onClick:()=>(async e=>{const t=`${e}_like`,n=`${e}_dislike`;if(!d[t])try{const r=lm(Sg,"feedback",e),i=s.find(t=>t.id===e);let a=(i.likes||0)+1,o=i.dislikes||0;d[n]&&(o=Math.max(0,o-1)),await mg(r,{likes:a,dislikes:o});const l={...d,[t]:!0};d[n]&&delete l[n],h(l),localStorage.setItem("userFeedbackInteractions",JSON.stringify(l)),f()}catch(r){console.error("Error updating like:",r)}})(e.id),disabled:d[`${e.id}_like`],title:d[`${e.id}_like`]?"You liked this":"Like this feedback",children:[(0,Ae.jsx)("span",{className:"icon",children:"\ud83d\udc4d"}),(0,Ae.jsx)("span",{children:e.likes||0})]}),(0,Ae.jsxs)("button",{className:"action-btn "+(d[`${e.id}_dislike`]?"disliked":""),onClick:()=>(async e=>{const t=`${e}_dislike`,n=`${e}_like`;if(!d[t])try{const r=lm(Sg,"feedback",e),i=s.find(t=>t.id===e);let a=(i.dislikes||0)+1,o=i.likes||0;d[n]&&(o=Math.max(0,o-1)),await mg(r,{likes:o,dislikes:a});const l={...d,[t]:!0};d[n]&&delete l[n],h(l),localStorage.setItem("userFeedbackInteractions",JSON.stringify(l)),f()}catch(r){console.error("Error updating dislike:",r)}})(e.id),disabled:d[`${e.id}_dislike`],title:d[`${e.id}_dislike`]?"You disliked this":"Dislike this feedback",children:[(0,Ae.jsx)("span",{className:"icon",children:"\ud83d\udc4e"}),(0,Ae.jsx)("span",{children:e.dislikes||0})]})]}),(0,Ae.jsx)("span",{className:"feedback-date",children:m(e.createdAt)})]})]},e.id);var n}),0===s.length&&(0,Ae.jsx)("div",{className:"feedback-item",children:(0,Ae.jsx)("p",{style:{textAlign:"center",opacity:.7},children:"No feedback yet. Be the first to share your experience! \ud83c\udf1f"})})]}),s.length>5&&(0,Ae.jsx)("button",{className:"show-more-btn",onClick:()=>u(!c),children:c?"Show Less \u25b2":`Show More (${s.length-5} more) \u25bc`})]})]})]})})},Lg=()=>(0,Ae.jsx)("div",{className:"birthday-packages",children:(0,Ae.jsxs)("div",{className:"container",children:[(0,Ae.jsx)("h1",{children:"\ud83c\udf89 Birthday Packages"}),(0,Ae.jsx)("p",{className:"intro",children:"Celebrate your birthday at Ignite Arcade! \ud83c\udfb3"}),(0,Ae.jsx)("p",{children:"Enjoy bowling, VR games, and nonstop fun in a space full of lights and excitement."}),(0,Ae.jsx)("div",{className:"packages-grid",children:[{name:"\u2728 Spark Package",price:"80 ILS/person",features:["1 VR session","1 hour of bowling","Reserved seating","For up to 10 people"],color:"spark"},{name:"\ud83d\udd25 Blaze Package",price:"70 ILS/person",features:["1 VR session","1.5 hours of bowling","Reserved seating","For 11\u201325 people"],color:"blaze"},{name:"\ud83d\udd25 Inferno Package",price:"60 ILS/person",features:["2 VR sessions","1.5 hours of bowling","Reserved seating","For 26+ people"],color:"inferno"}].map((e,t)=>(0,Ae.jsxs)("div",{className:`package-card ${e.color}`,children:[(0,Ae.jsx)("h3",{children:e.name}),(0,Ae.jsx)("div",{className:"price",children:e.price}),(0,Ae.jsx)("ul",{className:"features",children:e.features.map((e,t)=>(0,Ae.jsxs)("li",{children:["\u2714 ",e]},t))})]},t))}),(0,Ae.jsxs)("div",{className:"additional-info",children:[(0,Ae.jsxs)("div",{className:"info-card",children:[(0,Ae.jsx)("h3",{children:"\ud83c\udf81 Extra Options"}),(0,Ae.jsx)("p",{children:"Add an extra bowling session for just 30 ILS/person!"})]}),(0,Ae.jsxs)("div",{className:"info-card",children:[(0,Ae.jsx)("h3",{children:"\ud83d\udcc5 Booking"}),(0,Ae.jsx)("p",{children:"Book now with a 200 ILS deposit."})]}),(0,Ae.jsxs)("div",{className:"info-card",children:[(0,Ae.jsx)("h3",{children:"\ud83d\udcde Contact"}),(0,Ae.jsx)("p",{children:"Call us at 0566164488 or email info@ignitearcade.com"})]})]}),(0,Ae.jsx)("div",{className:"cta",children:(0,Ae.jsx)("h2",{children:"Let's make your celebration unforgettable! \ud83e\udd73"})})]})}),Mg=()=>{const[e,n]=(0,t.useState)([]),[r,i]=(0,t.useState)(!0),[s,a]=(0,t.useState)(null);(0,t.useEffect)(()=>{o()},[]);const o=async()=>{try{const e=await fg(om(Sg,"faqs"));n(e.docs.map(e=>({id:e.id,...e.data()})))}catch(e){console.error("Error fetching FAQs:",e)}i(!1)};return(0,Ae.jsxs)("div",{className:"faq-page",children:[(0,Ae.jsx)("div",{className:"faq-zoe-main"}),(0,Ae.jsxs)("div",{className:"container",children:[(0,Ae.jsx)("h1",{children:"\u2753 Frequently Asked Questions"}),(0,Ae.jsx)("div",{className:"faq-list",children:r?(0,Ae.jsx)("div",{className:"loading",children:"Loading FAQs..."}):0===e.length?(0,Ae.jsx)("div",{className:"no-faqs",children:(0,Ae.jsx)("p",{children:"No FAQs available at the moment."})}):e.map((e,t)=>(0,Ae.jsxs)("div",{className:"faq-item",children:[(0,Ae.jsxs)("div",{className:"faq-question "+(s===t?"active":""),onClick:()=>(e=>{a(s===e?null:e)})(t),children:[(0,Ae.jsx)("h3",{children:e.question}),(0,Ae.jsx)("span",{className:"faq-toggle",children:s===t?"\u2212":"+"})]}),(0,Ae.jsx)("div",{className:"faq-answer "+(s===t?"open":""),children:(0,Ae.jsx)("p",{children:e.answer})})]},e.id))}),(0,Ae.jsxs)("div",{className:"contact-info",children:[(0,Ae.jsx)("h2",{children:"Still have questions?"}),(0,Ae.jsxs)("p",{children:["Contact us at ",(0,Ae.jsx)("strong",{children:"0566164488"})," or visit us during our operating hours!",(0,Ae.jsx)("br",{}),(0,Ae.jsx)("span",{style:{fontSize:"0.9em",opacity:"0.8"},children:"Our cosmic crew is always ready to help you plan the perfect arcade adventure! \ud83d\ude80"})]})]})]})]})},Fg=()=>(0,Ae.jsxs)("div",{className:"not-found-page",children:[(0,Ae.jsx)("div",{className:"not-found-enzo-main"}),(0,Ae.jsx)("div",{className:"not-found-zoe-main"}),(0,Ae.jsx)("div",{className:"container",children:(0,Ae.jsxs)("div",{className:"not-found-content",children:[(0,Ae.jsx)("div",{className:"error-number",children:"404"}),(0,Ae.jsx)("h1",{children:"Oops! Page Not Found"}),(0,Ae.jsx)("p",{className:"error-message",children:"The page you're looking for seems to have vanished into the cosmic void! Don't worry, our galactic crew is here to help you navigate back to safety."})]})})]}),Ug=()=>{var e,n;const{showError:r}=De(),[i,s]=(0,t.useState)({email:"",password:""}),[a,o]=(0,t.useState)(!1),l=ee(),c=(null===(e=X().state)||void 0===e||null===(n=e.from)||void 0===n?void 0:n.pathname)||null;return(0,Ae.jsx)("div",{className:"admin-login",children:(0,Ae.jsxs)("div",{className:"login-container",children:[(0,Ae.jsx)("h2",{children:"Admin Login"}),(0,Ae.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),o(!0);try{const e=await function(e,t,n){return kn(e.app)?Promise.reject(Jn(e)):$i(ht(e),Ii.credential(t,n)).catch(async t=>{throw"auth/password-does-not-meet-requirements"===t.code&&Hi(e),t})}(kg,i.email,i.password),t=await dg(lm(Sg,"admins",e.user.uid));if(t.exists()){const e=t.data();c&&c.startsWith("/admin/")?"/admin/jana"===c&&"jana"!==e.role?l("/admin/calendar"):"/admin/calendar"===c&&"reception"!==e.role?l("/admin/dashboard"):c.includes("/admin/add-user")&&"jana"!==e.role||c.includes("/admin/manage-users")&&"jana"!==e.role?l("/admin/calendar"):l(c):"jana"===e.role?l("/admin/dashboard"):l("/admin/calendar")}else l("/admin/dashboard")}catch(t){r("Login failed: "+t.message)}o(!1)},children:[(0,Ae.jsx)("input",{type:"email",placeholder:"Email",value:i.email,onChange:e=>s({...i,email:e.target.value}),required:!0}),(0,Ae.jsx)("input",{type:"password",placeholder:"Password",value:i.password,onChange:e=>s({...i,password:e.target.value}),required:!0}),(0,Ae.jsx)("button",{type:"submit",disabled:a,children:a?"Logging in...":"Login"})]})]})})},Vg=()=>{const[e,n]=(0,t.useState)(null),[r,i]=(0,t.useState)(!0);return(0,t.useEffect)(()=>{const e=Ki(kg,async e=>{if(e)try{const t=await dg(lm(Sg,"admins",e.uid));t.exists()&&n(t.data().role)}catch(t){console.error("Error fetching user role:",t)}i(!1)});return()=>e()},[]),r?(0,Ae.jsx)("div",{className:"admin-dashboard",children:(0,Ae.jsx)("div",{className:"container",children:(0,Ae.jsx)("div",{className:"loading",children:"Loading..."})})}):(0,Ae.jsx)("div",{className:"admin-dashboard",children:(0,Ae.jsxs)("div",{className:"container",children:[(0,Ae.jsx)("h1",{children:"reception"===e?"Reception Dashboard":"Admin Dashboard"}),(0,Ae.jsxs)("div",{className:"admin-grid",children:[(0,Ae.jsxs)(Ce,{to:"/admin/calendar",className:"admin-card",children:[(0,Ae.jsx)("h3",{children:"\ud83d\udcc5 Reception Calendar"}),(0,Ae.jsx)("p",{children:"View all bookings and manage schedule"})]}),(0,Ae.jsxs)(Ce,{to:"/admin/jana",className:"admin-card",children:[(0,Ae.jsx)("h3",{children:"\ud83d\udc69\u200d\ud83d\udcbc Jana's Dashboard"}),(0,Ae.jsx)("p",{children:"reception"===e?"Manage bookings":"Complete management access"})]}),"jana"===e&&(0,Ae.jsxs)(Ae.Fragment,{children:[(0,Ae.jsxs)(Ce,{to:"/admin/add-user",className:"admin-card",children:[(0,Ae.jsx)("h3",{children:"\ud83d\udc64 Add User"}),(0,Ae.jsx)("p",{children:"Create new user accounts with roles"})]}),(0,Ae.jsxs)(Ce,{to:"/admin/manage-users",className:"admin-card",children:[(0,Ae.jsx)("h3",{children:"\ud83d\udc65 Manage Users"}),(0,Ae.jsx)("p",{children:"View and manage existing user accounts"})]}),(0,Ae.jsxs)(Ce,{to:"/admin/media-management",className:"admin-card",children:[(0,Ae.jsx)("h3",{children:"\ud83c\udfac Media Management"}),(0,Ae.jsx)("p",{children:"Manage images and videos for gaming zones"})]})]}),(0,Ae.jsxs)(Ce,{to:"/admin/settings",className:"admin-card",children:[(0,Ae.jsx)("h3",{children:"\u2699\ufe0f Settings"}),(0,Ae.jsx)("p",{children:"System configuration"})]})]})]})})},zg=()=>{const[e,n]=(0,t.useState)(new Date),[r,i]=(0,t.useState)([]),[s,a]=(0,t.useState)(""),[o,l]=(0,t.useState)(new Date);(0,t.useEffect)(()=>{c()},[e]);const c=async()=>{const t=e.toDateString(),n=Ym(om(Sg,"bookings"),Xm("date","==",t)),r=(await fg(n)).docs.map(e=>({id:e.id,...e.data()}));i(r)},u=r.filter(e=>e.name.toLowerCase().includes(s.toLowerCase())),d=e=>{const t=new Date;return e.toDateString()===t.toDateString()},h=(e,t)=>e.toDateString()===t.toDateString(),f=e=>{const t=new Date;return t.setHours(0,0,0,0),e<t},p=e=>{l(new Date(o.getFullYear(),o.getMonth()+e,1))},m=e=>{const t=new Date(o.getFullYear(),o.getMonth(),e);n(t)};return(0,Ae.jsxs)("div",{className:"reception-calendar",children:[(0,Ae.jsx)("div",{className:"reception-calendar-zoe-organizer"}),(0,Ae.jsx)("div",{className:"reception-calendar-enzo-scheduler"}),(0,Ae.jsx)("div",{className:"reception-calendar-zoe-assistant"}),(0,Ae.jsxs)("div",{className:"container",children:[(0,Ae.jsx)("h1",{children:"Reception Calendar"}),(0,Ae.jsxs)("div",{className:"calendar-content",children:[(0,Ae.jsxs)("div",{className:"calendar-section",children:[(0,Ae.jsx)("label",{children:"Select Date to view bookings:"}),(()=>{const t=(n=o,new Date(n.getFullYear(),n.getMonth()+1,0).getDate());var n;const r=(e=>new Date(e.getFullYear(),e.getMonth(),1).getDay())(o),i=[];for(let e=0;e<r;e++)i.push((0,Ae.jsx)("div",{className:"calendar-day empty"},`empty-${e}`));for(let s=1;s<=t;s++){const t=new Date(o.getFullYear(),o.getMonth(),s),n=h(t,e),r=f(t),a=d(t);i.push((0,Ae.jsx)("div",{className:`calendar-day ${n?"selected":""} ${r?"past":""} ${a?"today":""}`,onClick:()=>m(s),children:s},s))}return(0,Ae.jsxs)("div",{className:"custom-calendar",children:[(0,Ae.jsxs)("div",{className:"calendar-header",children:[(0,Ae.jsx)("button",{type:"button",onClick:()=>p(-1),className:"month-nav",children:"\u2039"}),(0,Ae.jsxs)("h3",{children:[["January","February","March","April","May","June","July","August","September","October","November","December"][o.getMonth()]," ",o.getFullYear()]}),(0,Ae.jsx)("button",{type:"button",onClick:()=>p(1),className:"month-nav",children:"\u203a"})]}),(0,Ae.jsx)("div",{className:"calendar-weekdays",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(e=>(0,Ae.jsx)("div",{className:"weekday",children:e},e))}),(0,Ae.jsx)("div",{className:"calendar-days",children:i}),(0,Ae.jsxs)("p",{className:"selected-date",children:["Selected:"," ",e.toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric",year:"numeric"})]})]})})()]}),(0,Ae.jsxs)("div",{className:"bookings-section",children:[(0,Ae.jsxs)("h3",{children:["Bookings for ",e.toDateString()]}),(0,Ae.jsxs)("div",{className:"search-container",children:[(0,Ae.jsx)("input",{type:"text",placeholder:"Search by customer name...",value:s,onChange:e=>a(e.target.value),className:"search-input"}),(0,Ae.jsx)("div",{className:"search-icon",children:"\ud83d\udd0d"})]}),0===u.length?(0,Ae.jsx)("p",{children:s?`No bookings found for "${s}"`:"No bookings for this date"}):(0,Ae.jsx)("div",{className:"bookings-list",children:u.map(e=>(0,Ae.jsxs)("div",{className:"booking-item",children:[(0,Ae.jsx)("div",{className:"booking-time",children:e.time}),(0,Ae.jsxs)("div",{className:"booking-details",children:[(0,Ae.jsx)("strong",{children:e.name}),(0,Ae.jsxs)("p",{children:["People: ",e.people," | Rounds: ",e.rounds]}),(0,Ae.jsxs)("p",{children:["Phone: ",e.phone]}),e.email&&(0,Ae.jsxs)("p",{children:["Email: ",e.email]}),e.status&&(0,Ae.jsxs)("p",{children:["Status:"," ",(0,Ae.jsx)("span",{className:`status-${e.status}`,children:e.status.charAt(0).toUpperCase()+e.status.slice(1)})]})]})]},e.id))})]})]})]})]})};class Bg{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Network Error";this.status=e,this.text=t}}const $g={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:(()=>{if("undefined"!==typeof localStorage)return{get:e=>Promise.resolve(localStorage.getItem(e)),set:(e,t)=>Promise.resolve(localStorage.setItem(e,t)),remove:e=>Promise.resolve(localStorage.removeItem(e))}})()},qg=e=>e?"string"===typeof e?{publicKey:e}:"[object Object]"===e.toString()?e:{}:{},Hg=async function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=await fetch($g.origin+e,{method:"POST",headers:n,body:t}),i=await r.text(),s=new Bg(r.status,i);if(r.ok)return s;throw s},Wg=(e,t,n)=>{if(!e||"string"!==typeof e)throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!t||"string"!==typeof t)throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!n||"string"!==typeof n)throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},Kg=e=>e.webdriver||!e.languages||0===e.languages.length,Gg=()=>new Bg(451,"Unavailable For Headless Browser"),Qg=(e,t)=>{if((e=>!e.list?.length||!e.watchVariable)(e))return!1;((e,t)=>{if(!Array.isArray(e))throw"The BlockList list has to be an array";if("string"!==typeof t)throw"The BlockList watchVariable has to be a string"})(e.list,e.watchVariable);const n=((e,t)=>e instanceof FormData?e.get(t):e[t])(t,e.watchVariable);return"string"===typeof n&&e.list.includes(n)},Yg=()=>new Bg(403,"Forbidden"),Jg=async(e,t,n)=>{if(!t.throttle||!n)return!1;((e,t)=>{if("number"!==typeof e||e<0)throw"The LimitRate throttle has to be a positive number";if(t&&"string"!==typeof t)throw"The LimitRate ID has to be a non-empty string"})(t.throttle,t.id);const r=t.id||e,i=await(async(e,t,n)=>{const r=Number(await n.get(e)||0);return t-Date.now()+r})(r,t.throttle,n);return i>0||(await n.set(r,Date.now().toString()),!1)},Xg=()=>new Bg(429,"Too Many Requests"),Zg=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"https://api.emailjs.com";if(!e)return;const n=qg(e);$g.publicKey=n.publicKey,$g.blockHeadless=n.blockHeadless,$g.storageProvider=n.storageProvider,$g.blockList=n.blockList,$g.limitRate=n.limitRate,$g.origin=n.origin||t},ev=async(e,t,n,r)=>{const i=qg(r),s=i.publicKey||$g.publicKey,a=i.blockHeadless||$g.blockHeadless,o=i.storageProvider||$g.storageProvider,l={...$g.blockList,...i.blockList},c={...$g.limitRate,...i.limitRate};if(a&&Kg(navigator))return Promise.reject(Gg());if(Wg(s,e,t),(e=>{if(e&&"[object Object]"!==e.toString())throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"})(n),n&&Qg(l,n))return Promise.reject(Yg());if(await Jg(location.pathname,c,o))return Promise.reject(Xg());const u={lib_version:"4.4.1",user_id:s,service_id:e,template_id:t,template_params:n};return Hg("/api/v1.0/email/send",JSON.stringify(u),{"Content-type":"application/json"})},tv=["REACT_APP_EMAILJS_PUBLIC_KEY","REACT_APP_EMAILJS_SERVICE_ID","REACT_APP_EMAILJS_TEMPLATE_APPROVAL","REACT_APP_EMAILJS_TEMPLATE_REJECTION"];for(const n of tv)if(!{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_CLOUDINARY_CLOUD_NAME:"dxqxjaruh",REACT_APP_CLOUDINARY_UPLOAD_PRESET:"ignite",REACT_APP_EMAILJS_PUBLIC_KEY:"nxm2K3gkOeRTTO6lb",REACT_APP_EMAILJS_SERVICE_ID:"service_8uecr8p",REACT_APP_EMAILJS_TEMPLATE_APPROVAL:"template_szaabif",REACT_APP_EMAILJS_TEMPLATE_REJECTION:"template_uqau4un",REACT_APP_FIREBASE_API_KEY:"AIzaSyAHSqMT1mLifDykEKsxXQs4e0V9m78UPQ0",REACT_APP_FIREBASE_APP_ID:"1:383859238509:web:d5743aa9ad3f54f2cd8164",REACT_APP_FIREBASE_AUTH_DOMAIN:"ignite-cd493.firebaseapp.com",REACT_APP_FIREBASE_MEASUREMENT_ID:"G-5176MFW08Z",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"383859238509",REACT_APP_FIREBASE_PROJECT_ID:"ignite-cd493",REACT_APP_FIREBASE_STORAGE_BUCKET:"ignite-cd493.firebasestorage.app"}[n])throw new Error(`Missing required environment variable: ${n}`);Zg("nxm2K3gkOeRTTO6lb");const nv="service_8uecr8p",rv="template_szaabif",iv=t.memo(e=>{let{src:n,alt:r,style:i,className:s}=e;const[a,o]=(0,t.useState)(null),[l,c]=(0,t.useState)(),[u,d]=(0,t.useState)(!1);return(0,t.useEffect)(()=>{let e;return l&&a!==n&&(IntersectionObserver?(e=new IntersectionObserver(t=>{t.forEach(t=>{t.isIntersecting&&a!==n&&(o(n),e.unobserve(l))})},{threshold:.1}),e.observe(l)):o(n)),()=>{e&&e.unobserve&&e.unobserve(l)}},[l,a,n]),(0,Ae.jsxs)("div",{ref:c,className:`lazy-image-container ${s||""}`,style:i,children:[!u&&(0,Ae.jsx)("div",{className:"image-skeleton",children:(0,Ae.jsx)("div",{className:"skeleton-shimmer"})}),a&&(0,Ae.jsx)("img",{src:a,alt:r,style:{...i,opacity:u?1:0,transition:"opacity 0.3s ease"},onLoad:()=>d(!0),onError:()=>d(!0)})]})}),sv=t.memo(e=>{let{item:t,onDelete:n}=e;return(0,Ae.jsxs)("div",{className:"menu-card",children:[(0,Ae.jsx)("div",{className:"item-image",children:t.image&&t.image.startsWith("http")?(0,Ae.jsx)(iv,{src:t.image,alt:t.name,style:{width:"50px",height:"50px",objectFit:"cover",borderRadius:"8px"},className:"menu-item-image"}):(0,Ae.jsx)("span",{children:t.image})}),(0,Ae.jsx)("span",{className:"item-name",children:t.name}),(0,Ae.jsx)("button",{onClick:()=>n(t.id),className:"delete",children:"Delete"})]})}),av=e=>{let{date:t,time:n,bookings:r}=e;const i=r.filter(e=>e.date===t&&e.time===n&&"approved"===e.status).length,s=i>=6;return(0,Ae.jsxs)("div",{className:"lane-capacity-indicator",children:[(0,Ae.jsxs)("div",{className:"lane-info",children:[(0,Ae.jsxs)("span",{className:"lane-text",children:["\ud83c\udfb3 Lanes: ",i,"/",6]}),s&&(0,Ae.jsx)("span",{className:"capacity-full",children:"FULL"})]}),(0,Ae.jsx)("div",{className:"lane-visual",children:Array.from({length:6},(e,t)=>(0,Ae.jsx)("div",{className:"lane-dot "+(t<i?"occupied":"available")},t))})]})},ov=()=>{const{showSuccess:e,showError:n,showWarning:r,showConfirm:i}=De(),[s,a]=(0,t.useState)("bookings"),[o,l]=(0,t.useState)(null),[c,u]=(0,t.useState)([]),[d,h]=(0,t.useState)([]),[f,p]=(0,t.useState)([]),[m,g]=(0,t.useState)([]),[v,y]=(0,t.useState)([]),[b,w]=(0,t.useState)([]),[_,E]=(0,t.useState)(!1),[x,S]=(0,t.useState)("all"),[k,T]=(0,t.useState)({name:"",image:""}),[C,I]=(0,t.useState)(!1),[N,A]=(0,t.useState)({title:"",price:"",items:[""],maxPeople:"",duration:""}),[P,j]=(0,t.useState)({spend:"",get:""}),[R,D]=(0,t.useState)({question:"",answer:""}),[O,L]=(0,t.useState)(null),[M,F]=(0,t.useState)(null),[U,V]=(0,t.useState)({title:"",price:"",items:[""],maxPeople:"",duration:""}),[z,B]=(0,t.useState)(""),[$,q]=(0,t.useState)(!1),[H,W]=(0,t.useState)(null),[K,G]=(0,t.useState)(1),[Q]=(0,t.useState)(12),[Y,J]=(0,t.useState)(""),[X,Z]=(0,t.useState)(!1),ee=(0,t.useRef)(null);(0,t.useEffect)(()=>{te();const e=Ki(kg,async e=>{if(e)try{const t=await dg(lm(Sg,"admins",e.uid));t.exists()&&l(t.data().role)}catch(t){console.error("Error fetching user role:",t)}});return()=>e()},[]);const te=async()=>{E(!0);try{const e=await fg(om(Sg,"bookings"));u(e.docs.map(e=>({id:e.id,...e.data()})));const t=await fg(om(Sg,"menu"));h(t.docs.map(e=>({id:e.id,...e.data()})));const n=await fg(Ym(om(Sg,"feedback"),function(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=Wm("orderBy",e);return eg._create(n,t)}("createdAt","desc")));p(n.docs.map(e=>({id:e.id,...e.data()})));const r=await fg(om(Sg,"birthdayPackages"));g(r.docs.map(e=>({id:e.id,...e.data()})));const i=await fg(om(Sg,"offers"));y(i.docs.map(e=>({id:e.id,...e.data()})));const s=await fg(om(Sg,"faqs"));w(s.docs.map(e=>({id:e.id,...e.data()})))}catch(e){console.error("Error fetching data:",e)}E(!1)},ne=(e,t)=>{const n=c.filter(n=>n.date===e&&n.time===t&&"approved"===n.status);return{occupied:n.length,available:6-n.length,total:6,isAtCapacity:n.length>=6}},re=async()=>{if(U.title&&U.price)try{const t={...U,items:U.items.filter(e=>""!==e.trim()),maxPeople:U.maxPeople,duration:parseInt(U.duration)};await mg(lm(Sg,"birthdayPackages",M),t),g(m.map(e=>e.id===M?{id:M,...t}:e)),F(null),V({title:"",price:"",items:[""],maxPeople:"",duration:""}),e("Birthday package updated successfully!")}catch(t){n("Error updating birthday package: "+t.message)}else r("Please fill all required fields")},ie=()=>{F(null),V({title:"",price:"",items:[""],maxPeople:"",duration:""})},se=async t=>{try{const s=c.find(e=>e.id===t),a=c.filter(e=>e.date===s.date&&e.time===s.time&&"approved"===e.status&&e.id!==t);if(a.length>=6)return void n(`Cannot approve booking: All 6 lanes are already booked for ${s.date} at ${s.time}. Currently approved: ${a.length}/6 lanes.`);const o=6-a.length;if(await i({title:"Approve Booking",message:`Are you sure you want to approve this booking?\n\n\ud83d\udcc5 Date: ${s.date}\n\u23f0 Time: ${s.time}\n\ud83d\udc65 Customer: ${s.name}\n\ud83c\udfb3 Lanes currently approved for this slot: ${a.length}/6\n\ud83c\udfb3 Lanes remaining after approval: ${o-1}/6\n\nThe customer will be notified via email.`,confirmText:"Approve & Send Email",cancelText:"Cancel",type:"info"}))if(s.email&&""!==s.email.trim()||r("This booking doesn't have an email address. Approving without sending email."),await mg(lm(Sg,"bookings",t),{status:"approved",approvedAt:new Date,approvedBy:"admin"}),u(c.map(e=>e.id===t?{...e,status:"approved",approvedAt:new Date}:e)),s.email&&""!==s.email.trim()){console.log("Attempting to send approval email to:",s.email);const t=await(async e=>{try{if(!e.email||""===e.email.trim())throw new Error("No email address provided");const t={to_email:e.email.trim(),to_name:e.name,from_name:"Ignite Team",reply_to:"ignite@gmail.com",subject:`\u2705 Bowling Booking Confirmed - ${e.date}`,booking_date:e.date,booking_time:e.time,booking_people:e.people,booking_rounds:e.rounds||"N/A",booking_phone:e.phone,booking_type:e.type,booking_package:e.bundleName||"Regular Bowling",booking_id:e.id,message:"Great news! Your bowling booking has been confirmed.",user_name:e.name,user_email:e.email.trim()};return console.log("Sending approval email with params:",t),{success:!0,response:await ev(nv,rv,t)}}catch(t){return console.error("Error sending approval email:",t),{success:!1,error:t.message}}})(s);t.success?e(`Booking approved and confirmation email sent! Lane ${a.length+1}/6 assigned for ${s.date} at ${s.time}.`):(console.error("Email sending failed:",t.error),r(`Booking approved but email failed to send: ${t.error}`))}else e(`Booking approved! (No email on file) Lane ${a.length+1}/6 assigned for ${s.date} at ${s.time}.`)}catch(s){n("Error approving booking: "+s.message)}},ae=()=>{q(!1),W(null),B("")},oe=e=>{switch(e){case"pending":return"#f59e0b";case"approved":return"#22c55e";case"rejected":return"#ef4444";default:return"#6b7280"}},le=e=>{switch(e){case"pending":return"\u23f3";case"approved":return"\u2705";case"rejected":return"\u274c";default:return"\u2753"}},ce=(0,t.useMemo)(()=>Y?d.filter(e=>e.name.toLowerCase().includes(Y.toLowerCase())):d,[d,Y]),ue=(0,t.useMemo)(()=>{const e=K*Q;return ce.slice(0,e)},[ce,K,Q]),de=(0,t.useMemo)(()=>ue.length<ce.length,[ue.length,ce.length]),he=(0,t.useCallback)(()=>{!X&&de&&(Z(!0),setTimeout(()=>{G(e=>e+1),Z(!1)},300))},[X,de]),fe=(0,t.useCallback)(e=>{const{scrollTop:t,scrollHeight:n,clientHeight:r}=e.target;n-t<=1.5*r&&he()},[he]),pe=(0,t.useCallback)(async t=>{if(await i({title:"Delete Menu Item",message:"Are you sure you want to delete this menu item? This action cannot be undone.",confirmText:"Delete Item",cancelText:"Cancel",type:"danger"}))try{await gg(lm(Sg,"menu",t)),h(e=>e.filter(e=>e.id!==t)),e("Menu item deleted successfully!")}catch(r){n("Error deleting menu item: "+r.message)}},[i,e,n]);return(0,t.useEffect)(()=>{G(1)},[Y]),(0,Ae.jsxs)("div",{className:"jana-dashboard",children:[(0,Ae.jsxs)("div",{className:"container",children:[(0,Ae.jsx)("h1",{children:"reception"===o?"Bookings Management":"Jana's Management Dashboard"}),(0,Ae.jsxs)("div",{className:"tab-navigation",children:[(0,Ae.jsx)("button",{className:"bookings"===s?"active":"",onClick:()=>a("bookings"),children:"\ud83d\udcc5 Manage Bookings"}),"jana"===o&&(0,Ae.jsxs)(Ae.Fragment,{children:[(0,Ae.jsx)("button",{className:"menu"===s?"active":"",onClick:()=>a("menu"),children:"\ud83c\udf7d\ufe0f Manage Menu"}),(0,Ae.jsx)("button",{className:"feedback"===s?"active":"",onClick:()=>a("feedback"),children:"\ud83d\udcac Manage Feedback"}),(0,Ae.jsx)("button",{className:"birthday"===s?"active":"",onClick:()=>a("birthday"),children:"\ud83c\udf89 Manage Birthday Packages"}),(0,Ae.jsx)("button",{className:"offers"===s?"active":"",onClick:()=>a("offers"),children:"\ud83d\udcb0 Manage Offers"}),(0,Ae.jsx)("button",{className:"faqs"===s?"active":"",onClick:()=>a("faqs"),children:"\u2753 Manage FAQs"})]})]}),_&&(0,Ae.jsx)("div",{className:"loading",children:"Loading..."}),"bookings"===s&&(0,Ae.jsxs)("div",{className:"tab-content",children:[(0,Ae.jsxs)("div",{className:"bookings-header",children:[(0,Ae.jsx)("h2",{children:"Manage Bookings"}),(0,Ae.jsxs)("div",{className:"booking-filters",children:[(0,Ae.jsxs)("button",{className:"filter-btn "+("all"===x?"active":""),onClick:()=>S("all"),children:["All (",c.length,")"]}),(0,Ae.jsxs)("button",{className:"filter-btn "+("pending"===x?"active":""),onClick:()=>S("pending"),children:["Pending (",c.filter(e=>"pending"===e.status).length,")"]}),(0,Ae.jsxs)("button",{className:"filter-btn "+("approved"===x?"active":""),onClick:()=>S("approved"),children:["Approved (",c.filter(e=>"approved"===e.status).length,")"]}),(0,Ae.jsxs)("button",{className:"filter-btn "+("rejected"===x?"active":""),onClick:()=>S("rejected"),children:["Rejected (",c.filter(e=>"rejected"===e.status).length,")"]})]})]}),(0,Ae.jsx)("div",{className:"bookings-list",children:("all"===x?c:c.filter(e=>e.status===x)).map(t=>{var r,s,a,o;return(0,Ae.jsx)("div",{className:"booking-card",children:O===t.id?(0,Ae.jsxs)("div",{className:"edit-form",children:[(0,Ae.jsx)("input",{type:"date",defaultValue:new Date(t.date).toISOString().split("T")[0],onChange:e=>t.newDate=e.target.value}),(0,Ae.jsx)("input",{type:"time",defaultValue:t.time,onChange:e=>t.newTime=e.target.value}),(0,Ae.jsx)("button",{onClick:()=>(async(t,r)=>{try{await mg(lm(Sg,"bookings",t),r),u(c.map(e=>e.id===t?{...e,...r}:e)),L(null),e("Booking updated successfully!")}catch(i){n("Error updating booking: "+i.message)}})(t.id,{date:t.newDate||t.date,time:t.newTime||t.time}),children:"Save"}),(0,Ae.jsx)("button",{onClick:()=>L(null),children:"Cancel"})]}):(0,Ae.jsxs)("div",{className:"booking-info",children:[(0,Ae.jsxs)("div",{className:"booking-status-header",children:[(0,Ae.jsxs)("div",{className:"booking-status",style:{color:oe(t.status)},children:[le(t.status)," ",(null===(r=t.status)||void 0===r?void 0:r.toUpperCase())||"PENDING"]}),(0,Ae.jsxs)("div",{className:"booking-date-created",children:["Created:"," ",(null===(s=t.createdAt)||void 0===s||null===(a=s.toDate)||void 0===a||null===(o=a.call(s))||void 0===o?void 0:o.toLocaleDateString())||"N/A"]})]}),(0,Ae.jsx)("h3",{children:t.name}),(0,Ae.jsxs)("p",{children:["\ud83d\udcc5 ",t.date," at ",t.time]}),(0,Ae.jsxs)("p",{children:["\ud83d\udc65 ",t.people," people | \ud83c\udfb3 ",t.rounds," rounds"]}),(0,Ae.jsxs)("p",{children:["\ud83d\udcde ",t.phone]}),t.email&&(0,Ae.jsxs)("p",{children:["\ud83d\udce7 ",t.email]}),(0,Ae.jsx)(av,{date:t.date,time:t.time,bookings:c}),"birthday"===t.type&&t.bundleName&&(0,Ae.jsxs)("p",{children:["\ud83c\udf89 Package: ",t.bundleName]}),t.contactAttempts>0&&(0,Ae.jsxs)("p",{className:"contact-attempts",children:["\ud83d\udcde Contact attempts: ",t.contactAttempts]}),(0,Ae.jsxs)("div",{className:"booking-actions",children:["pending"===t.status&&(0,Ae.jsxs)(Ae.Fragment,{children:[(0,Ae.jsx)("button",{onClick:()=>(async t=>{try{const n=(c.find(e=>e.id===t).contactAttempts||0)+1;await mg(lm(Sg,"bookings",t),{contactAttempts:n,lastContactAttempt:new Date}),u(c.map(e=>e.id===t?{...e,contactAttempts:n,lastContactAttempt:new Date}:e)),e(`Contact attempt #${n} recorded`)}catch(r){n("Error recording contact attempt: "+r.message)}})(t.id),className:"contact-btn",children:"Mark Contact Attempt"}),(0,Ae.jsx)("button",{onClick:()=>se(t.id),className:"approve-btn",disabled:ne(t.date,t.time).isAtCapacity,children:ne(t.date,t.time).isAtCapacity?"Lanes Full":"Approve & Email"}),(0,Ae.jsx)("button",{onClick:()=>{return e=t.id,W(e),B(""),void q(!0);var e},className:"reject-btn",children:"Reject & Email"})]}),"approved"===t.status&&(0,Ae.jsx)("button",{onClick:()=>L(t.id),children:"Edit"}),(0,Ae.jsx)("button",{onClick:()=>(async t=>{if(await i({title:"Cancel Booking",message:"Are you sure you want to cancel this booking? This action cannot be undone.",confirmText:"Cancel Booking",cancelText:"Keep Booking",type:"danger"}))try{await gg(lm(Sg,"bookings",t)),u(c.filter(e=>e.id!==t)),e("Booking cancelled successfully!")}catch(r){n("Error cancelling booking: "+r.message)}})(t.id),className:"cancel",children:"Delete"})]})]})},t.id)})})]}),"menu"===s&&"jana"===o&&(0,Ae.jsxs)("div",{className:"tab-content",children:[(0,Ae.jsx)("h2",{children:"Manage Menu"}),(0,Ae.jsxs)("div",{className:"add-form",children:[(0,Ae.jsx)("h3",{children:"Add New Menu Item"}),(0,Ae.jsx)("input",{type:"text",placeholder:"Item Name",value:k.name,onChange:e=>T({...k,name:e.target.value})}),(0,Ae.jsxs)("div",{className:"image-upload-section",children:[(0,Ae.jsx)("label",{children:"Upload Image:"}),(0,Ae.jsx)("input",{type:"file",accept:"image/*",onChange:async e=>{const t=e.target.files[0];if(t)if(t.type.startsWith("image/")){I(!0);try{const e=await(async e=>{const t="dxqxjaruh",n="ignite",r=new FormData;r.append("file",e),r.append("upload_preset",n);try{const e=await fetch(`https://api.cloudinary.com/v1_1/${t}/image/upload`,{method:"POST",body:r});return(await e.json()).secure_url}catch(i){throw console.error("Error uploading image:",i),i}})(t);T({...k,image:e})}catch(r){n("Error uploading image: "+r.message)}I(!1)}else n("Please select an image file")},disabled:C}),C&&(0,Ae.jsx)("p",{children:"Uploading image..."}),k.image&&(0,Ae.jsx)("div",{className:"image-preview",children:(0,Ae.jsx)("img",{src:k.image,alt:"Preview",style:{width:"100px",height:"100px",objectFit:"cover"}})})]}),(0,Ae.jsx)("button",{onClick:async()=>{if(k.name&&k.image)try{const t=await vg(om(Sg,"menu"),k);h([...d,{id:t.id,...k}]),T({name:"",image:""}),e("Menu item added successfully!")}catch(t){n("Error adding menu item: "+t.message)}else r("Please fill all fields and upload an image")},disabled:C,children:C?"Uploading...":"Add Item"})]}),(0,Ae.jsxs)("div",{className:"menu-controls",children:[(0,Ae.jsxs)("div",{className:"search-container",children:[(0,Ae.jsx)("input",{type:"text",placeholder:"\ud83d\udd0d Search menu items...",value:Y,onChange:e=>J(e.target.value),className:"search-input"}),Y&&(0,Ae.jsx)("button",{onClick:()=>J(""),className:"clear-search",children:"\u2715"})]}),(0,Ae.jsxs)("div",{className:"menu-stats",children:["Showing ",ue.length," of"," ",ce.length," items"]})]}),(0,Ae.jsxs)("div",{className:"menu-list-container",ref:ee,onScroll:fe,children:[(0,Ae.jsx)("div",{className:"menu-list",children:ue.map(e=>(0,Ae.jsx)(sv,{item:e,onDelete:pe},e.id))}),X&&(0,Ae.jsxs)("div",{className:"loading-more",children:[(0,Ae.jsx)("div",{className:"loading-spinner"}),(0,Ae.jsx)("span",{children:"Loading more items..."})]}),!X&&de&&(0,Ae.jsx)("div",{className:"load-more-container",children:(0,Ae.jsxs)("button",{onClick:he,className:"load-more-btn",children:["Load More Items (",ce.length-ue.length," ","remaining)"]})}),0===ce.length&&!_&&(0,Ae.jsxs)("div",{className:"no-items-state",children:[(0,Ae.jsx)("div",{className:"no-items-icon",children:"\ud83c\udf7d\ufe0f"}),(0,Ae.jsx)("h3",{children:"No menu items found"}),(0,Ae.jsx)("p",{children:Y?`No items match "${Y}"`:"Start by adding your first menu item!"})]})]})]}),"feedback"===s&&"jana"===o&&(0,Ae.jsxs)("div",{className:"tab-content",children:[(0,Ae.jsx)("h2",{children:"Manage Feedback"}),(0,Ae.jsx)("div",{className:"feedback-list",children:f.map(t=>(0,Ae.jsxs)("div",{className:"feedback-card",children:[(0,Ae.jsxs)("div",{className:"feedback-header",children:[(0,Ae.jsx)("strong",{children:t.name}),(0,Ae.jsx)("span",{children:"\u2b50".repeat(t.rating)}),(0,Ae.jsx)("button",{onClick:()=>(async t=>{if(await i({title:"Delete Feedback",message:"Are you sure you want to delete this feedback? This action cannot be undone.",confirmText:"Delete Feedback",cancelText:"Cancel",type:"danger"}))try{await gg(lm(Sg,"feedback",t)),p(f.filter(e=>e.id!==t)),e("Feedback deleted successfully!")}catch(r){n("Error deleting feedback: "+r.message)}})(t.id),className:"delete",children:"Delete"})]}),(0,Ae.jsx)("p",{children:t.comment})]},t.id))})]}),"birthday"===s&&"jana"===o&&(0,Ae.jsxs)("div",{className:"tab-content",children:[(0,Ae.jsx)("h2",{children:"Manage Birthday Packages"}),(0,Ae.jsxs)("div",{className:"add-form",children:[(0,Ae.jsx)("h3",{children:"Add New Birthday Package"}),(0,Ae.jsx)("input",{type:"text",placeholder:"Package Title (e.g., \u2728 Spark Package)",value:N.title,onChange:e=>A({...N,title:e.target.value})}),(0,Ae.jsx)("input",{type:"text",placeholder:"Price (e.g., 80 ILS/person)",value:N.price,onChange:e=>A({...N,price:e.target.value})}),(0,Ae.jsx)("input",{type:"text",placeholder:"Max People",value:N.maxPeople,onChange:e=>A({...N,maxPeople:e.target.value})}),(0,Ae.jsx)("input",{type:"text",placeholder:"Duration in minutes",value:N.duration,onChange:e=>A({...N,duration:e.target.value})}),(0,Ae.jsxs)("div",{className:"items-section",children:[(0,Ae.jsx)("label",{children:"Package Items:"}),N.items.map((e,t)=>(0,Ae.jsx)("input",{type:"text",placeholder:"Package item (e.g., 1 VR session)",value:e,onChange:e=>{const n=[...N.items];n[t]=e.target.value,A({...N,items:n})}},t)),(0,Ae.jsx)("button",{type:"button",onClick:()=>A({...N,items:[...N.items,""]}),children:"+ Add Item"})]}),(0,Ae.jsx)("button",{onClick:async()=>{if(N.title&&N.price)try{const t={...N,items:N.items.filter(e=>""!==e.trim()),maxPeople:N.maxPeople,duration:parseInt(N.duration)},n=await vg(om(Sg,"birthdayPackages"),t);g([...m,{id:n.id,...t}]),A({title:"",price:"",items:[""],maxPeople:"",duration:""}),e("Birthday package added successfully!")}catch(t){n("Error adding birthday package: "+t.message)}else r("Please fill all required fields")},children:"Add Birthday Package"})]}),(0,Ae.jsx)("div",{className:"packages-list",children:m.map(t=>(0,Ae.jsx)("div",{className:"package-card",children:M===t.id?(0,Ae.jsxs)("div",{className:"edit-package-form",children:[(0,Ae.jsx)("input",{type:"text",placeholder:"Package Title",value:U.title,onChange:e=>V({...U,title:e.target.value})}),(0,Ae.jsx)("input",{type:"text",placeholder:"Price",value:U.price,onChange:e=>V({...U,price:e.target.value})}),(0,Ae.jsx)("input",{type:"text",placeholder:"Max People",value:U.maxPeople,onChange:e=>V({...U,maxPeople:e.target.value})}),(0,Ae.jsx)("input",{type:"text",placeholder:"Duration in minutes",value:U.duration,onChange:e=>V({...U,duration:e.target.value})}),(0,Ae.jsxs)("div",{className:"edit-items-section",children:[(0,Ae.jsx)("label",{children:"Package Items:"}),U.items.map((e,t)=>(0,Ae.jsx)("input",{type:"text",placeholder:"Package item",value:e,onChange:e=>{const n=[...U.items];n[t]=e.target.value,V({...U,items:n})}},t)),(0,Ae.jsx)("button",{type:"button",onClick:()=>V({...U,items:[...U.items,""]}),children:"+ Add Item"})]}),(0,Ae.jsxs)("div",{className:"edit-package-actions",children:[(0,Ae.jsx)("button",{onClick:re,children:"Save"}),(0,Ae.jsx)("button",{onClick:ie,children:"Cancel"})]})]}):(0,Ae.jsxs)(Ae.Fragment,{children:[(0,Ae.jsx)("h3",{children:t.title}),(0,Ae.jsx)("p",{className:"price",children:t.price}),(0,Ae.jsxs)("p",{className:"package-details",children:["\ud83d\udc65 Max: ",t.maxPeople," people | \u23f1\ufe0f Duration:"," ",t.duration," minutes"]}),(0,Ae.jsx)("ul",{children:t.items.map((e,t)=>(0,Ae.jsx)("li",{children:e},t))}),(0,Ae.jsxs)("div",{className:"package-actions",children:[(0,Ae.jsx)("button",{onClick:()=>(e=>{F(e.id),V({title:e.title,price:e.price,items:[...e.items],maxPeople:e.maxPeople,duration:e.duration})})(t),className:"edit",children:"Edit"}),(0,Ae.jsx)("button",{onClick:()=>(async t=>{if(await i({title:"Delete Birthday Package",message:"Are you sure you want to delete this birthday package? This action cannot be undone.",confirmText:"Delete Package",cancelText:"Cancel",type:"danger"}))try{await gg(lm(Sg,"birthdayPackages",t)),g(m.filter(e=>e.id!==t)),e("Birthday package deleted successfully!")}catch(r){n("Error deleting birthday package: "+r.message)}})(t.id),className:"delete",children:"Delete"})]})]})},t.id))})]}),"offers"===s&&"jana"===o&&(0,Ae.jsxs)("div",{className:"tab-content",children:[(0,Ae.jsx)("h2",{children:"Manage Points Offers"}),(0,Ae.jsxs)("div",{className:"add-form",children:[(0,Ae.jsx)("h3",{children:"Add New Offer"}),(0,Ae.jsxs)("div",{className:"offer-input-group",children:[(0,Ae.jsx)("input",{type:"number",placeholder:"Spend Amount (ILS)",value:P.spend,onChange:e=>j({...P,spend:e.target.value}),min:"1"}),(0,Ae.jsx)("span",{className:"arrow-text",children:"\u2192"}),(0,Ae.jsx)("input",{type:"number",placeholder:"Points to Get",value:P.get,onChange:e=>j({...P,get:e.target.value}),min:"1"})]}),(0,Ae.jsx)("button",{onClick:async()=>{if(P.spend&&P.get)if(parseInt(P.spend)<=0||parseInt(P.get)<=0)r("Please enter valid positive numbers");else try{const t={spend:parseInt(P.spend),get:parseInt(P.get)},n=await vg(om(Sg,"offers"),t);y([...v,{id:n.id,...t}]),j({spend:"",get:""}),e("Offer added successfully!")}catch(t){n("Error adding offer: "+t.message)}else r("Please fill all required fields")},children:"Add Offer"})]}),(0,Ae.jsx)("div",{className:"offers-list",children:v.sort((e,t)=>e.spend-t.spend).map(t=>(0,Ae.jsxs)("div",{className:"offer-card",children:[(0,Ae.jsxs)("div",{className:"offer-display",children:[(0,Ae.jsxs)("div",{className:"spend-section",children:[(0,Ae.jsx)("span",{className:"currency",children:"\u20aa"}),(0,Ae.jsx)("span",{className:"amount",children:t.spend}),(0,Ae.jsx)("span",{className:"label",children:"Spend"})]}),(0,Ae.jsx)("div",{className:"arrow-section",children:(0,Ae.jsx)("span",{children:"\u2192"})}),(0,Ae.jsxs)("div",{className:"get-section",children:[(0,Ae.jsx)("span",{className:"points",children:t.get}),(0,Ae.jsx)("span",{className:"label",children:"Points"})]})]}),(0,Ae.jsx)("button",{onClick:()=>(async t=>{if(await i({title:"Delete Offer",message:"Are you sure you want to delete this offer? This action cannot be undone.",confirmText:"Delete Offer",cancelText:"Cancel",type:"danger"}))try{await gg(lm(Sg,"offers",t)),y(v.filter(e=>e.id!==t)),e("Offer deleted successfully!")}catch(r){n("Error deleting offer: "+r.message)}})(t.id),className:"delete",children:"Delete"})]},t.id))})]}),"faqs"===s&&"jana"===o&&(0,Ae.jsxs)("div",{className:"tab-content",children:[(0,Ae.jsx)("h2",{children:"Manage Frequently Asked Questions"}),(0,Ae.jsxs)("div",{className:"add-form",children:[(0,Ae.jsx)("h3",{children:"Add New FAQ"}),(0,Ae.jsx)("input",{type:"text",placeholder:"Question",value:R.question,onChange:e=>D({...R,question:e.target.value})}),(0,Ae.jsx)("textarea",{placeholder:"Answer",value:R.answer,onChange:e=>D({...R,answer:e.target.value}),rows:"4"}),(0,Ae.jsx)("button",{onClick:async()=>{if(R.question&&R.answer)try{const t={question:R.question.trim(),answer:R.answer.trim(),createdAt:new Date},n=await vg(om(Sg,"faqs"),t);w([...b,{id:n.id,...t}]),D({question:"",answer:""}),e("FAQ added successfully!")}catch(t){n("Error adding FAQ: "+t.message)}else r("Please fill all required fields")},children:"Add FAQ"})]}),(0,Ae.jsx)("div",{className:"faqs-list",children:b.map(t=>(0,Ae.jsxs)("div",{className:"faq-card",children:[(0,Ae.jsx)("div",{className:"faq-question",children:(0,Ae.jsxs)("h4",{children:["\u2753 ",t.question]})}),(0,Ae.jsx)("div",{className:"faq-answer",children:(0,Ae.jsx)("p",{children:t.answer})}),(0,Ae.jsx)("button",{onClick:()=>(async t=>{if(await i({title:"Delete FAQ",message:"Are you sure you want to delete this FAQ? This action cannot be undone.",confirmText:"Delete FAQ",cancelText:"Cancel",type:"danger"}))try{await gg(lm(Sg,"faqs",t)),w(b.filter(e=>e.id!==t)),e("FAQ deleted successfully!")}catch(r){n("Error deleting FAQ: "+r.message)}})(t.id),className:"delete",children:"Delete"})]},t.id))})]})]}),$&&(0,Ae.jsx)("div",{className:"rejection-modal-overlay",onClick:ae,children:(0,Ae.jsxs)("div",{className:"rejection-modal",onClick:e=>e.stopPropagation(),children:[(0,Ae.jsx)("div",{className:"rejection-modal-header",children:(0,Ae.jsx)("h3",{children:"Reject Booking"})}),(0,Ae.jsxs)("div",{className:"rejection-modal-body",children:[(0,Ae.jsx)("p",{children:"Please provide a reason for rejecting this booking. This will be included in the email to the customer."}),(0,Ae.jsx)("textarea",{value:z,onChange:e=>B(e.target.value),placeholder:"Enter rejection reason (e.g., 'The requested time slot is no longer available', 'Capacity is full for that date', etc.)",rows:"4",className:"rejection-reason-input"}),(0,Ae.jsxs)("div",{className:"rejection-reason-suggestions",children:[(0,Ae.jsx)("p",{children:(0,Ae.jsx)("strong",{children:"Common reasons:"})}),(0,Ae.jsx)("button",{type:"button",onClick:()=>B("The requested time slot is no longer available."),className:"suggestion-btn",children:"Time slot unavailable"}),(0,Ae.jsx)("button",{type:"button",onClick:()=>B("We are at full capacity for the requested date."),className:"suggestion-btn",children:"Full capacity"}),(0,Ae.jsx)("button",{type:"button",onClick:()=>B("Unable to accommodate the requested party size."),className:"suggestion-btn",children:"Party size issue"})]})]}),(0,Ae.jsxs)("div",{className:"rejection-modal-actions",children:[(0,Ae.jsx)("button",{onClick:ae,className:"cancel-btn",children:"Cancel"}),(0,Ae.jsx)("button",{onClick:async()=>{if(H)try{const t=c.find(e=>e.id===H);if(t.email&&""!==t.email.trim()||r("This booking doesn't have an email address. Rejecting without sending email."),await mg(lm(Sg,"bookings",H),{status:"rejected",rejectedAt:new Date,rejectedBy:"admin",rejectionReason:z}),u(c.map(e=>e.id===H?{...e,status:"rejected",rejectedAt:new Date,rejectionReason:z}:e)),t.email&&""!==t.email.trim()){console.log("Attempting to send rejection email to:",t.email);const n=await async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";try{if(!e.email||""===e.email.trim())throw new Error("No email address provided");const n={to_email:e.email.trim(),to_name:e.name,from_name:"Ignite Team",reply_to:"ignite@gmail.com",subject:`\u274c Bowling Booking Update - ${e.date}`,booking_date:e.date,booking_time:e.time,booking_people:e.people,booking_rounds:e.rounds||"N/A",booking_phone:e.phone,booking_type:e.type,booking_package:e.bundleName||"Regular Bowling",booking_id:e.id,rejection_reason:t||"Unfortunately, we cannot accommodate your booking at the requested time.",message:"We regret to inform you that your booking request cannot be confirmed.",user_name:e.name,user_email:e.email.trim()};return console.log("Sending rejection email with params:",n),{success:!0,response:await ev(nv,"template_uqau4un",n)}}catch(n){return console.error("Error sending rejection email:",n),{success:!1,error:n.message}}}(t,z);n.success?e("Booking rejected and notification email sent!"):(console.error("Email sending failed:",n.error),r(`Booking rejected but email failed to send: ${n.error}`))}else e("Booking rejected! (No email on file)");q(!1),W(null),B("")}catch(t){n("Error rejecting booking: "+t.message)}},className:"confirm-reject-btn",disabled:!z.trim(),children:"Reject & Send Email"})]})]})}),(0,Ae.jsx)("style",{jsx:!0,children:"\n        .bookings-header {\n          display: flex;\n          justify-content: space-between;\n          align-items: center;\n          margin-bottom: 20px;\n          flex-wrap: wrap;\n          gap: 16px;\n        }\n\n        .booking-filters {\n          display: flex;\n          gap: 8px;\n          flex-wrap: wrap;\n        }\n\n        .filter-btn {\n          padding: 8px 16px;\n          border: 2px solid #e5e7eb;\n          background: white;\n          border-radius: 6px;\n          cursor: pointer;\n          transition: all 0.2s;\n          font-size: 14px;\n        }\n\n        .filter-btn.active {\n          background: #3b82f6;\n          color: white;\n          border-color: #3b82f6;\n        }\n\n        .filter-btn:hover:not(.active) {\n          border-color: #3b82f6;\n          color: #3b82f6;\n        }\n\n        .booking-status-header {\n          display: flex;\n          justify-content: space-between;\n          align-items: center;\n          margin-bottom: 12px;\n        }\n\n        .booking-status {\n          font-weight: bold;\n          font-size: 14px;\n        }\n\n        .booking-date-created {\n          font-size: 12px;\n          color: #6b7280;\n        }\n\n        .contact-attempts {\n          color: #f59e0b;\n          font-weight: 500;\n        }\n\n        .booking-actions {\n          display: flex;\n          gap: 8px;\n          flex-wrap: wrap;\n          margin-top: 12px;\n        }\n\n        .approve-btn {\n          background: #22c55e;\n          color: white;\n          border: none;\n          padding: 8px 16px;\n          border-radius: 4px;\n          cursor: pointer;\n          font-size: 14px;\n          transition: all 0.2s ease;\n        }\n\n        .approve-btn:hover:not(:disabled) {\n          background: #16a34a;\n        }\n\n        .approve-btn:disabled {\n          background: #9ca3af !important;\n          cursor: not-allowed;\n          opacity: 0.6;\n        }\n\n        .approve-btn:disabled:hover {\n          background: #9ca3af !important;\n          transform: none;\n        }\n\n        .reject-btn {\n          background: #ef4444;\n          color: white;\n          border: none;\n          padding: 8px 16px;\n          border-radius: 4px;\n          cursor: pointer;\n          font-size: 14px;\n        }\n\n        .reject-btn:hover {\n          background: #dc2626;\n        }\n\n        .contact-btn {\n          background: #f59e0b;\n          color: white;\n          border: none;\n          padding: 8px 16px;\n          border-radius: 4px;\n          cursor: pointer;\n          font-size: 14px;\n        }\n\n        .contact-btn:hover {\n          background: #d97706;\n        }\n\n        .lane-capacity-indicator {\n          background: rgba(255, 255, 255, 0.1);\n          border-radius: 8px;\n          padding: 8px 12px;\n          margin: 8px 0;\n          border: 1px solid rgba(255, 255, 255, 0.2);\n        }\n\n        .lane-info {\n          display: flex;\n          justify-content: space-between;\n          align-items: center;\n          margin-bottom: 6px;\n        }\n\n        .lane-text {\n          font-size: 14px;\n          font-weight: 500;\n          color: #374151;\n        }\n\n        .capacity-full {\n          background: #ef4444;\n          color: white;\n          padding: 2px 8px;\n          border-radius: 12px;\n          font-size: 12px;\n          font-weight: 600;\n        }\n\n        .lane-visual {\n          display: flex;\n          gap: 4px;\n        }\n\n        .lane-dot {\n          width: 12px;\n          height: 12px;\n          border-radius: 50%;\n          transition: all 0.2s ease;\n        }\n\n        .lane-dot.occupied {\n          background: #ef4444;\n          box-shadow: 0 0 4px rgba(239, 68, 68, 0.5);\n        }\n\n        .lane-dot.available {\n          background: #22c55e;\n          box-shadow: 0 0 4px rgba(34, 197, 94, 0.5);\n        }\n\n        .rejection-modal-overlay {\n          position: fixed;\n          top: 0;\n          left: 0;\n          right: 0;\n          bottom: 0;\n          background-color: rgba(0, 0, 0, 0.5);\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          z-index: 10002;\n        }\n\n        .rejection-modal {\n          background: white;\n          border-radius: 12px;\n          box-shadow: 0 20px 60px rgba(0, 0, 0, 0.2);\n          max-width: 500px;\n          width: 90%;\n          max-height: 90vh;\n          overflow-y: auto;\n          animation: slideIn 0.3s ease-out;\n        }\n\n        .rejection-modal-header {\n          padding: 20px 24px 16px;\n          border-bottom: 1px solid #e5e7eb;\n        }\n\n        .rejection-modal-header h3 {\n          margin: 0;\n          color: #ef4444;\n        }\n\n        .rejection-modal-body {\n          padding: 24px;\n        }\n\n        .rejection-modal-body p {\n          margin-bottom: 16px;\n          color: #6b7280;\n          line-height: 1.5;\n        }\n\n        .rejection-reason-input {\n          width: 100%;\n          padding: 12px;\n          border: 2px solid #e5e7eb;\n          border-radius: 8px;\n          font-family: inherit;\n          font-size: 14px;\n          resize: vertical;\n          margin-bottom: 16px;\n        }\n\n        .rejection-reason-input:focus {\n          outline: none;\n          border-color: #ef4444;\n        }\n\n        .rejection-reason-suggestions {\n          margin-bottom: 16px;\n        }\n\n        .rejection-reason-suggestions p {\n          margin-bottom: 8px;\n          font-size: 14px;\n          font-weight: 500;\n        }\n\n        .suggestion-btn {\n          display: inline-block;\n          margin: 4px 8px 4px 0;\n          padding: 6px 12px;\n          background: #f3f4f6;\n          border: 1px solid #d1d5db;\n          border-radius: 6px;\n          font-size: 12px;\n          cursor: pointer;\n          transition: all 0.2s;\n        }\n\n        .suggestion-btn:hover {\n          background: #e5e7eb;\n        }\n\n        .rejection-modal-actions {\n          padding: 16px 24px 24px;\n          display: flex;\n          gap: 12px;\n          justify-content: flex-end;\n        }\n\n        .cancel-btn {\n          padding: 8px 16px;\n          background: #f3f4f6;\n          border: 1px solid #d1d5db;\n          border-radius: 6px;\n          cursor: pointer;\n        }\n\n        .confirm-reject-btn {\n          padding: 8px 16px;\n          background: #ef4444;\n          color: white;\n          border: none;\n          border-radius: 6px;\n          cursor: pointer;\n        }\n\n        .confirm-reject-btn:disabled {\n          background: #9ca3af;\n          cursor: not-allowed;\n        }\n\n        .confirm-reject-btn:hover:not(:disabled) {\n          background: #dc2626;\n        }\n\n        .menu-controls {\n          display: flex;\n          justify-content: space-between;\n          align-items: center;\n          margin-bottom: 2rem;\n          gap: 1rem;\n          flex-wrap: wrap;\n        }\n\n        .search-container {\n          position: relative;\n          flex: 1;\n          max-width: 400px;\n        }\n\n        .search-input {\n          width: 100%;\n          padding: 12px 16px;\n          border: 2px solid rgba(255, 127, 0, 0.3);\n          border-radius: 25px;\n          background: rgba(255, 255, 255, 0.9);\n          font-size: 16px;\n          font-family: inherit;\n          transition: all 0.3s ease;\n        }\n\n        .search-input:focus {\n          outline: none;\n          border-color: var(--aurora-orange);\n          box-shadow: 0 0 0 4px rgba(255, 127, 0, 0.1);\n        }\n\n        .clear-search {\n          position: absolute;\n          right: 12px;\n          top: 50%;\n          transform: translateY(-50%);\n          background: none;\n          border: none;\n          font-size: 16px;\n          cursor: pointer;\n          color: #666;\n          padding: 4px;\n          border-radius: 50%;\n          transition: all 0.2s ease;\n        }\n\n        .clear-search:hover {\n          background: rgba(255, 127, 0, 0.1);\n          color: var(--aurora-orange);\n        }\n\n        .menu-stats {\n          font-size: 14px;\n          color: rgba(255, 255, 255, 0.8);\n          font-weight: 500;\n        }\n\n        .menu-list-container {\n          max-height: 70vh;\n          overflow-y: auto;\n          padding-right: 8px;\n          scroll-behavior: smooth;\n          overflow: hidden;\n        }\n\n        .menu-list {\n          display: grid;\n          grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));\n          gap: 1.5rem;\n          margin-bottom: 2rem;\n        }\n\n        .lazy-image-container {\n          position: relative;\n          overflow: hidden;\n          border-radius: 8px;\n        }\n\n        .image-skeleton {\n          width: 50px;\n          height: 50px;\n          background: linear-gradient(\n            90deg,\n            #f0f0f0 25%,\n            #e0e0e0 50%,\n            #f0f0f0 75%\n          );\n          background-size: 200% 100%;\n          animation: shimmer 1.5s infinite;\n          border-radius: 8px;\n        }\n\n        .skeleton-shimmer {\n          width: 100%;\n          height: 100%;\n          background: linear-gradient(\n            90deg,\n            transparent 25%,\n            rgba(255, 255, 255, 0.5) 50%,\n            transparent 75%\n          );\n          background-size: 200% 100%;\n          animation: shimmer 1.5s infinite;\n        }\n\n        @keyframes shimmer {\n          0% {\n            background-position: -200% 0;\n          }\n          100% {\n            background-position: 200% 0;\n          }\n        }\n\n        .loading-more {\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          gap: 12px;\n          padding: 2rem;\n          color: rgba(255, 255, 255, 0.8);\n          font-weight: 500;\n        }\n\n        .loading-spinner {\n          width: 20px;\n          height: 20px;\n          border: 2px solid rgba(255, 127, 0, 0.3);\n          border-top: 2px solid var(--aurora-orange);\n          border-radius: 50%;\n          animation: spin 1s linear infinite;\n        }\n\n        @keyframes spin {\n          0% {\n            transform: rotate(0deg);\n          }\n          100% {\n            transform: rotate(360deg);\n          }\n        }\n\n        .load-more-container {\n          display: flex;\n          justify-content: center;\n          padding: 2rem;\n        }\n\n        .load-more-btn {\n          background: var(--gradient-stellar);\n          color: white;\n          border: none;\n          border-radius: 25px;\n          padding: 12px 24px;\n          font-size: 14px;\n          font-weight: 600;\n          cursor: pointer;\n          transition: all 0.3s ease;\n          font-family: inherit;\n        }\n\n        .load-more-btn:hover {\n          transform: translateY(-2px);\n          box-shadow: 0 8px 20px rgba(74, 159, 255, 0.3);\n        }\n\n        .no-items-state {\n          text-align: center;\n          padding: 4rem 2rem;\n          color: rgba(255, 255, 255, 0.8);\n        }\n\n        .no-items-icon {\n          font-size: 4rem;\n          margin-bottom: 1rem;\n          opacity: 0.5;\n        }\n\n        .no-items-state h3 {\n          font-size: 1.5rem;\n          margin-bottom: 0.5rem;\n          color: white;\n        }\n\n        .no-items-state p {\n          font-size: 1rem;\n          opacity: 0.8;\n        }\n\n        /* Optimize for mobile */\n        @media (max-width: 768px) {\n          .menu-controls {\n            flex-direction: column;\n            align-items: stretch;\n          }\n\n          .search-container {\n            max-width: none;\n          }\n\n          .menu-list {\n            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));\n            gap: 1rem;\n          }\n\n          .menu-list-container {\n            max-height: 60vh;\n          }\n\n          .bookings-header {\n            flex-direction: column;\n            align-items: stretch;\n            gap: 12px;\n          }\n\n          .booking-filters {\n            justify-content: center;\n          }\n\n          .booking-actions {\n            flex-direction: column;\n            gap: 6px;\n          }\n\n          .lane-info {\n            flex-direction: column;\n            align-items: flex-start;\n            gap: 4px;\n          }\n        }\n\n        @media (max-width: 480px) {\n          .menu-list {\n            grid-template-columns: 1fr 1fr;\n            gap: 0.8rem;\n          }\n\n          .filter-btn {\n            font-size: 12px;\n            padding: 6px 12px;\n          }\n        }\n      "})]})},lv=()=>{const{showSuccess:e,showError:n}=De(),[r,i]=(0,t.useState)({name:"",email:"",password:"",role:"reception"}),[s,a]=(0,t.useState)(!1),[o,l]=(0,t.useState)({}),c=ee(),u=e=>{const{name:t,value:n}=e.target;i(e=>({...e,[t]:n})),o[t]&&l(e=>({...e,[t]:""}))};return(0,Ae.jsx)("div",{className:"add-user",children:(0,Ae.jsxs)("div",{className:"container",children:[(0,Ae.jsx)("h1",{children:"Add New User"}),(0,Ae.jsxs)("div",{className:"form-container",children:[(0,Ae.jsxs)("form",{onSubmit:async t=>{if(t.preventDefault(),(()=>{const e={};return r.name.trim()||(e.name="Name is required"),r.email.trim()?/\S+@\S+\.\S+/.test(r.email)||(e.email="Email is invalid"):e.email="Email is required",r.password?r.password.length<6&&(e.password="Password must be at least 6 characters"):e.password="Password is required",r.role||(e.role="Role is required"),l(e),0===Object.keys(e).length})()){a(!0);try{var s;const t=await async function(e,t,n){if(kn(e.app))return Promise.reject(Jn(e));const r=ri(e),i=fi(r,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Oi,"EMAIL_PASSWORD_PROVIDER"),s=await i.catch(t=>{throw"auth/password-does-not-meet-requirements"===t.code&&Hi(e),t}),a=await Li._fromIdTokenResponse(r,"signIn",s);return await r._updateCurrentUser(a.user),a}(kg,r.email,r.password);await pg(lm(Sg,"admins",t.user.uid),{name:r.name,email:r.email,role:r.role,createdAt:(new Date).toISOString(),createdBy:(null===(s=kg.currentUser)||void 0===s?void 0:s.email)||"Unknown"}),e(`User ${r.name} created successfully with role: ${r.role}`),i({name:"",email:"",password:"",role:"reception"})}catch(o){console.error("Error creating user:",o);let e="Failed to create user. ";"auth/email-already-in-use"===o.code?e+="Email is already in use.":"auth/weak-password"===o.code?e+="Password is too weak.":"auth/invalid-email"===o.code?e+="Invalid email address.":e+=o.message,n(e)}a(!1)}},className:"add-user-form",children:[(0,Ae.jsx)("h2",{children:"Create User Account"}),(0,Ae.jsxs)("div",{className:"form-group",children:[(0,Ae.jsx)("label",{htmlFor:"name",children:"Full Name"}),(0,Ae.jsx)("input",{type:"text",id:"name",name:"name",value:r.name,onChange:u,placeholder:"Enter full name",className:o.name?"error":"",disabled:s}),o.name&&(0,Ae.jsx)("span",{className:"error-message",children:o.name})]}),(0,Ae.jsxs)("div",{className:"form-group",children:[(0,Ae.jsx)("label",{htmlFor:"email",children:"Email Address"}),(0,Ae.jsx)("input",{type:"email",id:"email",name:"email",value:r.email,onChange:u,placeholder:"Enter email address",className:o.email?"error":"",disabled:s}),o.email&&(0,Ae.jsx)("span",{className:"error-message",children:o.email})]}),(0,Ae.jsxs)("div",{className:"form-group",children:[(0,Ae.jsx)("label",{htmlFor:"password",children:"Password"}),(0,Ae.jsx)("input",{type:"password",id:"password",name:"password",value:r.password,onChange:u,placeholder:"Enter password (min. 6 characters)",className:o.password?"error":"",disabled:s}),o.password&&(0,Ae.jsx)("span",{className:"error-message",children:o.password})]}),(0,Ae.jsxs)("div",{className:"form-group",children:[(0,Ae.jsx)("label",{htmlFor:"role",children:"User Role"}),(0,Ae.jsxs)("select",{id:"role",name:"role",value:r.role,onChange:u,className:o.role?"error":"",disabled:s,children:[(0,Ae.jsx)("option",{value:"reception",children:"Reception Staff"}),(0,Ae.jsx)("option",{value:"jana",children:"Jana (Manager)"})]}),o.role&&(0,Ae.jsx)("span",{className:"error-message",children:o.role})]}),(0,Ae.jsxs)("div",{className:"form-actions",children:[(0,Ae.jsx)("button",{type:"button",onClick:()=>{c("/admin/dashboard")},className:"cancel-btn",disabled:s,children:"Cancel"}),(0,Ae.jsx)("button",{type:"submit",className:"submit-btn",disabled:s,children:s?"Creating User...":"Create User"})]})]}),(0,Ae.jsxs)("div",{className:"info-panel",children:[(0,Ae.jsx)("h3",{children:"User Roles Information"}),(0,Ae.jsxs)("div",{className:"role-info",children:[(0,Ae.jsxs)("div",{className:"role-item",children:[(0,Ae.jsx)("div",{className:"role-icon",children:"\ud83d\udc65"}),(0,Ae.jsxs)("div",{className:"role-details",children:[(0,Ae.jsx)("h4",{children:"Reception Staff"}),(0,Ae.jsx)("p",{children:"Access to calendar and booking management"}),(0,Ae.jsxs)("ul",{children:[(0,Ae.jsx)("li",{children:"View reception calendar"}),(0,Ae.jsx)("li",{children:"Manage daily bookings"}),(0,Ae.jsx)("li",{children:"Search customer bookings"})]})]})]}),(0,Ae.jsxs)("div",{className:"role-item",children:[(0,Ae.jsx)("div",{className:"role-icon",children:"\ud83d\udc69\u200d\ud83d\udcbc"}),(0,Ae.jsxs)("div",{className:"role-details",children:[(0,Ae.jsx)("h4",{children:"Jana (Manager)"}),(0,Ae.jsx)("p",{children:"Complete system management access"}),(0,Ae.jsxs)("ul",{children:[(0,Ae.jsx)("li",{children:"Manage all bookings"}),(0,Ae.jsx)("li",{children:"Menu and bundle management"}),(0,Ae.jsx)("li",{children:"Feedback moderation"}),(0,Ae.jsx)("li",{children:"Full administrative control"})]})]})]})]})]})]})]})})},cv=()=>{const{showSuccess:e,showError:n,showConfirm:r}=De(),[i,s]=(0,t.useState)([]),[a,o]=(0,t.useState)(!0),[l,c]=(0,t.useState)(null),[u,d]=(0,t.useState)({name:"",email:"",role:""});(0,t.useEffect)(()=>{h()},[]);const h=async()=>{o(!0);try{const e=(await fg(om(Sg,"admins"))).docs.map(e=>({id:e.id,...e.data()}));s(e)}catch(e){n("Error fetching users: "+e.message)}o(!1)},f=()=>{c(null),d({name:"",email:"",role:""})},p=e=>{switch(e){case"jana":return"#e74c3c";case"reception":return"#3498db";default:return"#95a5a6"}},m=e=>{switch(e){case"jana":return"Manager";case"reception":return"Reception Staff";default:return"Unknown"}},g=e=>e?new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A";return a?(0,Ae.jsxs)("div",{className:"manage-users-page",children:[(0,Ae.jsx)("div",{className:"manage-users-enzo-helper"}),(0,Ae.jsx)("div",{className:"manage-users-icon-1"}),(0,Ae.jsx)("div",{className:"manage-users-icon-2"}),(0,Ae.jsx)("div",{className:"manage-users-container",children:(0,Ae.jsx)("div",{className:"manage-users-loading",children:"Loading users..."})})]}):(0,Ae.jsxs)("div",{className:"manage-users-page",children:[(0,Ae.jsx)("div",{className:"manage-users-enzo-helper"}),(0,Ae.jsx)("div",{className:"manage-users-icon-1"}),(0,Ae.jsx)("div",{className:"manage-users-icon-2"}),(0,Ae.jsxs)("div",{className:"manage-users-container",children:[(0,Ae.jsxs)("div",{className:"manage-users-page-header",children:[(0,Ae.jsx)("h1",{children:"Manage Users"}),(0,Ae.jsx)("p",{children:"View and manage all admin user accounts"})]}),(0,Ae.jsxs)("div",{className:"manage-users-stats",children:[(0,Ae.jsxs)("div",{className:"manage-users-stat-card",children:[(0,Ae.jsx)("div",{className:"manage-users-stat-number",children:i.length}),(0,Ae.jsx)("div",{className:"manage-users-stat-label",children:"Total Users"})]}),(0,Ae.jsxs)("div",{className:"manage-users-stat-card",children:[(0,Ae.jsx)("div",{className:"manage-users-stat-number",children:i.filter(e=>"jana"===e.role).length}),(0,Ae.jsx)("div",{className:"manage-users-stat-label",children:"Managers"})]}),(0,Ae.jsxs)("div",{className:"manage-users-stat-card",children:[(0,Ae.jsx)("div",{className:"manage-users-stat-number",children:i.filter(e=>"reception"===e.role).length}),(0,Ae.jsx)("div",{className:"manage-users-stat-label",children:"Reception Staff"})]})]}),(0,Ae.jsx)("div",{className:"manage-users-list",children:0===i.length?(0,Ae.jsxs)("div",{className:"manage-users-no-users",children:[(0,Ae.jsx)("h3",{children:"No users found"}),(0,Ae.jsx)("p",{children:"Add some users to get started."})]}):i.map(t=>{var a,o;return(0,Ae.jsx)("div",{className:"manage-users-user-card",children:l===t.id?(0,Ae.jsxs)("div",{className:"manage-users-edit-form",children:[(0,Ae.jsxs)("div",{className:"manage-users-edit-fields",children:[(0,Ae.jsxs)("div",{className:"manage-users-field-group",children:[(0,Ae.jsx)("label",{children:"Name:"}),(0,Ae.jsx)("input",{type:"text",value:u.name,onChange:e=>d({...u,name:e.target.value})})]}),(0,Ae.jsxs)("div",{className:"manage-users-field-group",children:[(0,Ae.jsx)("label",{children:"Email:"}),(0,Ae.jsx)("input",{type:"email",value:u.email,disabled:!0,className:"manage-users-disabled-field"}),(0,Ae.jsx)("small",{children:"Email cannot be changed"})]}),(0,Ae.jsxs)("div",{className:"manage-users-field-group",children:[(0,Ae.jsx)("label",{children:"Role:"}),(0,Ae.jsxs)("select",{value:u.role,onChange:e=>d({...u,role:e.target.value}),children:[(0,Ae.jsx)("option",{value:"reception",children:"Reception Staff"}),(0,Ae.jsx)("option",{value:"jana",children:"Manager"})]})]})]}),(0,Ae.jsxs)("div",{className:"manage-users-edit-actions",children:[(0,Ae.jsx)("button",{onClick:()=>(async t=>{try{await mg(lm(Sg,"admins",t),{name:u.name,role:u.role,updatedAt:(new Date).toISOString()}),s(i.map(e=>e.id===t?{...e,name:u.name,role:u.role}:e)),c(null),e("User updated successfully!")}catch(r){n("Error updating user: "+r.message)}})(t.id),className:"manage-users-save-btn",children:"Save Changes"}),(0,Ae.jsx)("button",{onClick:f,className:"manage-users-cancel-btn",children:"Cancel"})]})]}):(0,Ae.jsxs)("div",{className:"manage-users-user-info",children:[(0,Ae.jsxs)("div",{className:"manage-users-user-header",children:[(0,Ae.jsx)("div",{className:"manage-users-user-avatar",children:(null===(a=t.name)||void 0===a||null===(o=a.charAt(0))||void 0===o?void 0:o.toUpperCase())||"?"}),(0,Ae.jsxs)("div",{className:"manage-users-user-details",children:[(0,Ae.jsx)("h3",{children:t.name}),(0,Ae.jsx)("p",{className:"manage-users-user-email",children:t.email}),(0,Ae.jsx)("div",{className:"manage-users-user-role",style:{color:p(t.role)},children:m(t.role)})]})]}),(0,Ae.jsxs)("div",{className:"manage-users-user-meta",children:[(0,Ae.jsxs)("div",{className:"manage-users-meta-item",children:[(0,Ae.jsx)("span",{className:"manage-users-meta-label",children:"Created:"}),(0,Ae.jsx)("span",{className:"manage-users-meta-value",children:g(t.createdAt)})]}),t.createdBy&&(0,Ae.jsxs)("div",{className:"manage-users-meta-item",children:[(0,Ae.jsx)("span",{className:"manage-users-meta-label",children:"Created by:"}),(0,Ae.jsx)("span",{className:"manage-users-meta-value",children:t.createdBy})]}),t.updatedAt&&(0,Ae.jsxs)("div",{className:"manage-users-meta-item",children:[(0,Ae.jsx)("span",{className:"manage-users-meta-label",children:"Last updated:"}),(0,Ae.jsx)("span",{className:"manage-users-meta-value",children:g(t.updatedAt)})]})]}),(0,Ae.jsxs)("div",{className:"manage-users-user-actions",children:[(0,Ae.jsx)("button",{onClick:()=>(e=>{c(e.id),d({name:e.name,email:e.email,role:e.role})})(t),className:"manage-users-edit-btn",children:"Edit"}),(0,Ae.jsx)("button",{onClick:()=>(async(t,a)=>{if(await r({title:"Delete User Account",message:`Are you sure you want to delete ${a}'s account? This action cannot be undone and will remove all their access.`,confirmText:"Delete User",cancelText:"Cancel",type:"danger"}))try{await gg(lm(Sg,"admins",t)),s(i.filter(e=>e.id!==t)),e(`${a}'s account has been deleted successfully!`)}catch(o){n("Error deleting user: "+o.message)}})(t.id,t.name),className:"manage-users-delete-btn",children:"Delete"})]})]})},t.id)})})]})]})},uv=()=>{const[e,n]=(0,t.useState)({currentPassword:"",newPassword:"",confirmPassword:""}),[r,i]=(0,t.useState)(!1),[s,a]=(0,t.useState)(""),[o,l]=(0,t.useState)(""),c=t=>{n({...e,[t.target.name]:t.target.value}),a(""),l("")};return(0,Ae.jsxs)("div",{className:"settings-admin-page",children:[(0,Ae.jsx)("div",{className:"settings-zoe-helper"}),(0,Ae.jsx)("div",{className:"settings-security-icon-1"}),(0,Ae.jsx)("div",{className:"settings-security-icon-2"}),(0,Ae.jsxs)("div",{className:"settings-container",children:[(0,Ae.jsx)("h1",{children:"Admin Settings"}),(0,Ae.jsxs)("div",{className:"settings-content",children:[(0,Ae.jsx)("h2",{children:"Change Password"}),s&&(0,Ae.jsx)("div",{className:"settings-error-message",children:s}),o&&(0,Ae.jsx)("div",{className:"settings-success-message",children:o}),(0,Ae.jsxs)("form",{onSubmit:async t=>{if(t.preventDefault(),e.newPassword===e.confirmPassword)if(e.newPassword.length<8)a("Password must be at least 8 characters long!");else{i(!0),a("");try{const t=kg.currentUser;if(!t)return void a("No user logged in!");const r=Ii.credential(t.email,e.currentPassword);await qi(t,r),await function(e,t){return Wi(ht(e),null,t)}(t,e.newPassword),l("Password updated successfully!"),n({currentPassword:"",newPassword:"",confirmPassword:""})}catch(s){switch(console.error("Password update error:",s),s.code){case"auth/wrong-password":a("Current password is incorrect!");break;case"auth/weak-password":a("New password is too weak!");break;case"auth/requires-recent-login":a("Please log out and log back in before changing password!");break;default:a("Failed to update password. Please try again.")}}finally{i(!1)}}else a("New passwords don't match!")},className:"settings-password-form",children:[(0,Ae.jsxs)("div",{className:"settings-group",children:[(0,Ae.jsx)("label",{children:"Current Password"}),(0,Ae.jsx)("input",{type:"password",name:"currentPassword",value:e.currentPassword,onChange:c,required:!0})]}),(0,Ae.jsxs)("div",{className:"settings-group",children:[(0,Ae.jsx)("label",{children:"New Password"}),(0,Ae.jsx)("input",{type:"password",name:"newPassword",value:e.newPassword,onChange:c,required:!0,minLength:"8"})]}),(0,Ae.jsxs)("div",{className:"settings-group",children:[(0,Ae.jsx)("label",{children:"Confirm New Password"}),(0,Ae.jsx)("input",{type:"password",name:"confirmPassword",value:e.confirmPassword,onChange:c,required:!0,minLength:"8"})]}),(0,Ae.jsxs)("div",{className:"settings-actions",children:[(0,Ae.jsx)("button",{type:"submit",className:"settings-btn-save",disabled:r,children:r?"Updating...":"Change Password"}),(0,Ae.jsx)("button",{type:"button",className:"settings-btn-cancel",onClick:()=>{n({currentPassword:"",newPassword:"",confirmPassword:""}),a(""),l("")},disabled:r,children:"Cancel"})]})]})]})]})]})},dv=()=>{const[e,n]=(0,t.useState)("bowling"),[r,i]=(0,t.useState)({bowling:{images:[],videos:[]},vr:{images:[],videos:[]},cafe:{images:[],videos:[]}}),[s,a]=(0,t.useState)(!1),[o,l]=(0,t.useState)(0);(0,t.useEffect)(()=>{c()},[]);const c=async()=>{try{const e=await dg(lm(Sg,"zoneMedia","mediaCollection"));e.exists()?i(e.data()):await pg(lm(Sg,"zoneMedia","mediaCollection"),r)}catch(e){console.error("Error loading media data:",e)}},u=async(e,t)=>{try{const n=lm(Sg,"zoneMedia","mediaCollection"),r=t.filter(e=>"image"===e.type),i=t.filter(e=>"video"===e.type),s={};r.length>0&&(s[`${e}.images`]=wg(...r)),i.length>0&&(s[`${e}.videos`]=wg(...i)),await mg(n,s)}catch(n){console.error("Error saving media:",n)}},d=async(t,n)=>{try{const s=lm(Sg,"zoneMedia","mediaCollection"),a=r[e]["image"===n?"images":"videos"].find(e=>e.id===t);a&&(await mg(s,{[`${e}.${"image"===n?"images":"videos"}`]:_g(a)}),await h(t,n),i(r=>({...r,[e]:{...r[e],["image"===n?"images":"videos"]:r[e]["image"===n?"images":"videos"].filter(e=>e.id!==t)}})))}catch(s){console.error("Delete error:",s),alert("Delete failed. Please try again.")}},h=async(e,t)=>{try{const n="image"===t?"image":"video";console.log(`Would delete ${n} with ID: ${e}`)}catch(n){console.error("Error deleting from Cloudinary:",n)}};return(0,Ae.jsx)("div",{className:"media-management",children:(0,Ae.jsxs)("div",{className:"container",children:[(0,Ae.jsx)("h1",{children:"Media Management"}),(0,Ae.jsx)("div",{className:"zone-selector",children:Object.entries({bowling:"\ud83c\udfb3 Bowling Zone",vr:"\ud83e\udd7d VR Games Zone",cafe:"\u2615 IGNITE Cafe"}).map(t=>{let[r,i]=t;return(0,Ae.jsx)("button",{className:"zone-btn "+(e===r?"active":""),onClick:()=>n(r),children:i},r)})}),(0,Ae.jsxs)("div",{className:"upload-section",children:[(0,Ae.jsxs)("div",{className:"upload-area",children:[(0,Ae.jsx)("input",{type:"file",id:"media-upload",multiple:!0,accept:"image/*,video/*",onChange:async t=>{const n=Array.from(t.target.files);if(0!==n.length){a(!0),l(0);try{const t=n.map(async(e,t)=>{const r=e.type.startsWith("video/"),i=r?"video":"image",s=await async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"auto";const n=new FormData;n.append("file",e),n.append("upload_preset","ignite"),n.append("resource_type",t);const r=await fetch(`https://api.cloudinary.com/v1_1/dxqxjaruh/${t}/upload`,{method:"POST",body:n});if(!r.ok)throw new Error("Upload failed");return r.json()}(e,i);return l((t+1)/n.length*100),{id:s.public_id,url:s.secure_url,type:r?"video":"image",name:e.name,createdAt:(new Date).toISOString()}}),r=await Promise.all(t);await u(e,r),i(t=>({...t,[e]:{images:[...t[e].images,...r.filter(e=>"image"===e.type)],videos:[...t[e].videos,...r.filter(e=>"video"===e.type)]}}))}catch(r){console.error("Upload error:",r),alert("Upload failed. Please try again.")}finally{a(!1),l(0)}}},disabled:s}),(0,Ae.jsxs)("label",{htmlFor:"media-upload",className:"upload-label "+(s?"disabled":""),children:[(0,Ae.jsx)("span",{className:"upload-icon",children:"\ud83d\udcc1"}),(0,Ae.jsx)("span",{children:"Click to upload images and videos"}),(0,Ae.jsx)("span",{className:"upload-info",children:"Supports JPG, PNG, MP4, MOV"})]})]}),s&&(0,Ae.jsxs)("div",{className:"upload-progress",children:[(0,Ae.jsx)("div",{className:"progress-bar",children:(0,Ae.jsx)("div",{className:"progress-fill",style:{width:`${o}%`}})}),(0,Ae.jsxs)("span",{children:[Math.round(o),"% uploaded"]})]})]}),(0,Ae.jsxs)("div",{className:"media-grid",children:[(0,Ae.jsxs)("div",{className:"media-section",children:[(0,Ae.jsxs)("h3",{children:["Images (",r[e].images.length,")"]}),(0,Ae.jsx)("div",{className:"media-items",children:r[e].images.map(e=>(0,Ae.jsxs)("div",{className:"media-item",children:[(0,Ae.jsx)("img",{src:e.url,alt:e.name}),(0,Ae.jsx)("div",{className:"media-overlay",children:(0,Ae.jsx)("button",{className:"delete-btn",onClick:()=>d(e.id,"image"),children:"\ud83d\uddd1\ufe0f"})})]},e.id))})]}),(0,Ae.jsxs)("div",{className:"media-section",children:[(0,Ae.jsxs)("h3",{children:["Videos (",r[e].videos.length,")"]}),(0,Ae.jsx)("div",{className:"media-items",children:r[e].videos.map(e=>(0,Ae.jsxs)("div",{className:"media-item",children:[(0,Ae.jsx)("video",{src:e.url,controls:!0}),(0,Ae.jsx)("div",{className:"media-overlay",children:(0,Ae.jsx)("button",{className:"delete-btn",onClick:()=>d(e.id,"video"),children:"\ud83d\uddd1\ufe0f"})})]},e.id))})]})]})]})})};try{(()=>{const e=["REACT_APP_FIREBASE_API_KEY","REACT_APP_FIREBASE_AUTH_DOMAIN","REACT_APP_FIREBASE_PROJECT_ID","REACT_APP_FIREBASE_STORAGE_BUCKET","REACT_APP_FIREBASE_MESSAGING_SENDER_ID","REACT_APP_FIREBASE_APP_ID","REACT_APP_EMAILJS_PUBLIC_KEY","REACT_APP_EMAILJS_SERVICE_ID","REACT_APP_EMAILJS_TEMPLATE_APPROVAL","REACT_APP_EMAILJS_TEMPLATE_REJECTION","REACT_APP_CLOUDINARY_CLOUD_NAME","REACT_APP_CLOUDINARY_UPLOAD_PRESET"].filter(e=>!{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_CLOUDINARY_CLOUD_NAME:"dxqxjaruh",REACT_APP_CLOUDINARY_UPLOAD_PRESET:"ignite",REACT_APP_EMAILJS_PUBLIC_KEY:"nxm2K3gkOeRTTO6lb",REACT_APP_EMAILJS_SERVICE_ID:"service_8uecr8p",REACT_APP_EMAILJS_TEMPLATE_APPROVAL:"template_szaabif",REACT_APP_EMAILJS_TEMPLATE_REJECTION:"template_uqau4un",REACT_APP_FIREBASE_API_KEY:"AIzaSyAHSqMT1mLifDykEKsxXQs4e0V9m78UPQ0",REACT_APP_FIREBASE_APP_ID:"1:383859238509:web:d5743aa9ad3f54f2cd8164",REACT_APP_FIREBASE_AUTH_DOMAIN:"ignite-cd493.firebaseapp.com",REACT_APP_FIREBASE_MEASUREMENT_ID:"G-5176MFW08Z",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"383859238509",REACT_APP_FIREBASE_PROJECT_ID:"ignite-cd493",REACT_APP_FIREBASE_STORAGE_BUCKET:"ignite-cd493.firebasestorage.app"}[e]);if(e.length>0)throw console.error("Missing required environment variables:"),e.forEach(e=>{console.error(`- ${e}`)}),new Error(`Missing required environment variables: ${e.join(", ")}`)})()}catch(pv){console.error("Environment validation failed:",pv.message)}const hv=function(){return(0,Ae.jsx)(Oe,{children:(0,Ae.jsx)(Se,{children:(0,Ae.jsxs)("div",{className:"App",children:[(0,Ae.jsx)(Tg,{}),(0,Ae.jsxs)(ye,{children:[(0,Ae.jsx)(ge,{path:"/",element:(0,Ae.jsx)(Ag,{})}),(0,Ae.jsx)(ge,{path:"/menu",element:(0,Ae.jsx)(jg,{})}),(0,Ae.jsx)(ge,{path:"/offers",element:(0,Ae.jsx)(Rg,{})}),(0,Ae.jsx)(ge,{path:"/booking",element:(0,Ae.jsx)(Dg,{})}),(0,Ae.jsx)(ge,{path:"/feedback",element:(0,Ae.jsx)(Og,{})}),(0,Ae.jsx)(ge,{path:"/birthday-packages",element:(0,Ae.jsx)(Lg,{})}),(0,Ae.jsx)(ge,{path:"/faq",element:(0,Ae.jsx)(Mg,{})}),(0,Ae.jsx)(ge,{path:"/admin",element:(0,Ae.jsx)(Ig,{children:(0,Ae.jsx)(Ug,{})})}),(0,Ae.jsx)(ge,{path:"/admin/dashboard",element:(0,Ae.jsx)(Cg,{requiredRole:["jana","reception"],children:(0,Ae.jsx)(Vg,{})})}),(0,Ae.jsx)(ge,{path:"/admin/calendar",element:(0,Ae.jsx)(Cg,{requiredRole:["reception","jana"],children:(0,Ae.jsx)(zg,{})})}),(0,Ae.jsx)(ge,{path:"/admin/jana",element:(0,Ae.jsx)(Cg,{requiredRole:["jana","reception"],children:(0,Ae.jsx)(ov,{})})}),(0,Ae.jsx)(ge,{path:"/admin/add-user",element:(0,Ae.jsx)(Cg,{requiredRole:"jana",children:(0,Ae.jsx)(lv,{})})}),(0,Ae.jsx)(ge,{path:"/admin/manage-users",element:(0,Ae.jsx)(Cg,{requiredRole:"jana",children:(0,Ae.jsx)(cv,{})})}),(0,Ae.jsx)(ge,{path:"/admin/settings",element:(0,Ae.jsx)(Cg,{children:(0,Ae.jsx)(uv,{})})}),(0,Ae.jsx)(ge,{path:"/admin/media-management",element:(0,Ae.jsx)(Cg,{requiredRole:"jana",children:(0,Ae.jsx)(dv,{})})}),(0,Ae.jsx)(ge,{path:"*",element:(0,Ae.jsx)(Fg,{})})]})]})})})};i.createRoot(document.getElementById("root")).render((0,Ae.jsx)(t.StrictMode,{children:(0,Ae.jsx)(hv,{})}))})()})();
//# sourceMappingURL=main.2a1eda5a.js.map