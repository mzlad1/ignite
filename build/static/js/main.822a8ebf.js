/*! For license information please see main.822a8ebf.js.LICENSE.txt */
(()=>{var e={43:(e,t,n)=>{"use strict";e.exports=n(202)},153:(e,t,n)=>{"use strict";var r=n(43),i=Symbol.for("react.element"),s=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,s={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)a.call(t,r)&&!l.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===s[r]&&(s[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:u,props:s,_owner:o.current}}t.Fragment=s,t.jsx=c,t.jsxs=c},173:(e,t,n)=>{e.exports=n(497)()},202:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var w=b.prototype=new y;w.constructor=b,m(w,v.prototype),w.isPureReactComponent=!0;var x=Array.isArray,k=Object.prototype.hasOwnProperty,E={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function _(e,t,r){var i,s={},a=null,o=null;if(null!=t)for(i in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(a=""+t.key),t)k.call(t,i)&&!S.hasOwnProperty(i)&&(s[i]=t[i]);var l=arguments.length-2;if(1===l)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===s[i]&&(s[i]=l[i]);return{$$typeof:n,type:e,key:a,ref:o,props:s,_owner:E.current}}function N(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function I(e,t,i,s,a){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l=!1;if(null===e)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return a=a(l=e),e=""===s?"."+C(l,0):s,x(a)?(i="",null!=e&&(i=e.replace(T,"$&/")+"/"),I(a,t,i,"",function(e){return e})):null!=a&&(N(a)&&(a=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,i+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(T,"$&/")+"/")+e)),t.push(a)),1;if(l=0,s=""===s?".":s+":",x(e))for(var c=0;c<e.length;c++){var u=s+C(o=e[c],c);l+=I(o,t,i,u,a)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(o=e.next()).done;)l+=I(o=o.value,t,i,u=s+C(o,c++),a);else if("object"===o)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function j(e,t,n){if(null==e)return e;var r=[],i=0;return I(e,r,"","",function(e){return t.call(n,e,i++)}),r}function A(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var D={current:null},O={transition:null},P={ReactCurrentDispatcher:D,ReactCurrentBatchConfig:O,ReactCurrentOwner:E};function R(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:j,forEach:function(e,t,n){j(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return j(e,function(){t++}),t},toArray:function(e){return j(e,function(e){return e})||[]},only:function(e){if(!N(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=i,t.Profiler=a,t.PureComponent=b,t.StrictMode=s,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=P,t.act=R,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=m({},e.props),s=e.key,a=e.ref,o=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,o=E.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)k.call(t,c)&&!S.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];i.children=l}return{$$typeof:n,type:e.type,key:s,ref:a,props:i,_owner:o}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=_,t.createFactory=function(e){var t=_.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=N,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:A}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=O.transition;O.transition={};try{e()}finally{O.transition=t}},t.unstable_act=R,t.useCallback=function(e,t){return D.current.useCallback(e,t)},t.useContext=function(e){return D.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return D.current.useDeferredValue(e)},t.useEffect=function(e,t){return D.current.useEffect(e,t)},t.useId=function(){return D.current.useId()},t.useImperativeHandle=function(e,t,n){return D.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return D.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return D.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return D.current.useMemo(e,t)},t.useReducer=function(e,t,n){return D.current.useReducer(e,t,n)},t.useRef=function(e){return D.current.useRef(e)},t.useState=function(e){return D.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return D.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return D.current.useTransition()},t.version="18.3.1"},218:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},234:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<s(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,a=i>>>1;r<a;){var o=2*(r+1)-1,l=e[o],c=o+1,u=e[c];if(0>s(l,n))c<i&&0>s(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[o]=n,r=o);else{if(!(c<i&&0>s(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,h=null,f=3,p=!1,m=!1,g=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function x(e){if(g=!1,w(e),!m)if(null!==r(c))m=!0,O(k);else{var t=r(u);null!==t&&P(x,t.startTime-e)}}function k(e,n){m=!1,g&&(g=!1,y(N),N=-1),p=!0;var s=f;try{for(w(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!I());){var a=h.callback;if("function"===typeof a){h.callback=null,f=h.priorityLevel;var o=a(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof o?h.callback=o:h===r(c)&&i(c),w(n)}else i(c);h=r(c)}if(null!==h)var l=!0;else{var d=r(u);null!==d&&P(x,d.startTime-n),l=!1}return l}finally{h=null,f=s,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var E,S=!1,_=null,N=-1,T=5,C=-1;function I(){return!(t.unstable_now()-C<T)}function j(){if(null!==_){var e=t.unstable_now();C=e;var n=!0;try{n=_(!0,e)}finally{n?E():(S=!1,_=null)}}else S=!1}if("function"===typeof b)E=function(){b(j)};else if("undefined"!==typeof MessageChannel){var A=new MessageChannel,D=A.port2;A.port1.onmessage=j,E=function(){D.postMessage(null)}}else E=function(){v(j,0)};function O(e){_=e,S||(S=!0,E())}function P(e,n){N=v(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,O(k))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,s){var a=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?a+s:a:s=a,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:s,expirationTime:o=s+o,sortIndex:-1},s>a?(e.sortIndex=s,n(u,e),null===r(c)&&e===r(u)&&(g?(y(N),N=-1):g=!0,P(x,s-a))):(e.sortIndex=o,n(c,e),m||p||(m=!0,O(k))),e},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},391:(e,t,n)=>{"use strict";var r=n(950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},440:e=>{"use strict";var t=function(){};e.exports=t},457:e=>{"use strict";e.exports=()=>{const e={};return e.promise=new Promise((t,n)=>{e.resolve=t,e.reject=n}),e}},497:(e,t,n)=>{"use strict";var r=n(218);function i(){}function s(){}s.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,s,a){if(a!==r){var o=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw o.name="Invariant Violation",o}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:s,resetWarningCache:i};return n.PropTypes=n,n}},579:(e,t,n)=>{"use strict";e.exports=n(153)},724:e=>{"use strict";const t=(e,t,r,i)=>{if("length"===r||"prototype"===r)return;if("arguments"===r||"caller"===r)return;const s=Object.getOwnPropertyDescriptor(e,r),a=Object.getOwnPropertyDescriptor(t,r);!n(s,a)&&i||Object.defineProperty(e,r,a)},n=function(e,t){return void 0===e||e.configurable||e.writable===t.writable&&e.enumerable===t.enumerable&&e.configurable===t.configurable&&(e.writable||e.value===t.value)},r=(e,t)=>`/* Wrapped ${e}*/\n${t}`,i=Object.getOwnPropertyDescriptor(Function.prototype,"toString"),s=Object.getOwnPropertyDescriptor(Function.prototype.toString,"name");e.exports=function(e,n){let{ignoreNonConfigurable:a=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{name:o}=e;for(const r of Reflect.ownKeys(n))t(e,n,r,a);return((e,t)=>{const n=Object.getPrototypeOf(t);n!==Object.getPrototypeOf(e)&&Object.setPrototypeOf(e,n)})(e,n),((e,t,n)=>{const a=""===n?"":`with ${n.trim()}() `,o=r.bind(null,a,t.toString());Object.defineProperty(o,"name",s),Object.defineProperty(e,"toString",{...i,value:o})})(e,n,o),e}},730:(e,t,n)=>{"use strict";var r=n(43),i=n(853);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,o={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(o[e]=t,e=0;e<t.length;e++)a.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function m(e,t,n,r,i,s,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=a}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){g[e]=new m(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){g[e]=new m(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){g[e]=new m(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){g[e]=new m(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){g[e]=new m(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)});var v=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(p,e)||!d.call(f,e)&&(h.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)}),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)});var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=Symbol.for("react.element"),k=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),N=Symbol.for("react.provider"),T=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),I=Symbol.for("react.suspense"),j=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),D=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var O=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var P=Symbol.iterator;function R(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=P&&e[P]||e["@@iterator"])?e:null}var L,M=Object.assign;function F(e){if(void 0===L)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);L=t&&t[1]||""}return"\n"+L+e}var U=!1;function V(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),s=r.stack.split("\n"),a=i.length-1,o=s.length-1;1<=a&&0<=o&&i[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==s[o]){if(1!==a||1!==o)do{if(a--,0>--o||i[a]!==s[o]){var l="\n"+i[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=a&&0<=o);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function z(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=V(e.type,!1);case 11:return e=V(e.type.render,!1);case 1:return e=V(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case E:return"Fragment";case k:return"Portal";case _:return"Profiler";case S:return"StrictMode";case I:return"Suspense";case j:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case N:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case A:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case D:t=e._payload,e=e._init;try{return B(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function $(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function W(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function H(e){e._valueTracker||(e._valueTracker=function(e){var t=W(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function K(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=W(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function G(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Q(e,t){var n=t.checked;return M({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Y(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=$(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function J(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function X(e,t){J(e,t);var n=$(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,$(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&G(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+$(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return M({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(s(92));if(te(n)){if(1<n.length)throw Error(s(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:$(n)}}function se(e,t){var n=$(t.value),r=$(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function oe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?oe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,de=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction(function(){return ue(e,t)})}:ue);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(fe).forEach(function(e){pe.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]})});var ve=M({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(s(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var we=null;function xe(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var ke=null,Ee=null,Se=null;function _e(e){if(e=bi(e)){if("function"!==typeof ke)throw Error(s(280));var t=e.stateNode;t&&(t=xi(t),ke(e.stateNode,e.type,t))}}function Ne(e){Ee?Se?Se.push(e):Se=[e]:Ee=e}function Te(){if(Ee){var e=Ee,t=Se;if(Se=Ee=null,_e(e),t)for(e=0;e<t.length;e++)_e(t[e])}}function Ce(e,t){return e(t)}function Ie(){}var je=!1;function Ae(e,t,n){if(je)return e(t,n);je=!0;try{return Ce(e,t,n)}finally{je=!1,(null!==Ee||null!==Se)&&(Ie(),Te())}}function De(e,t){var n=e.stateNode;if(null===n)return null;var r=xi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var Oe=!1;if(u)try{var Pe={};Object.defineProperty(Pe,"passive",{get:function(){Oe=!0}}),window.addEventListener("test",Pe,Pe),window.removeEventListener("test",Pe,Pe)}catch(ue){Oe=!1}function Re(e,t,n,r,i,s,a,o,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Le=!1,Me=null,Fe=!1,Ue=null,Ve={onError:function(e){Le=!0,Me=e}};function ze(e,t,n,r,i,s,a,o,l){Le=!1,Me=null,Re.apply(Ve,arguments)}function Be(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function $e(e){if(Be(e)!==e)throw Error(s(188))}function We(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return $e(i),e;if(a===r)return $e(i),t;a=a.sibling}throw Error(s(188))}if(n.return!==r.return)n=i,r=a;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=a;break}if(l===r){o=!0,r=i,n=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===n){o=!0,n=a,r=i;break}if(l===r){o=!0,r=a,n=i;break}l=l.sibling}if(!o)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(e))?He(e):null}function He(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=He(e);if(null!==t)return t;e=e.sibling}return null}var Ke=i.unstable_scheduleCallback,Ge=i.unstable_cancelCallback,Qe=i.unstable_shouldYield,Ye=i.unstable_requestPaint,Je=i.unstable_now,Xe=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,st=null;var at=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(ot(e)/lt|0)|0},ot=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,a=268435455&n;if(0!==a){var o=a&~i;0!==o?r=dt(o):0!==(s&=a)&&(r=dt(s))}else 0!==(a=n&~i)?r=dt(a):0!==s&&(r=dt(s));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(s=t&-t)||16===i&&0!==(4194240&s)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-at(t)),r|=e[n],t&=~i;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-at(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-at(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function wt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var xt,kt,Et,St,_t,Nt=!1,Tt=[],Ct=null,It=null,jt=null,At=new Map,Dt=new Map,Ot=[],Pt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Rt(e,t){switch(e){case"focusin":case"focusout":Ct=null;break;case"dragenter":case"dragleave":It=null;break;case"mouseover":case"mouseout":jt=null;break;case"pointerover":case"pointerout":At.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dt.delete(t.pointerId)}}function Lt(e,t,n,r,i,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},null!==t&&(null!==(t=bi(t))&&kt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Mt(e){var t=yi(e.target);if(null!==t){var n=Be(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void _t(e.priority,function(){Et(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Qt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&kt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);we=r,n.target.dispatchEvent(r),we=null,t.shift()}return!0}function Ut(e,t,n){Ft(e)&&n.delete(t)}function Vt(){Nt=!1,null!==Ct&&Ft(Ct)&&(Ct=null),null!==It&&Ft(It)&&(It=null),null!==jt&&Ft(jt)&&(jt=null),At.forEach(Ut),Dt.forEach(Ut)}function zt(e,t){e.blockedOn===t&&(e.blockedOn=null,Nt||(Nt=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Vt)))}function Bt(e){function t(t){return zt(t,e)}if(0<Tt.length){zt(Tt[0],e);for(var n=1;n<Tt.length;n++){var r=Tt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Ct&&zt(Ct,e),null!==It&&zt(It,e),null!==jt&&zt(jt,e),At.forEach(t),Dt.forEach(t),n=0;n<Ot.length;n++)(r=Ot[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Ot.length&&null===(n=Ot[0]).blockedOn;)Mt(n),null===n.blockedOn&&Ot.shift()}var qt=w.ReactCurrentBatchConfig,$t=!0;function Wt(e,t,n,r){var i=bt,s=qt.transition;qt.transition=null;try{bt=1,Kt(e,t,n,r)}finally{bt=i,qt.transition=s}}function Ht(e,t,n,r){var i=bt,s=qt.transition;qt.transition=null;try{bt=4,Kt(e,t,n,r)}finally{bt=i,qt.transition=s}}function Kt(e,t,n,r){if($t){var i=Qt(e,t,n,r);if(null===i)$r(e,t,r,Gt,n),Rt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Ct=Lt(Ct,e,t,n,r,i),!0;case"dragenter":return It=Lt(It,e,t,n,r,i),!0;case"mouseover":return jt=Lt(jt,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return At.set(s,Lt(At.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Dt.set(s,Lt(Dt.get(s)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Rt(e,r),4&t&&-1<Pt.indexOf(e)){for(;null!==i;){var s=bi(i);if(null!==s&&xt(s),null===(s=Qt(e,t,n,r))&&$r(e,t,r,Gt,n),s===i)break;i=s}null!==i&&r.stopPropagation()}else $r(e,t,r,null,n)}}var Gt=null;function Qt(e,t,n,r){if(Gt=null,null!==(e=yi(e=xe(r))))if(null===(t=Be(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Gt=e,null}function Yt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xe()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Jt=null,Xt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Xt,r=n.length,i="value"in Jt?Jt.value:Jt.textContent,s=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[s-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function sn(e){function t(t,n,r,i,s){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return M(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var an,on,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=sn(cn),dn=M({},cn,{view:0,detail:0}),hn=sn(dn),fn=M({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_n,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(an=e.screenX-ln.screenX,on=e.screenY-ln.screenY):on=an=0,ln=e),an)},movementY:function(e){return"movementY"in e?e.movementY:on}}),pn=sn(fn),mn=sn(M({},fn,{dataTransfer:0})),gn=sn(M({},dn,{relatedTarget:0})),vn=sn(M({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=M({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=sn(yn),wn=sn(M({},cn,{data:0})),xn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},En={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=En[e])&&!!t[e]}function _n(){return Sn}var Nn=M({},dn,{key:function(e){if(e.key){var t=xn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?kn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_n,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Tn=sn(Nn),Cn=sn(M({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),In=sn(M({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_n})),jn=sn(M({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),An=M({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Dn=sn(An),On=[9,13,27,32],Pn=u&&"CompositionEvent"in window,Rn=null;u&&"documentMode"in document&&(Rn=document.documentMode);var Ln=u&&"TextEvent"in window&&!Rn,Mn=u&&(!Pn||Rn&&8<Rn&&11>=Rn),Fn=String.fromCharCode(32),Un=!1;function Vn(e,t){switch(e){case"keyup":return-1!==On.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Bn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $n(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Wn(e,t,n,r){Ne(r),0<(t=Hr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Hn=null,Kn=null;function Gn(e){Fr(e,0)}function Qn(e){if(K(wi(e)))return e}function Yn(e,t){if("change"===e)return t}var Jn=!1;if(u){var Xn;if(u){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Xn=Zn}else Xn=!1;Jn=Xn&&(!document.documentMode||9<document.documentMode)}function tr(){Hn&&(Hn.detachEvent("onpropertychange",nr),Kn=Hn=null)}function nr(e){if("value"===e.propertyName&&Qn(Kn)){var t=[];Wn(t,Kn,e,xe(e)),Ae(Gn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Kn=n,(Hn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Qn(Kn)}function sr(e,t){if("click"===e)return Qn(t)}function ar(e,t){if("input"===e||"change"===e)return Qn(t)}var or="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(or(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!d.call(t,i)||!or(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=G();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=G((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=void 0===r.end?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=ur(n,s);var a=ur(n,r);i&&a&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=u&&"documentMode"in document&&11>=document.documentMode,gr=null,vr=null,yr=null,br=!1;function wr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==gr||gr!==G(r)||("selectionStart"in(r=gr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&lr(yr,r)||(yr=r,0<(r=Hr(vr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function xr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var kr={animationend:xr("Animation","AnimationEnd"),animationiteration:xr("Animation","AnimationIteration"),animationstart:xr("Animation","AnimationStart"),transitionend:xr("Transition","TransitionEnd")},Er={},Sr={};function _r(e){if(Er[e])return Er[e];if(!kr[e])return e;var t,n=kr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Sr)return Er[e]=n[t];return e}u&&(Sr=document.createElement("div").style,"AnimationEvent"in window||(delete kr.animationend.animation,delete kr.animationiteration.animation,delete kr.animationstart.animation),"TransitionEvent"in window||delete kr.transitionend.transition);var Nr=_r("animationend"),Tr=_r("animationiteration"),Cr=_r("animationstart"),Ir=_r("transitionend"),jr=new Map,Ar="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Dr(e,t){jr.set(e,t),l(t,[e])}for(var Or=0;Or<Ar.length;Or++){var Pr=Ar[Or];Dr(Pr.toLowerCase(),"on"+(Pr[0].toUpperCase()+Pr.slice(1)))}Dr(Nr,"onAnimationEnd"),Dr(Tr,"onAnimationIteration"),Dr(Cr,"onAnimationStart"),Dr("dblclick","onDoubleClick"),Dr("focusin","onFocus"),Dr("focusout","onBlur"),Dr(Ir,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Rr));function Mr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,o,l,c){if(ze.apply(this,arguments),Le){if(!Le)throw Error(s(198));var u=Me;Le=!1,Me=null,Fe||(Fe=!0,Ue=u)}}(r,t,void 0,e),e.currentTarget=null}function Fr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var a=r.length-1;0<=a;a--){var o=r[a],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==s&&i.isPropagationStopped())break e;Mr(i,o,c),s=l}else for(a=0;a<r.length;a++){if(l=(o=r[a]).instance,c=o.currentTarget,o=o.listener,l!==s&&i.isPropagationStopped())break e;Mr(i,o,c),s=l}}}if(Fe)throw e=Ue,Fe=!1,Ue=null,e}function Ur(e,t){var n=t[mi];void 0===n&&(n=t[mi]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function Vr(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var zr="_reactListening"+Math.random().toString(36).slice(2);function Br(e){if(!e[zr]){e[zr]=!0,a.forEach(function(t){"selectionchange"!==t&&(Lr.has(t)||Vr(t,!1,e),Vr(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[zr]||(t[zr]=!0,Vr("selectionchange",!1,t))}}function qr(e,t,n,r){switch(Yt(t)){case 1:var i=Wt;break;case 4:i=Ht;break;default:i=Kt}n=i.bind(null,t,n,e),i=void 0,!Oe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function $r(e,t,n,r,i){var s=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var o=r.stateNode.containerInfo;if(o===i||8===o.nodeType&&o.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;a=a.return}for(;null!==o;){if(null===(a=yi(o)))return;if(5===(l=a.tag)||6===l){r=s=a;continue e}o=o.parentNode}}r=r.return}Ae(function(){var r=s,i=xe(n),a=[];e:{var o=jr.get(e);if(void 0!==o){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=Tn;break;case"focusin":c="focus",l=gn;break;case"focusout":c="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=In;break;case Nr:case Tr:case Cr:l=vn;break;case Ir:l=jn;break;case"scroll":l=hn;break;case"wheel":l=Dn;break;case"copy":case"cut":case"paste":l=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Cn}var u=0!==(4&t),d=!u&&"scroll"===e,h=u?null!==o?o+"Capture":null:o;u=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==h&&(null!=(m=De(p,h))&&u.push(Wr(p,m,f)))),d)break;p=p.return}0<u.length&&(o=new l(o,c,null,n,i),a.push({event:o,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===we||!(c=n.relatedTarget||n.fromElement)||!yi(c)&&!c[pi])&&(l||o)&&(o=i.window===i?i:(o=i.ownerDocument)?o.defaultView||o.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?yi(c):null)&&(c!==(d=Be(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=pn,m="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=Cn,m="onPointerLeave",h="onPointerEnter",p="pointer"),d=null==l?o:wi(l),f=null==c?o:wi(c),(o=new u(m,p+"leave",l,n,i)).target=d,o.relatedTarget=f,m=null,yi(i)===r&&((u=new u(h,p+"enter",c,n,i)).target=f,u.relatedTarget=d,m=u),d=m,l&&c)e:{for(h=c,p=0,f=u=l;f;f=Kr(f))p++;for(f=0,m=h;m;m=Kr(m))f++;for(;0<p-f;)u=Kr(u),p--;for(;0<f-p;)h=Kr(h),f--;for(;p--;){if(u===h||null!==h&&u===h.alternate)break e;u=Kr(u),h=Kr(h)}u=null}else u=null;null!==l&&Gr(a,o,l,u,!1),null!==c&&null!==d&&Gr(a,d,c,u,!0)}if("select"===(l=(o=r?wi(r):window).nodeName&&o.nodeName.toLowerCase())||"input"===l&&"file"===o.type)var g=Yn;else if($n(o))if(Jn)g=ar;else{g=ir;var v=rr}else(l=o.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(g=sr);switch(g&&(g=g(e,r))?Wn(a,g,n,i):(v&&v(e,o,r),"focusout"===e&&(v=o._wrapperState)&&v.controlled&&"number"===o.type&&ee(o,"number",o.value)),v=r?wi(r):window,e){case"focusin":($n(v)||"true"===v.contentEditable)&&(gr=v,vr=r,yr=null);break;case"focusout":yr=vr=gr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,wr(a,n,i);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":wr(a,n,i)}var y;if(Pn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Bn?Vn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Mn&&"ko"!==n.locale&&(Bn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Bn&&(y=en()):(Xt="value"in(Jt=i)?Jt.value:Jt.textContent,Bn=!0)),0<(v=Hr(r,b)).length&&(b=new wn(b,e,null,n,i),a.push({event:b,listeners:v}),y?b.data=y:null!==(y=zn(n))&&(b.data=y))),(y=Ln?function(e,t){switch(e){case"compositionend":return zn(t);case"keypress":return 32!==t.which?null:(Un=!0,Fn);case"textInput":return(e=t.data)===Fn&&Un?null:e;default:return null}}(e,n):function(e,t){if(Bn)return"compositionend"===e||!Pn&&Vn(e,t)?(e=en(),Zt=Xt=Jt=null,Bn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Mn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Hr(r,"onBeforeInput")).length&&(i=new wn("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=y))}Fr(a,t)})}function Wr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Hr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,s=i.stateNode;5===i.tag&&null!==s&&(i=s,null!=(s=De(e,n))&&r.unshift(Wr(e,s,i)),null!=(s=De(e,t))&&r.push(Wr(e,s,i))),e=e.return}return r}function Kr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Gr(e,t,n,r,i){for(var s=t._reactName,a=[];null!==n&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(null!==l&&l===r)break;5===o.tag&&null!==c&&(o=c,i?null!=(l=De(n,s))&&a.unshift(Wr(n,l,o)):i||null!=(l=De(n,s))&&a.push(Wr(n,l,o))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Qr=/\r\n?/g,Yr=/\u0000|\uFFFD/g;function Jr(e){return("string"===typeof e?e:""+e).replace(Qr,"\n").replace(Yr,"")}function Xr(e,t,n){if(t=Jr(t),Jr(e)!==t&&n)throw Error(s(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,si="function"===typeof Promise?Promise:void 0,ai="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof si?function(e){return si.resolve(null).then(e).catch(oi)}:ri;function oi(e){setTimeout(function(){throw e})}function li(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Bt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Bt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ui(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var di=Math.random().toString(36).slice(2),hi="__reactFiber$"+di,fi="__reactProps$"+di,pi="__reactContainer$"+di,mi="__reactEvents$"+di,gi="__reactListeners$"+di,vi="__reactHandles$"+di;function yi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ui(e);null!==e;){if(n=e[hi])return n;e=ui(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function wi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function xi(e){return e[fi]||null}var ki=[],Ei=-1;function Si(e){return{current:e}}function _i(e){0>Ei||(e.current=ki[Ei],ki[Ei]=null,Ei--)}function Ni(e,t){Ei++,ki[Ei]=e.current,e.current=t}var Ti={},Ci=Si(Ti),Ii=Si(!1),ji=Ti;function Ai(e,t){var n=e.type.contextTypes;if(!n)return Ti;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,s={};for(i in n)s[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Di(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Oi(){_i(Ii),_i(Ci)}function Pi(e,t,n){if(Ci.current!==Ti)throw Error(s(168));Ni(Ci,t),Ni(Ii,n)}function Ri(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(s(108,q(e)||"Unknown",i));return M({},n,r)}function Li(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ti,ji=Ci.current,Ni(Ci,e),Ni(Ii,Ii.current),!0}function Mi(e,t,n){var r=e.stateNode;if(!r)throw Error(s(169));n?(e=Ri(e,t,ji),r.__reactInternalMemoizedMergedChildContext=e,_i(Ii),_i(Ci),Ni(Ci,e)):_i(Ii),Ni(Ii,n)}var Fi=null,Ui=!1,Vi=!1;function zi(e){null===Fi?Fi=[e]:Fi.push(e)}function Bi(){if(!Vi&&null!==Fi){Vi=!0;var e=0,t=bt;try{var n=Fi;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Fi=null,Ui=!1}catch(i){throw null!==Fi&&(Fi=Fi.slice(e+1)),Ke(Ze,Bi),i}finally{bt=t,Vi=!1}}return null}var qi=[],$i=0,Wi=null,Hi=0,Ki=[],Gi=0,Qi=null,Yi=1,Ji="";function Xi(e,t){qi[$i++]=Hi,qi[$i++]=Wi,Wi=e,Hi=t}function Zi(e,t,n){Ki[Gi++]=Yi,Ki[Gi++]=Ji,Ki[Gi++]=Qi,Qi=e;var r=Yi;e=Ji;var i=32-at(r)-1;r&=~(1<<i),n+=1;var s=32-at(t)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Yi=1<<32-at(t)+i|n<<i|r,Ji=s+e}else Yi=1<<s|n<<i|r,Ji=e}function es(e){null!==e.return&&(Xi(e,1),Zi(e,1,0))}function ts(e){for(;e===Wi;)Wi=qi[--$i],qi[$i]=null,Hi=qi[--$i],qi[$i]=null;for(;e===Qi;)Qi=Ki[--Gi],Ki[Gi]=null,Ji=Ki[--Gi],Ki[Gi]=null,Yi=Ki[--Gi],Ki[Gi]=null}var ns=null,rs=null,is=!1,ss=null;function as(e,t){var n=Ac(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function os(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ns=e,rs=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ns=e,rs=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Qi?{id:Yi,overflow:Ji}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Ac(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ns=e,rs=null,!0);default:return!1}}function ls(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function cs(e){if(is){var t=rs;if(t){var n=t;if(!os(e,t)){if(ls(e))throw Error(s(418));t=ci(n.nextSibling);var r=ns;t&&os(e,t)?as(r,n):(e.flags=-4097&e.flags|2,is=!1,ns=e)}}else{if(ls(e))throw Error(s(418));e.flags=-4097&e.flags|2,is=!1,ns=e}}}function us(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ns=e}function ds(e){if(e!==ns)return!1;if(!is)return us(e),is=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=rs)){if(ls(e))throw hs(),Error(s(418));for(;t;)as(e,t),t=ci(t.nextSibling)}if(us(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){rs=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}rs=null}}else rs=ns?ci(e.stateNode.nextSibling):null;return!0}function hs(){for(var e=rs;e;)e=ci(e.nextSibling)}function fs(){rs=ns=null,is=!1}function ps(e){null===ss?ss=[e]:ss.push(e)}var ms=w.ReactCurrentBatchConfig;function gs(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var r=n.stateNode}if(!r)throw Error(s(147,e));var i=r,a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=i.refs;null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!==typeof e)throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function vs(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ys(e){return(0,e._init)(e._payload)}function bs(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Oc(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Mc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var s=n.type;return s===E?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===D&&ys(s)===t.type)?((r=i(t,n.props)).ref=gs(e,t,n),r.return=e,r):((r=Pc(n.type,n.key,n.props,null,e.mode,r)).ref=gs(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Fc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,s){return null===t||7!==t.tag?((t=Rc(n,e.mode,r,s)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Mc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case x:return(n=Pc(t.type,t.key,t.props,null,e.mode,n)).ref=gs(e,null,t),n.return=e,n;case k:return(t=Fc(t,e.mode,n)).return=e,t;case D:return h(e,(0,t._init)(t._payload),n)}if(te(t)||R(t))return(t=Rc(t,e.mode,n,null)).return=e,t;vs(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case x:return n.key===i?c(e,t,n,r):null;case k:return n.key===i?u(e,t,n,r):null;case D:return f(e,t,(i=n._init)(n._payload),r)}if(te(n)||R(n))return null!==i?null:d(e,t,n,r,null);vs(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case x:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case k:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case D:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||R(r))return d(t,e=e.get(n)||null,r,i,null);vs(t,r)}return null}function m(i,s,o,l){for(var c=null,u=null,d=s,m=s=0,g=null;null!==d&&m<o.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var v=f(i,d,o[m],l);if(null===v){null===d&&(d=g);break}e&&d&&null===v.alternate&&t(i,d),s=a(v,s,m),null===u?c=v:u.sibling=v,u=v,d=g}if(m===o.length)return n(i,d),is&&Xi(i,m),c;if(null===d){for(;m<o.length;m++)null!==(d=h(i,o[m],l))&&(s=a(d,s,m),null===u?c=d:u.sibling=d,u=d);return is&&Xi(i,m),c}for(d=r(i,d);m<o.length;m++)null!==(g=p(d,i,m,o[m],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),s=a(g,s,m),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach(function(e){return t(i,e)}),is&&Xi(i,m),c}function g(i,o,l,c){var u=R(l);if("function"!==typeof u)throw Error(s(150));if(null==(l=u.call(l)))throw Error(s(151));for(var d=u=null,m=o,g=o=0,v=null,y=l.next();null!==m&&!y.done;g++,y=l.next()){m.index>g?(v=m,m=null):v=m.sibling;var b=f(i,m,y.value,c);if(null===b){null===m&&(m=v);break}e&&m&&null===b.alternate&&t(i,m),o=a(b,o,g),null===d?u=b:d.sibling=b,d=b,m=v}if(y.done)return n(i,m),is&&Xi(i,g),u;if(null===m){for(;!y.done;g++,y=l.next())null!==(y=h(i,y.value,c))&&(o=a(y,o,g),null===d?u=y:d.sibling=y,d=y);return is&&Xi(i,g),u}for(m=r(i,m);!y.done;g++,y=l.next())null!==(y=p(m,i,g,y.value,c))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),o=a(y,o,g),null===d?u=y:d.sibling=y,d=y);return e&&m.forEach(function(e){return t(i,e)}),is&&Xi(i,g),u}return function e(r,s,a,l){if("object"===typeof a&&null!==a&&a.type===E&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case x:e:{for(var c=a.key,u=s;null!==u;){if(u.key===c){if((c=a.type)===E){if(7===u.tag){n(r,u.sibling),(s=i(u,a.props.children)).return=r,r=s;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===D&&ys(c)===u.type){n(r,u.sibling),(s=i(u,a.props)).ref=gs(r,u,a),s.return=r,r=s;break e}n(r,u);break}t(r,u),u=u.sibling}a.type===E?((s=Rc(a.props.children,r.mode,l,a.key)).return=r,r=s):((l=Pc(a.type,a.key,a.props,null,r.mode,l)).ref=gs(r,s,a),l.return=r,r=l)}return o(r);case k:e:{for(u=a.key;null!==s;){if(s.key===u){if(4===s.tag&&s.stateNode.containerInfo===a.containerInfo&&s.stateNode.implementation===a.implementation){n(r,s.sibling),(s=i(s,a.children||[])).return=r,r=s;break e}n(r,s);break}t(r,s),s=s.sibling}(s=Fc(a,r.mode,l)).return=r,r=s}return o(r);case D:return e(r,s,(u=a._init)(a._payload),l)}if(te(a))return m(r,s,a,l);if(R(a))return g(r,s,a,l);vs(r,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==s&&6===s.tag?(n(r,s.sibling),(s=i(s,a)).return=r,r=s):(n(r,s),(s=Mc(a,r.mode,l)).return=r,r=s),o(r)):n(r,s)}}var ws=bs(!0),xs=bs(!1),ks=Si(null),Es=null,Ss=null,_s=null;function Ns(){_s=Ss=Es=null}function Ts(e){var t=ks.current;_i(ks),e._currentValue=t}function Cs(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Is(e,t){Es=e,_s=Ss=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bo=!0),e.firstContext=null)}function js(e){var t=e._currentValue;if(_s!==e)if(e={context:e,memoizedValue:t,next:null},null===Ss){if(null===Es)throw Error(s(308));Ss=e,Es.dependencies={lanes:0,firstContext:e}}else Ss=Ss.next=e;return t}var As=null;function Ds(e){null===As?As=[e]:As.push(e)}function Os(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ds(t)):(n.next=i.next,i.next=n),t.interleaved=n,Ps(e,r)}function Ps(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Rs=!1;function Ls(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ms(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Fs(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Us(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Cl)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Ps(e,n)}return null===(i=r.interleaved)?(t.next=t,Ds(r)):(t.next=i.next,i.next=t),r.interleaved=t,Ps(e,n)}function Vs(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function zs(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===s?i=s=a:s=s.next=a,n=n.next}while(null!==n);null===s?i=s=t:s=s.next=t}else i=s=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Bs(e,t,n,r){var i=e.updateQueue;Rs=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(null!==o){i.shared.pending=null;var l=o,c=l.next;l.next=null,null===a?s=c:a.next=c,a=l;var u=e.alternate;null!==u&&((o=(u=u.updateQueue).lastBaseUpdate)!==a&&(null===o?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(null!==s){var d=i.baseState;for(a=0,u=c=l=null,o=s;;){var h=o.lane,f=o.eventTime;if((r&h)===h){null!==u&&(u=u.next={eventTime:f,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,m=o;switch(h=t,f=n,m.tag){case 1:if("function"===typeof(p=m.payload)){d=p.call(f,d,h);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=m.payload)?p.call(f,d,h):p)||void 0===h)break e;d=M({},d,h);break e;case 2:Rs=!0}}null!==o.callback&&0!==o.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[o]:h.push(o))}else f={eventTime:f,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===u?(c=u=f,l=d):u=u.next=f,a|=h;if(null===(o=o.next)){if(null===(o=i.shared.pending))break;o=(h=o).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===u&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null!==(t=i.shared.interleaved)){i=t;do{a|=i.lane,i=i.next}while(i!==t)}else null===s&&(i.shared.lanes=0);Ll|=a,e.lanes=a,e.memoizedState=d}}function qs(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(s(191,i));i.call(r)}}}var $s={},Ws=Si($s),Hs=Si($s),Ks=Si($s);function Gs(e){if(e===$s)throw Error(s(174));return e}function Qs(e,t){switch(Ni(Ks,t),Ni(Hs,e),Ni(Ws,$s),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}_i(Ws),Ni(Ws,t)}function Ys(){_i(Ws),_i(Hs),_i(Ks)}function Js(e){Gs(Ks.current);var t=Gs(Ws.current),n=le(t,e.type);t!==n&&(Ni(Hs,e),Ni(Ws,n))}function Xs(e){Hs.current===e&&(_i(Ws),_i(Hs))}var Zs=Si(0);function ea(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ta=[];function na(){for(var e=0;e<ta.length;e++)ta[e]._workInProgressVersionPrimary=null;ta.length=0}var ra=w.ReactCurrentDispatcher,ia=w.ReactCurrentBatchConfig,sa=0,aa=null,oa=null,la=null,ca=!1,ua=!1,da=0,ha=0;function fa(){throw Error(s(321))}function pa(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!or(e[n],t[n]))return!1;return!0}function ma(e,t,n,r,i,a){if(sa=a,aa=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ra.current=null===e||null===e.memoizedState?Xa:Za,e=n(r,i),ua){a=0;do{if(ua=!1,da=0,25<=a)throw Error(s(301));a+=1,la=oa=null,t.updateQueue=null,ra.current=eo,e=n(r,i)}while(ua)}if(ra.current=Ja,t=null!==oa&&null!==oa.next,sa=0,la=oa=aa=null,ca=!1,t)throw Error(s(300));return e}function ga(){var e=0!==da;return da=0,e}function va(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===la?aa.memoizedState=la=e:la=la.next=e,la}function ya(){if(null===oa){var e=aa.alternate;e=null!==e?e.memoizedState:null}else e=oa.next;var t=null===la?aa.memoizedState:la.next;if(null!==t)la=t,oa=e;else{if(null===e)throw Error(s(310));e={memoizedState:(oa=e).memoizedState,baseState:oa.baseState,baseQueue:oa.baseQueue,queue:oa.queue,next:null},null===la?aa.memoizedState=la=e:la=la.next=e}return la}function ba(e,t){return"function"===typeof t?t(e):t}function wa(e){var t=ya(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=oa,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var o=i.next;i.next=a.next,a.next=o}r.baseQueue=i=a,n.pending=null}if(null!==i){a=i.next,r=r.baseState;var l=o=null,c=null,u=a;do{var d=u.lane;if((sa&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=h,o=r):c=c.next=h,aa.lanes|=d,Ll|=d}u=u.next}while(null!==u&&u!==a);null===c?o=r:c.next=l,or(r,t.memoizedState)||(bo=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{a=i.lane,aa.lanes|=a,Ll|=a,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function xa(e){var t=ya(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var o=i=i.next;do{a=e(a,o.action),o=o.next}while(o!==i);or(a,t.memoizedState)||(bo=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function ka(){}function Ea(e,t){var n=aa,r=ya(),i=t(),a=!or(r.memoizedState,i);if(a&&(r.memoizedState=i,bo=!0),r=r.queue,Ra(Na.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==la&&1&la.memoizedState.tag){if(n.flags|=2048,ja(9,_a.bind(null,n,r,i,t),void 0,null),null===Il)throw Error(s(349));0!==(30&sa)||Sa(n,t,i)}return i}function Sa(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=aa.updateQueue)?(t={lastEffect:null,stores:null},aa.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function _a(e,t,n,r){t.value=n,t.getSnapshot=r,Ta(t)&&Ca(e)}function Na(e,t,n){return n(function(){Ta(t)&&Ca(e)})}function Ta(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!or(e,n)}catch(r){return!0}}function Ca(e){var t=Ps(e,1);null!==t&&nc(t,e,1,-1)}function Ia(e){var t=va();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ba,lastRenderedState:e},t.queue=e,e=e.dispatch=Ka.bind(null,aa,e),[t.memoizedState,e]}function ja(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=aa.updateQueue)?(t={lastEffect:null,stores:null},aa.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Aa(){return ya().memoizedState}function Da(e,t,n,r){var i=va();aa.flags|=e,i.memoizedState=ja(1|t,n,void 0,void 0===r?null:r)}function Oa(e,t,n,r){var i=ya();r=void 0===r?null:r;var s=void 0;if(null!==oa){var a=oa.memoizedState;if(s=a.destroy,null!==r&&pa(r,a.deps))return void(i.memoizedState=ja(t,n,s,r))}aa.flags|=e,i.memoizedState=ja(1|t,n,s,r)}function Pa(e,t){return Da(8390656,8,e,t)}function Ra(e,t){return Oa(2048,8,e,t)}function La(e,t){return Oa(4,2,e,t)}function Ma(e,t){return Oa(4,4,e,t)}function Fa(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ua(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Oa(4,4,Fa.bind(null,t,e),n)}function Va(){}function za(e,t){var n=ya();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&pa(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ba(e,t){var n=ya();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&pa(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function qa(e,t,n){return 0===(21&sa)?(e.baseState&&(e.baseState=!1,bo=!0),e.memoizedState=n):(or(n,t)||(n=mt(),aa.lanes|=n,Ll|=n,e.baseState=!0),t)}function $a(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=ia.transition;ia.transition={};try{e(!1),t()}finally{bt=n,ia.transition=r}}function Wa(){return ya().memoizedState}function Ha(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Ga(e))Qa(t,n);else if(null!==(n=Os(e,t,n,r))){nc(n,e,r,ec()),Ya(n,t,r)}}function Ka(e,t,n){var r=tc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ga(e))Qa(t,i);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var a=t.lastRenderedState,o=s(a,n);if(i.hasEagerState=!0,i.eagerState=o,or(o,a)){var l=t.interleaved;return null===l?(i.next=i,Ds(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Os(e,t,i,r))&&(nc(n,e,r,i=ec()),Ya(n,t,r))}}function Ga(e){var t=e.alternate;return e===aa||null!==t&&t===aa}function Qa(e,t){ua=ca=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Ya(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var Ja={readContext:js,useCallback:fa,useContext:fa,useEffect:fa,useImperativeHandle:fa,useInsertionEffect:fa,useLayoutEffect:fa,useMemo:fa,useReducer:fa,useRef:fa,useState:fa,useDebugValue:fa,useDeferredValue:fa,useTransition:fa,useMutableSource:fa,useSyncExternalStore:fa,useId:fa,unstable_isNewReconciler:!1},Xa={readContext:js,useCallback:function(e,t){return va().memoizedState=[e,void 0===t?null:t],e},useContext:js,useEffect:Pa,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Da(4194308,4,Fa.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Da(4194308,4,e,t)},useInsertionEffect:function(e,t){return Da(4,2,e,t)},useMemo:function(e,t){var n=va();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=va();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Ha.bind(null,aa,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},va().memoizedState=e},useState:Ia,useDebugValue:Va,useDeferredValue:function(e){return va().memoizedState=e},useTransition:function(){var e=Ia(!1),t=e[0];return e=$a.bind(null,e[1]),va().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=aa,i=va();if(is){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===Il)throw Error(s(349));0!==(30&sa)||Sa(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,Pa(Na.bind(null,r,a,e),[e]),r.flags|=2048,ja(9,_a.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=va(),t=Il.identifierPrefix;if(is){var n=Ji;t=":"+t+"R"+(n=(Yi&~(1<<32-at(Yi)-1)).toString(32)+n),0<(n=da++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=ha++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Za={readContext:js,useCallback:za,useContext:js,useEffect:Ra,useImperativeHandle:Ua,useInsertionEffect:La,useLayoutEffect:Ma,useMemo:Ba,useReducer:wa,useRef:Aa,useState:function(){return wa(ba)},useDebugValue:Va,useDeferredValue:function(e){return qa(ya(),oa.memoizedState,e)},useTransition:function(){return[wa(ba)[0],ya().memoizedState]},useMutableSource:ka,useSyncExternalStore:Ea,useId:Wa,unstable_isNewReconciler:!1},eo={readContext:js,useCallback:za,useContext:js,useEffect:Ra,useImperativeHandle:Ua,useInsertionEffect:La,useLayoutEffect:Ma,useMemo:Ba,useReducer:xa,useRef:Aa,useState:function(){return xa(ba)},useDebugValue:Va,useDeferredValue:function(e){var t=ya();return null===oa?t.memoizedState=e:qa(t,oa.memoizedState,e)},useTransition:function(){return[xa(ba)[0],ya().memoizedState]},useMutableSource:ka,useSyncExternalStore:Ea,useId:Wa,unstable_isNewReconciler:!1};function to(e,t){if(e&&e.defaultProps){for(var n in t=M({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function no(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:M({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ro={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),s=Fs(r,i);s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Us(e,s,i))&&(nc(t,e,i,r),Vs(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),s=Fs(r,i);s.tag=1,s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Us(e,s,i))&&(nc(t,e,i,r),Vs(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),i=Fs(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Us(e,i,r))&&(nc(t,e,r,n),Vs(t,e,r))}};function io(e,t,n,r,i,s,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,a):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(i,s))}function so(e,t,n){var r=!1,i=Ti,s=t.contextType;return"object"===typeof s&&null!==s?s=js(s):(i=Di(t)?ji:Ci.current,s=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ai(e,i):Ti),t=new t(n,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ro,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function ao(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ro.enqueueReplaceState(t,t.state,null)}function oo(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Ls(e);var s=t.contextType;"object"===typeof s&&null!==s?i.context=js(s):(s=Di(t)?ji:Ci.current,i.context=Ai(e,s)),i.state=e.memoizedState,"function"===typeof(s=t.getDerivedStateFromProps)&&(no(e,t,s,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ro.enqueueReplaceState(i,i.state,null),Bs(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function lo(e,t){try{var n="",r=t;do{n+=z(r),r=r.return}while(r);var i=n}catch(s){i="\nError generating stack: "+s.message+"\n"+s.stack}return{value:e,source:t,stack:i,digest:null}}function co(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function uo(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var ho="function"===typeof WeakMap?WeakMap:Map;function fo(e,t,n){(n=Fs(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){$l||($l=!0,Wl=r),uo(0,t)},n}function po(e,t,n){(n=Fs(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){uo(0,t)}}var s=e.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(n.callback=function(){uo(0,t),"function"!==typeof r&&(null===Hl?Hl=new Set([this]):Hl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function mo(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ho;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=_c.bind(null,e,t,n),t.then(e,e))}function go(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function vo(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Fs(-1,1)).tag=2,Us(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var yo=w.ReactCurrentOwner,bo=!1;function wo(e,t,n,r){t.child=null===e?xs(t,null,n,r):ws(t,e.child,n,r)}function xo(e,t,n,r,i){n=n.render;var s=t.ref;return Is(t,i),r=ma(e,t,n,r,s,i),n=ga(),null===e||bo?(is&&n&&es(t),t.flags|=1,wo(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,$o(e,t,i))}function ko(e,t,n,r,i){if(null===e){var s=n.type;return"function"!==typeof s||Dc(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Pc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,Eo(e,t,s,r,i))}if(s=e.child,0===(e.lanes&i)){var a=s.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(a,r)&&e.ref===t.ref)return $o(e,t,i)}return t.flags|=1,(e=Oc(s,r)).ref=t.ref,e.return=t,t.child=e}function Eo(e,t,n,r,i){if(null!==e){var s=e.memoizedProps;if(lr(s,r)&&e.ref===t.ref){if(bo=!1,t.pendingProps=r=s,0===(e.lanes&i))return t.lanes=e.lanes,$o(e,t,i);0!==(131072&e.flags)&&(bo=!0)}}return No(e,t,n,r,i)}function So(e,t,n){var r=t.pendingProps,i=r.children,s=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ni(Ol,Dl),Dl|=n;else{if(0===(1073741824&n))return e=null!==s?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ni(Ol,Dl),Dl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==s?s.baseLanes:n,Ni(Ol,Dl),Dl|=r}else null!==s?(r=s.baseLanes|n,t.memoizedState=null):r=n,Ni(Ol,Dl),Dl|=r;return wo(e,t,i,n),t.child}function _o(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function No(e,t,n,r,i){var s=Di(n)?ji:Ci.current;return s=Ai(t,s),Is(t,i),n=ma(e,t,n,r,s,i),r=ga(),null===e||bo?(is&&r&&es(t),t.flags|=1,wo(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,$o(e,t,i))}function To(e,t,n,r,i){if(Di(n)){var s=!0;Li(t)}else s=!1;if(Is(t,i),null===t.stateNode)qo(e,t),so(t,n,r),oo(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,o=t.memoizedProps;a.props=o;var l=a.context,c=n.contextType;"object"===typeof c&&null!==c?c=js(c):c=Ai(t,c=Di(n)?ji:Ci.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof a.getSnapshotBeforeUpdate;d||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(o!==r||l!==c)&&ao(t,a,r,c),Rs=!1;var h=t.memoizedState;a.state=h,Bs(t,r,a,i),l=t.memoizedState,o!==r||h!==l||Ii.current||Rs?("function"===typeof u&&(no(t,n,u,r),l=t.memoizedState),(o=Rs||io(t,n,o,r,h,l,c))?(d||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=c,r=o):("function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Ms(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:to(t.type,o),a.props=c,d=t.pendingProps,h=a.context,"object"===typeof(l=n.contextType)&&null!==l?l=js(l):l=Ai(t,l=Di(n)?ji:Ci.current);var f=n.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(o!==d||h!==l)&&ao(t,a,r,l),Rs=!1,h=t.memoizedState,a.state=h,Bs(t,r,a,i);var p=t.memoizedState;o!==d||h!==p||Ii.current||Rs?("function"===typeof f&&(no(t,n,f,r),p=t.memoizedState),(c=Rs||io(t,n,c,r,h,p,l)||!1)?(u||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,l),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=l,r=c):("function"!==typeof a.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Co(e,t,n,r,s,i)}function Co(e,t,n,r,i,s){_o(e,t);var a=0!==(128&t.flags);if(!r&&!a)return i&&Mi(t,n,!1),$o(e,t,s);r=t.stateNode,yo.current=t;var o=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=ws(t,e.child,null,s),t.child=ws(t,null,o,s)):wo(e,t,o,s),t.memoizedState=r.state,i&&Mi(t,n,!0),t.child}function Io(e){var t=e.stateNode;t.pendingContext?Pi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Pi(0,t.context,!1),Qs(e,t.containerInfo)}function jo(e,t,n,r,i){return fs(),ps(i),t.flags|=256,wo(e,t,n,r),t.child}var Ao,Do,Oo,Po,Ro={dehydrated:null,treeContext:null,retryLane:0};function Lo(e){return{baseLanes:e,cachePool:null,transitions:null}}function Mo(e,t,n){var r,i=t.pendingProps,a=Zs.current,o=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(o=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),Ni(Zs,1&a),null===e)return cs(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,o?(i=t.mode,o=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==o?(o.childLanes=0,o.pendingProps=l):o=Lc(l,i,0,null),e=Rc(e,i,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Lo(n),t.memoizedState=Ro,e):Fo(t,l));if(null!==(a=e.memoizedState)&&null!==(r=a.dehydrated))return function(e,t,n,r,i,a,o){if(n)return 256&t.flags?(t.flags&=-257,Uo(e,t,o,r=co(Error(s(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=Lc({mode:"visible",children:r.children},i,0,null),(a=Rc(a,i,o,null)).flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,0!==(1&t.mode)&&ws(t,e.child,null,o),t.child.memoizedState=Lo(o),t.memoizedState=Ro,a);if(0===(1&t.mode))return Uo(e,t,o,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,Uo(e,t,o,r=co(a=Error(s(419)),r,void 0))}if(l=0!==(o&e.childLanes),bo||l){if(null!==(r=Il)){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|o))?0:i)&&i!==a.retryLane&&(a.retryLane=i,Ps(e,i),nc(r,e,i,-1))}return mc(),Uo(e,t,o,r=co(Error(s(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Tc.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,rs=ci(i.nextSibling),ns=t,is=!0,ss=null,null!==e&&(Ki[Gi++]=Yi,Ki[Gi++]=Ji,Ki[Gi++]=Qi,Yi=e.id,Ji=e.overflow,Qi=t),t=Fo(t,r.children),t.flags|=4096,t)}(e,t,l,i,r,a,n);if(o){o=i.fallback,l=t.mode,r=(a=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==a?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Oc(a,c)).subtreeFlags=14680064&a.subtreeFlags,null!==r?o=Oc(r,o):(o=Rc(o,l,n,null)).flags|=2,o.return=t,i.return=t,i.sibling=o,t.child=i,i=o,o=t.child,l=null===(l=e.child.memoizedState)?Lo(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=e.childLanes&~n,t.memoizedState=Ro,i}return e=(o=e.child).sibling,i=Oc(o,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Fo(e,t){return(t=Lc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Uo(e,t,n,r){return null!==r&&ps(r),ws(t,e.child,null,n),(e=Fo(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Vo(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Cs(e.return,t,n)}function zo(e,t,n,r,i){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Bo(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(wo(e,t,r.children,n),0!==(2&(r=Zs.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Vo(e,n,t);else if(19===e.tag)Vo(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ni(Zs,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===ea(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),zo(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===ea(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}zo(t,!0,n,null,s);break;case"together":zo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function qo(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function $o(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ll|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Oc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Oc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Wo(e,t){if(!is)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ho(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ko(e,t,n){var r=t.pendingProps;switch(ts(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ho(t),null;case 1:case 17:return Di(t.type)&&Oi(),Ho(t),null;case 3:return r=t.stateNode,Ys(),_i(Ii),_i(Ci),na(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ds(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ss&&(ac(ss),ss=null))),Do(e,t),Ho(t),null;case 5:Xs(t);var i=Gs(Ks.current);if(n=t.type,null!==e&&null!=t.stateNode)Oo(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(s(166));return Ho(t),null}if(e=Gs(Ws.current),ds(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[hi]=t,r[fi]=a,e=0!==(1&t.mode),n){case"dialog":Ur("cancel",r),Ur("close",r);break;case"iframe":case"object":case"embed":Ur("load",r);break;case"video":case"audio":for(i=0;i<Rr.length;i++)Ur(Rr[i],r);break;case"source":Ur("error",r);break;case"img":case"image":case"link":Ur("error",r),Ur("load",r);break;case"details":Ur("toggle",r);break;case"input":Y(r,a),Ur("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Ur("invalid",r);break;case"textarea":ie(r,a),Ur("invalid",r)}for(var l in ye(n,a),i=null,a)if(a.hasOwnProperty(l)){var c=a[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==a.suppressHydrationWarning&&Xr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==a.suppressHydrationWarning&&Xr(r.textContent,c,e),i=["children",""+c]):o.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Ur("scroll",r)}switch(n){case"input":H(r),Z(r,a,!0);break;case"textarea":H(r),ae(r);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=oe(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[hi]=t,e[fi]=r,Ao(e,t,!1,!1),t.stateNode=e;e:{switch(l=be(n,r),n){case"dialog":Ur("cancel",e),Ur("close",e),i=r;break;case"iframe":case"object":case"embed":Ur("load",e),i=r;break;case"video":case"audio":for(i=0;i<Rr.length;i++)Ur(Rr[i],e);i=r;break;case"source":Ur("error",e),i=r;break;case"img":case"image":case"link":Ur("error",e),Ur("load",e),i=r;break;case"details":Ur("toggle",e),i=r;break;case"input":Y(e,r),i=Q(e,r),Ur("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=M({},r,{value:void 0}),Ur("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Ur("invalid",e)}for(a in ye(n,i),c=i)if(c.hasOwnProperty(a)){var u=c[a];"style"===a?ge(e,u):"dangerouslySetInnerHTML"===a?null!=(u=u?u.__html:void 0)&&de(e,u):"children"===a?"string"===typeof u?("textarea"!==n||""!==u)&&he(e,u):"number"===typeof u&&he(e,""+u):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(o.hasOwnProperty(a)?null!=u&&"onScroll"===a&&Ur("scroll",e):null!=u&&b(e,a,u,l))}switch(n){case"input":H(e),Z(e,r,!1);break;case"textarea":H(e),ae(e);break;case"option":null!=r.value&&e.setAttribute("value",""+$(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?ne(e,!!r.multiple,a,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ho(t),null;case 6:if(e&&null!=t.stateNode)Po(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(s(166));if(n=Gs(Ks.current),Gs(Ws.current),ds(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(a=r.nodeValue!==n)&&null!==(e=ns))switch(e.tag){case 3:Xr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Xr(r.nodeValue,n,0!==(1&e.mode))}a&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Ho(t),null;case 13:if(_i(Zs),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(is&&null!==rs&&0!==(1&t.mode)&&0===(128&t.flags))hs(),fs(),t.flags|=98560,a=!1;else if(a=ds(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(s(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(s(317));a[hi]=t}else fs(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ho(t),a=!1}else null!==ss&&(ac(ss),ss=null),a=!0;if(!a)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&Zs.current)?0===Pl&&(Pl=3):mc())),null!==t.updateQueue&&(t.flags|=4),Ho(t),null);case 4:return Ys(),Do(e,t),null===e&&Br(t.stateNode.containerInfo),Ho(t),null;case 10:return Ts(t.type._context),Ho(t),null;case 19:if(_i(Zs),null===(a=t.memoizedState))return Ho(t),null;if(r=0!==(128&t.flags),null===(l=a.rendering))if(r)Wo(a,!1);else{if(0!==Pl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=ea(e))){for(t.flags|=128,Wo(a,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=14680066,null===(l=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,e=l.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ni(Zs,1&Zs.current|2),t.child}e=e.sibling}null!==a.tail&&Je()>Bl&&(t.flags|=128,r=!0,Wo(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ea(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Wo(a,!0),null===a.tail&&"hidden"===a.tailMode&&!l.alternate&&!is)return Ho(t),null}else 2*Je()-a.renderingStartTime>Bl&&1073741824!==n&&(t.flags|=128,r=!0,Wo(a,!1),t.lanes=4194304);a.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=a.last)?n.sibling=l:t.child=l,a.last=l)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Je(),t.sibling=null,n=Zs.current,Ni(Zs,r?1&n|2:1&n),t):(Ho(t),null);case 22:case 23:return dc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Dl)&&(Ho(t),6&t.subtreeFlags&&(t.flags|=8192)):Ho(t),null;case 24:case 25:return null}throw Error(s(156,t.tag))}function Go(e,t){switch(ts(t),t.tag){case 1:return Di(t.type)&&Oi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Ys(),_i(Ii),_i(Ci),na(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Xs(t),null;case 13:if(_i(Zs),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));fs()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return _i(Zs),null;case 4:return Ys(),null;case 10:return Ts(t.type._context),null;case 22:case 23:return dc(),null;default:return null}}Ao=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Do=function(){},Oo=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Gs(Ws.current);var s,a=null;switch(n){case"input":i=Q(e,i),r=Q(e,r),a=[];break;case"select":i=M({},i,{value:void 0}),r=M({},r,{value:void 0}),a=[];break;case"textarea":i=re(e,i),r=re(e,r),a=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(u in ye(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var l=i[u];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(o.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=i?i[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(s in l)!l.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in c)c.hasOwnProperty(s)&&l[s]!==c[s]&&(n||(n={}),n[s]=c[s])}else n||(a||(a=[]),a.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(a=a||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(a=a||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(o.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Ur("scroll",e),a||l===c||(a=[])):(a=a||[]).push(u,c))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}},Po=function(e,t,n,r){n!==r&&(t.flags|=4)};var Qo=!1,Yo=!1,Jo="function"===typeof WeakSet?WeakSet:Set,Xo=null;function Zo(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Sc(e,t,r)}else n.current=null}function el(e,t,n){try{n()}catch(r){Sc(e,t,r)}}var tl=!1;function nl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,void 0!==s&&el(t,n,s)}i=i.next}while(i!==r)}}function rl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function il(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function sl(e){var t=e.alternate;null!==t&&(e.alternate=null,sl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[fi],delete t[mi],delete t[gi],delete t[vi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function al(e){return 5===e.tag||3===e.tag||4===e.tag}function ol(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||al(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}function cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}var ul=null,dl=!1;function hl(e,t,n){for(n=n.child;null!==n;)fl(e,t,n),n=n.sibling}function fl(e,t,n){if(st&&"function"===typeof st.onCommitFiberUnmount)try{st.onCommitFiberUnmount(it,n)}catch(o){}switch(n.tag){case 5:Yo||Zo(n,t);case 6:var r=ul,i=dl;ul=null,hl(e,t,n),dl=i,null!==(ul=r)&&(dl?(e=ul,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ul.removeChild(n.stateNode));break;case 18:null!==ul&&(dl?(e=ul,n=n.stateNode,8===e.nodeType?li(e.parentNode,n):1===e.nodeType&&li(e,n),Bt(e)):li(ul,n.stateNode));break;case 4:r=ul,i=dl,ul=n.stateNode.containerInfo,dl=!0,hl(e,t,n),ul=r,dl=i;break;case 0:case 11:case 14:case 15:if(!Yo&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var s=i,a=s.destroy;s=s.tag,void 0!==a&&(0!==(2&s)||0!==(4&s))&&el(n,t,a),i=i.next}while(i!==r)}hl(e,t,n);break;case 1:if(!Yo&&(Zo(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){Sc(n,t,o)}hl(e,t,n);break;case 21:hl(e,t,n);break;case 22:1&n.mode?(Yo=(r=Yo)||null!==n.memoizedState,hl(e,t,n),Yo=r):hl(e,t,n);break;default:hl(e,t,n)}}function pl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Jo),t.forEach(function(t){var r=Cc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}}function ml(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 5:ul=l.stateNode,dl=!1;break e;case 3:case 4:ul=l.stateNode.containerInfo,dl=!0;break e}l=l.return}if(null===ul)throw Error(s(160));fl(a,o,i),ul=null,dl=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(u){Sc(i,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gl(t,e),t=t.sibling}function gl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ml(t,e),vl(e),4&r){try{nl(3,e,e.return),rl(3,e)}catch(g){Sc(e,e.return,g)}try{nl(5,e,e.return)}catch(g){Sc(e,e.return,g)}}break;case 1:ml(t,e),vl(e),512&r&&null!==n&&Zo(n,n.return);break;case 5:if(ml(t,e),vl(e),512&r&&null!==n&&Zo(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(g){Sc(e,e.return,g)}}if(4&r&&null!=(i=e.stateNode)){var a=e.memoizedProps,o=null!==n?n.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===a.type&&null!=a.name&&J(i,a),be(l,o);var u=be(l,a);for(o=0;o<c.length;o+=2){var d=c[o],h=c[o+1];"style"===d?ge(i,h):"dangerouslySetInnerHTML"===d?de(i,h):"children"===d?he(i,h):b(i,d,h,u)}switch(l){case"input":X(i,a);break;case"textarea":se(i,a);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;null!=p?ne(i,!!a.multiple,p,!1):f!==!!a.multiple&&(null!=a.defaultValue?ne(i,!!a.multiple,a.defaultValue,!0):ne(i,!!a.multiple,a.multiple?[]:"",!1))}i[fi]=a}catch(g){Sc(e,e.return,g)}}break;case 6:if(ml(t,e),vl(e),4&r){if(null===e.stateNode)throw Error(s(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(g){Sc(e,e.return,g)}}break;case 3:if(ml(t,e),vl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Bt(t.containerInfo)}catch(g){Sc(e,e.return,g)}break;case 4:default:ml(t,e),vl(e);break;case 13:ml(t,e),vl(e),8192&(i=e.child).flags&&(a=null!==i.memoizedState,i.stateNode.isHidden=a,!a||null!==i.alternate&&null!==i.alternate.memoizedState||(zl=Je())),4&r&&pl(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Yo=(u=Yo)||d,ml(t,e),Yo=u):ml(t,e),vl(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!==(1&e.mode))for(Xo=e,d=e.child;null!==d;){for(h=Xo=d;null!==Xo;){switch(p=(f=Xo).child,f.tag){case 0:case 11:case 14:case 15:nl(4,f,f.return);break;case 1:Zo(f,f.return);var m=f.stateNode;if("function"===typeof m.componentWillUnmount){r=f,n=f.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){Sc(r,n,g)}}break;case 5:Zo(f,f.return);break;case 22:if(null!==f.memoizedState){xl(h);continue}}null!==p?(p.return=f,Xo=p):xl(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{i=h.stateNode,u?"function"===typeof(a=i.style).setProperty?a.setProperty("display","none","important"):a.display="none":(l=h.stateNode,o=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=me("display",o))}catch(g){Sc(e,e.return,g)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(g){Sc(e,e.return,g)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ml(t,e),vl(e),4&r&&pl(e);case 21:}}function vl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(al(n)){var r=n;break e}n=n.return}throw Error(s(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),cl(e,ol(e),i);break;case 3:case 4:var a=r.stateNode.containerInfo;ll(e,ol(e),a);break;default:throw Error(s(161))}}catch(o){Sc(e,e.return,o)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function yl(e,t,n){Xo=e,bl(e,t,n)}function bl(e,t,n){for(var r=0!==(1&e.mode);null!==Xo;){var i=Xo,s=i.child;if(22===i.tag&&r){var a=null!==i.memoizedState||Qo;if(!a){var o=i.alternate,l=null!==o&&null!==o.memoizedState||Yo;o=Qo;var c=Yo;if(Qo=a,(Yo=l)&&!c)for(Xo=i;null!==Xo;)l=(a=Xo).child,22===a.tag&&null!==a.memoizedState?kl(i):null!==l?(l.return=a,Xo=l):kl(i);for(;null!==s;)Xo=s,bl(s,t,n),s=s.sibling;Xo=i,Qo=o,Yo=c}wl(e)}else 0!==(8772&i.subtreeFlags)&&null!==s?(s.return=i,Xo=s):wl(e)}}function wl(e){for(;null!==Xo;){var t=Xo;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Yo||rl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Yo)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:to(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&qs(t,a,r);break;case 3:var o=t.updateQueue;if(null!==o){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}qs(t,o,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&Bt(h)}}}break;default:throw Error(s(163))}Yo||512&t.flags&&il(t)}catch(f){Sc(t,t.return,f)}}if(t===e){Xo=null;break}if(null!==(n=t.sibling)){n.return=t.return,Xo=n;break}Xo=t.return}}function xl(e){for(;null!==Xo;){var t=Xo;if(t===e){Xo=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Xo=n;break}Xo=t.return}}function kl(e){for(;null!==Xo;){var t=Xo;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rl(4,t)}catch(l){Sc(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(l){Sc(t,i,l)}}var s=t.return;try{il(t)}catch(l){Sc(t,s,l)}break;case 5:var a=t.return;try{il(t)}catch(l){Sc(t,a,l)}}}catch(l){Sc(t,t.return,l)}if(t===e){Xo=null;break}var o=t.sibling;if(null!==o){o.return=t.return,Xo=o;break}Xo=t.return}}var El,Sl=Math.ceil,_l=w.ReactCurrentDispatcher,Nl=w.ReactCurrentOwner,Tl=w.ReactCurrentBatchConfig,Cl=0,Il=null,jl=null,Al=0,Dl=0,Ol=Si(0),Pl=0,Rl=null,Ll=0,Ml=0,Fl=0,Ul=null,Vl=null,zl=0,Bl=1/0,ql=null,$l=!1,Wl=null,Hl=null,Kl=!1,Gl=null,Ql=0,Yl=0,Jl=null,Xl=-1,Zl=0;function ec(){return 0!==(6&Cl)?Je():-1!==Xl?Xl:Xl=Je()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Cl)&&0!==Al?Al&-Al:null!==ms.transition?(0===Zl&&(Zl=mt()),Zl):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Yt(e.type)}function nc(e,t,n,r){if(50<Yl)throw Yl=0,Jl=null,Error(s(185));vt(e,n,r),0!==(2&Cl)&&e===Il||(e===Il&&(0===(2&Cl)&&(Ml|=n),4===Pl&&oc(e,Al)),rc(e,r),1===n&&0===Cl&&0===(1&t.mode)&&(Bl=Je()+500,Ui&&Bi()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var a=31-at(s),o=1<<a,l=i[a];-1===l?0!==(o&n)&&0===(o&r)||(i[a]=ft(o,t)):l<=t&&(e.expiredLanes|=o),s&=~o}}(e,t);var r=ht(e,e===Il?Al:0);if(0===r)null!==n&&Ge(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ge(n),1===t)0===e.tag?function(e){Ui=!0,zi(e)}(lc.bind(null,e)):zi(lc.bind(null,e)),ai(function(){0===(6&Cl)&&Bi()}),n=null;else{switch(wt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Ic(n,ic.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ic(e,t){if(Xl=-1,Zl=0,0!==(6&Cl))throw Error(s(327));var n=e.callbackNode;if(kc()&&e.callbackNode!==n)return null;var r=ht(e,e===Il?Al:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=gc(e,r);else{t=r;var i=Cl;Cl|=2;var a=pc();for(Il===e&&Al===t||(ql=null,Bl=Je()+500,hc(e,t));;)try{yc();break}catch(l){fc(e,l)}Ns(),_l.current=a,Cl=i,null!==jl?t=0:(Il=null,Al=0,t=Pl)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=sc(e,i))),1===t)throw n=Rl,hc(e,0),oc(e,r),rc(e,Je()),n;if(6===t)oc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!or(s(),i))return!1}catch(o){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=gc(e,r))&&(0!==(a=pt(e))&&(r=a,t=sc(e,a))),1===t))throw n=Rl,hc(e,0),oc(e,r),rc(e,Je()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(s(345));case 2:case 5:xc(e,Vl,ql);break;case 3:if(oc(e,r),(130023424&r)===r&&10<(t=zl+500-Je())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(xc.bind(null,e,Vl,ql),t);break}xc(e,Vl,ql);break;case 4:if(oc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-at(r);a=1<<o,(o=t[o])>i&&(i=o),r&=~a}if(r=i,10<(r=(120>(r=Je()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Sl(r/1960))-r)){e.timeoutHandle=ri(xc.bind(null,e,Vl,ql),r);break}xc(e,Vl,ql);break;default:throw Error(s(329))}}}return rc(e,Je()),e.callbackNode===n?ic.bind(null,e):null}function sc(e,t){var n=Ul;return e.current.memoizedState.isDehydrated&&(hc(e,t).flags|=256),2!==(e=gc(e,t))&&(t=Vl,Vl=n,null!==t&&ac(t)),e}function ac(e){null===Vl?Vl=e:Vl.push.apply(Vl,e)}function oc(e,t){for(t&=~Fl,t&=~Ml,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-at(t),r=1<<n;e[n]=-1,t&=~r}}function lc(e){if(0!==(6&Cl))throw Error(s(327));kc();var t=ht(e,0);if(0===(1&t))return rc(e,Je()),null;var n=gc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=sc(e,r))}if(1===n)throw n=Rl,hc(e,0),oc(e,t),rc(e,Je()),n;if(6===n)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,xc(e,Vl,ql),rc(e,Je()),null}function cc(e,t){var n=Cl;Cl|=1;try{return e(t)}finally{0===(Cl=n)&&(Bl=Je()+500,Ui&&Bi())}}function uc(e){null!==Gl&&0===Gl.tag&&0===(6&Cl)&&kc();var t=Cl;Cl|=1;var n=Tl.transition,r=bt;try{if(Tl.transition=null,bt=1,e)return e()}finally{bt=r,Tl.transition=n,0===(6&(Cl=t))&&Bi()}}function dc(){Dl=Ol.current,_i(Ol)}function hc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==jl)for(n=jl.return;null!==n;){var r=n;switch(ts(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Oi();break;case 3:Ys(),_i(Ii),_i(Ci),na();break;case 5:Xs(r);break;case 4:Ys();break;case 13:case 19:_i(Zs);break;case 10:Ts(r.type._context);break;case 22:case 23:dc()}n=n.return}if(Il=e,jl=e=Oc(e.current,null),Al=Dl=t,Pl=0,Rl=null,Fl=Ml=Ll=0,Vl=Ul=null,null!==As){for(t=0;t<As.length;t++)if(null!==(r=(n=As[t]).interleaved)){n.interleaved=null;var i=r.next,s=n.pending;if(null!==s){var a=s.next;s.next=i,r.next=a}n.pending=r}As=null}return e}function fc(e,t){for(;;){var n=jl;try{if(Ns(),ra.current=Ja,ca){for(var r=aa.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}ca=!1}if(sa=0,la=oa=aa=null,ua=!1,da=0,Nl.current=null,null===n||null===n.return){Pl=1,Rl=t,jl=null;break}e:{var a=e,o=n.return,l=n,c=t;if(t=Al,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,d=l,h=d.tag;if(0===(1&d.mode)&&(0===h||11===h||15===h)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=go(o);if(null!==p){p.flags&=-257,vo(p,o,l,0,t),1&p.mode&&mo(a,u,t),c=u;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(c),t.updateQueue=g}else m.add(c);break e}if(0===(1&t)){mo(a,u,t),mc();break e}c=Error(s(426))}else if(is&&1&l.mode){var v=go(o);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),vo(v,o,l,0,t),ps(lo(c,l));break e}}a=c=lo(c,l),4!==Pl&&(Pl=2),null===Ul?Ul=[a]:Ul.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,zs(a,fo(0,c,t));break e;case 1:l=c;var y=a.type,b=a.stateNode;if(0===(128&a.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Hl||!Hl.has(b)))){a.flags|=65536,t&=-t,a.lanes|=t,zs(a,po(a,l,t));break e}}a=a.return}while(null!==a)}wc(n)}catch(w){t=w,jl===n&&null!==n&&(jl=n=n.return);continue}break}}function pc(){var e=_l.current;return _l.current=Ja,null===e?Ja:e}function mc(){0!==Pl&&3!==Pl&&2!==Pl||(Pl=4),null===Il||0===(268435455&Ll)&&0===(268435455&Ml)||oc(Il,Al)}function gc(e,t){var n=Cl;Cl|=2;var r=pc();for(Il===e&&Al===t||(ql=null,hc(e,t));;)try{vc();break}catch(i){fc(e,i)}if(Ns(),Cl=n,_l.current=r,null!==jl)throw Error(s(261));return Il=null,Al=0,Pl}function vc(){for(;null!==jl;)bc(jl)}function yc(){for(;null!==jl&&!Qe();)bc(jl)}function bc(e){var t=El(e.alternate,e,Dl);e.memoizedProps=e.pendingProps,null===t?wc(e):jl=t,Nl.current=null}function wc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Ko(n,t,Dl)))return void(jl=n)}else{if(null!==(n=Go(n,t)))return n.flags&=32767,void(jl=n);if(null===e)return Pl=6,void(jl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(jl=t);jl=t=e}while(null!==t);0===Pl&&(Pl=5)}function xc(e,t,n){var r=bt,i=Tl.transition;try{Tl.transition=null,bt=1,function(e,t,n,r){do{kc()}while(null!==Gl);if(0!==(6&Cl))throw Error(s(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-at(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}(e,a),e===Il&&(jl=Il=null,Al=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Kl||(Kl=!0,Ic(tt,function(){return kc(),null})),a=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||a){a=Tl.transition,Tl.transition=null;var o=bt;bt=1;var l=Cl;Cl|=4,Nl.current=null,function(e,t){if(ei=$t,fr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(x){n=null;break e}var o=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(l=o+i),h!==a||0!==r&&3!==h.nodeType||(c=o+r),3===h.nodeType&&(o+=h.nodeValue.length),null!==(p=h.firstChild);)f=h,h=p;for(;;){if(h===e)break t;if(f===n&&++u===i&&(l=o),f===a&&++d===r&&(c=o),null!==(p=h.nextSibling))break;f=(h=f).parentNode}h=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},$t=!1,Xo=t;null!==Xo;)if(e=(t=Xo).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Xo=e;else for(;null!==Xo;){t=Xo;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,v=m.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:to(t.type,g),v);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(s(163))}}catch(x){Sc(t,t.return,x)}if(null!==(e=t.sibling)){e.return=t.return,Xo=e;break}Xo=t.return}m=tl,tl=!1}(e,n),gl(n,e),pr(ti),$t=!!ei,ti=ei=null,e.current=n,yl(n,e,i),Ye(),Cl=l,bt=o,Tl.transition=a}else e.current=n;if(Kl&&(Kl=!1,Gl=e,Ql=i),a=e.pendingLanes,0===a&&(Hl=null),function(e){if(st&&"function"===typeof st.onCommitFiberRoot)try{st.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,Je()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if($l)throw $l=!1,e=Wl,Wl=null,e;0!==(1&Ql)&&0!==e.tag&&kc(),a=e.pendingLanes,0!==(1&a)?e===Jl?Yl++:(Yl=0,Jl=e):Yl=0,Bi()}(e,t,n,r)}finally{Tl.transition=i,bt=r}return null}function kc(){if(null!==Gl){var e=wt(Ql),t=Tl.transition,n=bt;try{if(Tl.transition=null,bt=16>e?16:e,null===Gl)var r=!1;else{if(e=Gl,Gl=null,Ql=0,0!==(6&Cl))throw Error(s(331));var i=Cl;for(Cl|=4,Xo=e.current;null!==Xo;){var a=Xo,o=a.child;if(0!==(16&Xo.flags)){var l=a.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Xo=u;null!==Xo;){var d=Xo;switch(d.tag){case 0:case 11:case 15:nl(8,d,a)}var h=d.child;if(null!==h)h.return=d,Xo=h;else for(;null!==Xo;){var f=(d=Xo).sibling,p=d.return;if(sl(d),d===u){Xo=null;break}if(null!==f){f.return=p,Xo=f;break}Xo=p}}}var m=a.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}Xo=a}}if(0!==(2064&a.subtreeFlags)&&null!==o)o.return=a,Xo=o;else e:for(;null!==Xo;){if(0!==(2048&(a=Xo).flags))switch(a.tag){case 0:case 11:case 15:nl(9,a,a.return)}var y=a.sibling;if(null!==y){y.return=a.return,Xo=y;break e}Xo=a.return}}var b=e.current;for(Xo=b;null!==Xo;){var w=(o=Xo).child;if(0!==(2064&o.subtreeFlags)&&null!==w)w.return=o,Xo=w;else e:for(o=b;null!==Xo;){if(0!==(2048&(l=Xo).flags))try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(k){Sc(l,l.return,k)}if(l===o){Xo=null;break e}var x=l.sibling;if(null!==x){x.return=l.return,Xo=x;break e}Xo=l.return}}if(Cl=i,Bi(),st&&"function"===typeof st.onPostCommitFiberRoot)try{st.onPostCommitFiberRoot(it,e)}catch(k){}r=!0}return r}finally{bt=n,Tl.transition=t}}return!1}function Ec(e,t,n){e=Us(e,t=fo(0,t=lo(n,t),1),1),t=ec(),null!==e&&(vt(e,1,t),rc(e,t))}function Sc(e,t,n){if(3===e.tag)Ec(e,e,n);else for(;null!==t;){if(3===t.tag){Ec(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Hl||!Hl.has(r))){t=Us(t,e=po(t,e=lo(n,e),1),1),e=ec(),null!==t&&(vt(t,1,e),rc(t,e));break}}t=t.return}}function _c(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,Il===e&&(Al&n)===n&&(4===Pl||3===Pl&&(130023424&Al)===Al&&500>Je()-zl?hc(e,0):Fl|=n),rc(e,t)}function Nc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=ec();null!==(e=Ps(e,t))&&(vt(e,t,n),rc(e,n))}function Tc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Nc(e,n)}function Cc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(s(314))}null!==r&&r.delete(t),Nc(e,n)}function Ic(e,t){return Ke(e,t)}function jc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ac(e,t,n,r){return new jc(e,t,n,r)}function Dc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Oc(e,t){var n=e.alternate;return null===n?((n=Ac(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Pc(e,t,n,r,i,a){var o=2;if(r=e,"function"===typeof e)Dc(e)&&(o=1);else if("string"===typeof e)o=5;else e:switch(e){case E:return Rc(n.children,i,a,t);case S:o=8,i|=8;break;case _:return(e=Ac(12,n,t,2|i)).elementType=_,e.lanes=a,e;case I:return(e=Ac(13,n,t,i)).elementType=I,e.lanes=a,e;case j:return(e=Ac(19,n,t,i)).elementType=j,e.lanes=a,e;case O:return Lc(n,i,a,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case N:o=10;break e;case T:o=9;break e;case C:o=11;break e;case A:o=14;break e;case D:o=16,r=null;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=Ac(o,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Rc(e,t,n,r){return(e=Ac(7,e,r,t)).lanes=n,e}function Lc(e,t,n,r){return(e=Ac(22,e,r,t)).elementType=O,e.lanes=n,e.stateNode={isHidden:!1},e}function Mc(e,t,n){return(e=Ac(6,e,null,t)).lanes=n,e}function Fc(e,t,n){return(t=Ac(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Uc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Vc(e,t,n,r,i,s,a,o,l){return e=new Uc(e,t,n,o,l),1===t?(t=1,!0===s&&(t|=8)):t=0,s=Ac(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ls(s),e}function zc(e){if(!e)return Ti;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Di(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(s(171))}if(1===e.tag){var n=e.type;if(Di(n))return Ri(e,n,t)}return t}function Bc(e,t,n,r,i,s,a,o,l){return(e=Vc(n,r,!0,e,0,s,0,o,l)).context=zc(null),n=e.current,(s=Fs(r=ec(),i=tc(n))).callback=void 0!==t&&null!==t?t:null,Us(n,s,i),e.current.lanes=i,vt(e,i,r),rc(e,r),e}function qc(e,t,n,r){var i=t.current,s=ec(),a=tc(i);return n=zc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Fs(s,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Us(i,t,a))&&(nc(e,i,a,s),Vs(e,i,a)),a}function $c(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Wc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Hc(e,t){Wc(e,t),(e=e.alternate)&&Wc(e,t)}El=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ii.current)bo=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bo=!1,function(e,t,n){switch(t.tag){case 3:Io(t),fs();break;case 5:Js(t);break;case 1:Di(t.type)&&Li(t);break;case 4:Qs(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ni(ks,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ni(Zs,1&Zs.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Mo(e,t,n):(Ni(Zs,1&Zs.current),null!==(e=$o(e,t,n))?e.sibling:null);Ni(Zs,1&Zs.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Bo(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ni(Zs,Zs.current),r)break;return null;case 22:case 23:return t.lanes=0,So(e,t,n)}return $o(e,t,n)}(e,t,n);bo=0!==(131072&e.flags)}else bo=!1,is&&0!==(1048576&t.flags)&&Zi(t,Hi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;qo(e,t),e=t.pendingProps;var i=Ai(t,Ci.current);Is(t,n),i=ma(null,t,r,e,i,n);var a=ga();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Di(r)?(a=!0,Li(t)):a=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Ls(t),i.updater=ro,t.stateNode=i,i._reactInternals=t,oo(t,r,e,n),t=Co(null,t,r,!0,a,n)):(t.tag=0,is&&a&&es(t),wo(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(qo(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Dc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===A)return 14}return 2}(r),e=to(r,e),i){case 0:t=No(null,t,r,e,n);break e;case 1:t=To(null,t,r,e,n);break e;case 11:t=xo(null,t,r,e,n);break e;case 14:t=ko(null,t,r,to(r.type,e),n);break e}throw Error(s(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,No(e,t,r,i=t.elementType===r?i:to(r,i),n);case 1:return r=t.type,i=t.pendingProps,To(e,t,r,i=t.elementType===r?i:to(r,i),n);case 3:e:{if(Io(t),null===e)throw Error(s(387));r=t.pendingProps,i=(a=t.memoizedState).element,Ms(e,t),Bs(t,r,null,n);var o=t.memoizedState;if(r=o.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=jo(e,t,r,n,i=lo(Error(s(423)),t));break e}if(r!==i){t=jo(e,t,r,n,i=lo(Error(s(424)),t));break e}for(rs=ci(t.stateNode.containerInfo.firstChild),ns=t,is=!0,ss=null,n=xs(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fs(),r===i){t=$o(e,t,n);break e}wo(e,t,r,n)}t=t.child}return t;case 5:return Js(t),null===e&&cs(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,o=i.children,ni(r,i)?o=null:null!==a&&ni(r,a)&&(t.flags|=32),_o(e,t),wo(e,t,o,n),t.child;case 6:return null===e&&cs(t),null;case 13:return Mo(e,t,n);case 4:return Qs(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=ws(t,null,r,n):wo(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,xo(e,t,r,i=t.elementType===r?i:to(r,i),n);case 7:return wo(e,t,t.pendingProps,n),t.child;case 8:case 12:return wo(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,o=i.value,Ni(ks,r._currentValue),r._currentValue=o,null!==a)if(or(a.value,o)){if(a.children===i.children&&!Ii.current){t=$o(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var l=a.dependencies;if(null!==l){o=a.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===a.tag){(c=Fs(-1,n&-n)).tag=2;var u=a.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}a.lanes|=n,null!==(c=a.alternate)&&(c.lanes|=n),Cs(a.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===a.tag)o=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(o=a.return))throw Error(s(341));o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),Cs(o,n,t),o=a.sibling}else o=a.child;if(null!==o)o.return=a;else for(o=a;null!==o;){if(o===t){o=null;break}if(null!==(a=o.sibling)){a.return=o.return,o=a;break}o=o.return}a=o}wo(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Is(t,n),r=r(i=js(i)),t.flags|=1,wo(e,t,r,n),t.child;case 14:return i=to(r=t.type,t.pendingProps),ko(e,t,r,i=to(r.type,i),n);case 15:return Eo(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:to(r,i),qo(e,t),t.tag=1,Di(r)?(e=!0,Li(t)):e=!1,Is(t,n),so(t,r,i),oo(t,r,i,n),Co(null,t,r,!0,e,n);case 19:return Bo(e,t,n);case 22:return So(e,t,n)}throw Error(s(156,t.tag))};var Kc="function"===typeof reportError?reportError:function(e){console.error(e)};function Gc(e){this._internalRoot=e}function Qc(e){this._internalRoot=e}function Yc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Xc(){}function Zc(e,t,n,r,i){var s=n._reactRootContainer;if(s){var a=s;if("function"===typeof i){var o=i;i=function(){var e=$c(a);o.call(e)}}qc(t,a,e,i)}else a=function(e,t,n,r,i){if(i){if("function"===typeof r){var s=r;r=function(){var e=$c(a);s.call(e)}}var a=Bc(t,r,e,0,null,!1,0,"",Xc);return e._reactRootContainer=a,e[pi]=a.current,Br(8===e.nodeType?e.parentNode:e),uc(),a}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var o=r;r=function(){var e=$c(l);o.call(e)}}var l=Vc(e,0,!1,null,0,!1,0,"",Xc);return e._reactRootContainer=l,e[pi]=l.current,Br(8===e.nodeType?e.parentNode:e),uc(function(){qc(t,l,n,r)}),l}(n,t,e,i,r);return $c(a)}Qc.prototype.render=Gc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));qc(e,t,null,null)},Qc.prototype.unmount=Gc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;uc(function(){qc(null,e,null,null)}),t[pi]=null}},Qc.prototype.unstable_scheduleHydration=function(e){if(e){var t=St();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ot.length&&0!==t&&t<Ot[n].priority;n++);Ot.splice(n,0,e),0===n&&Mt(e)}},xt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(yt(t,1|n),rc(t,Je()),0===(6&Cl)&&(Bl=Je()+500,Bi()))}break;case 13:uc(function(){var t=Ps(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}}),Hc(e,1)}},kt=function(e){if(13===e.tag){var t=Ps(e,134217728);if(null!==t)nc(t,e,134217728,ec());Hc(e,134217728)}},Et=function(e){if(13===e.tag){var t=tc(e),n=Ps(e,t);if(null!==n)nc(n,e,t,ec());Hc(e,t)}},St=function(){return bt},_t=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},ke=function(e,t,n){switch(t){case"input":if(X(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=xi(r);if(!i)throw Error(s(90));K(r),X(r,i)}}}break;case"textarea":se(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ce=cc,Ie=uc;var eu={usingClientEntryPoint:!1,Events:[bi,wi,xi,Ne,Te,cc]},tu={findFiberByHostInstance:yi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nu={bundleType:tu.bundleType,version:tu.version,rendererPackageName:tu.rendererPackageName,rendererConfig:tu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=We(e))?null:e.stateNode},findFiberByHostInstance:tu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ru=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ru.isDisabled&&ru.supportsFiber)try{it=ru.inject(nu),st=ru}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Yc(t))throw Error(s(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:k,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Yc(e))throw Error(s(299));var n=!1,r="",i=Kc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Vc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Br(8===e.nodeType?e.parentNode:e),new Gc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=null===(e=We(t))?null:e.stateNode},t.flushSync=function(e){return uc(e)},t.hydrate=function(e,t,n){if(!Jc(t))throw Error(s(200));return Zc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Yc(e))throw Error(s(405));var r=null!=n&&n.hydratedSources||null,i=!1,a="",o=Kc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(o=n.onRecoverableError)),t=Bc(t,null,e,1,null!=n?n:null,i,0,a,o),e[pi]=t.current,Br(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Qc(t)},t.render=function(e,t,n){if(!Jc(t))throw Error(s(200));return Zc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Jc(e))throw Error(s(40));return!!e._reactRootContainer&&(uc(function(){Zc(null,null,e,!1,function(){e._reactRootContainer=null,e[pi]=null})}),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Jc(n))throw Error(s(200));if(null==e||void 0===e._reactInternals)throw Error(s(38));return Zc(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},788:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,s){function a(e){try{l(r.next(e))}catch(t){s(t)}}function o(e){try{l(r.throw(e))}catch(t){s(t)}}function l(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,o)}l((r=r.apply(e,t||[])).next())})},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=i(n(457));function a(e){let t,n,i,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"maxAge";const o=()=>r(this,void 0,void 0,function*(){if(void 0!==t)return;const o=o=>r(this,void 0,void 0,function*(){i=s.default();const r=o[1][a]-Date.now();return r<=0?(e.delete(o[0]),void i.resolve()):(t=o[0],n=setTimeout(()=>{e.delete(o[0]),i&&i.resolve()},r),"function"===typeof n.unref&&n.unref(),i.promise)});try{for(const t of e)yield o(t)}catch(l){}t=void 0}),l=e.set.bind(e);return e.set=(r,s)=>{e.has(r)&&e.delete(r);const a=l(r,s);return t&&t===r&&(t=void 0,void 0!==n&&(clearTimeout(n),n=void 0),void 0!==i&&(i.reject(void 0),i=void 0)),o(),a},o(),e}t.default=a,e.exports=a,e.exports.default=a},853:(e,t,n)=>{"use strict";e.exports=n(234)},922:(e,t,n)=>{"use strict";const r=n(724),i=n(788),s=new WeakMap,a=new WeakMap,o=function(e){let{cacheKey:t,cache:n=new Map,maxAge:s}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};"number"===typeof s&&i(n);const o=function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];const o=t?t(i):i[0],l=n.get(o);if(l)return l.data;const c=e.apply(this,i);return n.set(o,{data:c,maxAge:s?Date.now()+s:Number.POSITIVE_INFINITY}),c};return r(o,e,{ignoreNonConfigurable:!0}),a.set(o,n),o};o.decorator=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(t,n,r)=>{const i=t[n];if("function"!==typeof i)throw new TypeError("The decorated value must be a function");delete r.value,delete r.writable,r.get=function(){if(!s.has(this)){const t=o(i,e);return s.set(this,t),t}return s.get(this)}}},o.clear=e=>{const t=a.get(e);if(!t)throw new TypeError("Can't clear a function that was not memoized!");if("function"!==typeof t.clear)throw new TypeError("The cache Map can't be cleared!");t.clear()},e.exports=o},950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var s=t[r]={exports:{}};return e[r].call(s.exports,s,s.exports,n),s.exports}(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var s=Object.create(null);n.r(s);var a={};e=e||[null,t({}),t([]),t(t)];for(var o=2&i&&r;("object"==typeof o||"function"==typeof o)&&!~e.indexOf(o);o=t(o))Object.getOwnPropertyNames(o).forEach(e=>a[e]=()=>r[e]);return a.default=()=>r,n.d(s,a),s}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{"use strict";var e,t=n(43),r=n.t(t,2),i=n(391),s=n(950),a=n.t(s,2);function o(){return o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(e||(e={}));const l="popstate";function c(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function u(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function d(e,t){return{usr:e.state,key:e.key,idx:t}}function h(e,t,n,r){return void 0===n&&(n=null),o({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?p(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function f(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function p(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function m(t,n,r,i){void 0===i&&(i={});let{window:s=document.defaultView,v5Compat:a=!1}=i,u=s.history,p=e.Pop,m=null,g=v();function v(){return(u.state||{idx:null}).idx}function y(){p=e.Pop;let t=v(),n=null==t?null:t-g;g=t,m&&m({action:p,location:w.location,delta:n})}function b(e){let t="null"!==s.location.origin?s.location.origin:s.location.href,n="string"===typeof e?e:f(e);return n=n.replace(/ $/,"%20"),c(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==g&&(g=0,u.replaceState(o({},u.state,{idx:g}),""));let w={get action(){return p},get location(){return t(s,u)},listen(e){if(m)throw new Error("A history only accepts one active listener");return s.addEventListener(l,y),m=e,()=>{s.removeEventListener(l,y),m=null}},createHref:e=>n(s,e),createURL:b,encodeLocation(e){let t=b(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(t,n){p=e.Push;let i=h(w.location,t,n);r&&r(i,t),g=v()+1;let o=d(i,g),l=w.createHref(i);try{u.pushState(o,"",l)}catch(c){if(c instanceof DOMException&&"DataCloneError"===c.name)throw c;s.location.assign(l)}a&&m&&m({action:p,location:w.location,delta:1})},replace:function(t,n){p=e.Replace;let i=h(w.location,t,n);r&&r(i,t),g=v();let s=d(i,g),o=w.createHref(i);u.replaceState(s,"",o),a&&m&&m({action:p,location:w.location,delta:0})},go:e=>u.go(e)};return w}var g;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(g||(g={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function v(e,t,n){return void 0===n&&(n="/"),y(e,t,n,!1)}function y(e,t,n,r){let i=D(("string"===typeof t?p(t):t).pathname||"/",n);if(null==i)return null;let s=b(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n]);return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(s);let a=null;for(let o=0;null==a&&o<s.length;++o){let e=A(i);a=I(s[o],e,r)}return a}function b(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let i=(e,i,s)=>{let a={relativePath:void 0===s?e.path||"":s,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(c(a.relativePath.startsWith(r),'Absolute route path "'+a.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),a.relativePath=a.relativePath.slice(r.length));let o=M([r,a.relativePath]),l=n.concat(a);e.children&&e.children.length>0&&(c(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+o+'".'),b(e.children,t,l,o)),(null!=e.path||e.index)&&t.push({path:o,score:C(o,e.index),routesMeta:l})};return e.forEach((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of w(e.path))i(e,t,r);else i(e,t)}),t}function w(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(0===r.length)return i?[s,""]:[s];let a=w(r.join("/")),o=[];return o.push(...a.map(e=>""===e?s:[s,e].join("/"))),i&&o.push(...a),o.map(t=>e.startsWith("/")&&""===t?"/":t)}const x=/^:[\w-]+$/,k=3,E=2,S=1,_=10,N=-2,T=e=>"*"===e;function C(e,t){let n=e.split("/"),r=n.length;return n.some(T)&&(r+=N),t&&(r+=E),n.filter(e=>!T(e)).reduce((e,t)=>e+(x.test(t)?k:""===t?S:_),r)}function I(e,t,n){void 0===n&&(n=!1);let{routesMeta:r}=e,i={},s="/",a=[];for(let o=0;o<r.length;++o){let e=r[o],l=o===r.length-1,c="/"===s?t:t.slice(s.length)||"/",u=j({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),d=e.route;if(!u&&l&&n&&!r[r.length-1].route.index&&(u=j({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(i,u.params),a.push({params:i,pathname:M([s,u.pathname]),pathnameBase:F(M([s,u.pathnameBase])),route:d}),"/"!==u.pathnameBase&&(s=M([s,u.pathnameBase]))}return a}function j(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);u("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)"));e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");let s=new RegExp(i,t?void 0:"i");return[s,r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:r.reduce((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=o[n]||"";a=s.slice(0,s.length-e.length).replace(/(.)\/+$/,"$1")}const l=o[n];return e[r]=i&&!l?void 0:(l||"").replace(/%2F/g,"/"),e},{}),pathname:s,pathnameBase:a,pattern:e}}function A(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return u(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function D(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function O(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function P(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function R(e,t){let n=P(e);return t?n.map((e,t)=>t===n.length-1?e.pathname:e.pathnameBase):n.map(e=>e.pathnameBase)}function L(e,t,n,r){let i;void 0===r&&(r=!1),"string"===typeof e?i=p(e):(i=o({},e),c(!i.pathname||!i.pathname.includes("?"),O("?","pathname","search",i)),c(!i.pathname||!i.pathname.includes("#"),O("#","pathname","hash",i)),c(!i.search||!i.search.includes("#"),O("#","search","hash",i)));let s,a=""===e||""===i.pathname,l=a?"/":i.pathname;if(null==l)s=n;else{let e=t.length-1;if(!r&&l.startsWith("..")){let t=l.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}s=e>=0?t[e]:"/"}let u=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:i=""}="string"===typeof e?p(e):e,s=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:s,search:U(r),hash:V(i)}}(i,s),d=l&&"/"!==l&&l.endsWith("/"),h=(a||"."===l)&&n.endsWith("/");return u.pathname.endsWith("/")||!d&&!h||(u.pathname+="/"),u}const M=e=>e.join("/").replace(/\/\/+/g,"/"),F=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),U=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",V=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function z(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const B=["post","put","patch","delete"],q=(new Set(B),["get",...B]);new Set(q),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function $(){return $=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$.apply(this,arguments)}const W=t.createContext(null);const H=t.createContext(null);const K=t.createContext(null);const G=t.createContext(null);const Q=t.createContext({outlet:null,matches:[],isDataRoute:!1});const Y=t.createContext(null);function J(){return null!=t.useContext(G)}function X(){return J()||c(!1),t.useContext(G).location}function Z(e){t.useContext(K).static||t.useLayoutEffect(e)}function ee(){let{isDataRoute:e}=t.useContext(Q);return e?function(){let{router:e}=ue(le.UseNavigateStable),n=he(ce.UseNavigateStable),r=t.useRef(!1);Z(()=>{r.current=!0});let i=t.useCallback(function(t,i){void 0===i&&(i={}),r.current&&("number"===typeof t?e.navigate(t):e.navigate(t,$({fromRouteId:n},i)))},[e,n]);return i}():function(){J()||c(!1);let e=t.useContext(W),{basename:n,future:r,navigator:i}=t.useContext(K),{matches:s}=t.useContext(Q),{pathname:a}=X(),o=JSON.stringify(R(s,r.v7_relativeSplatPath)),l=t.useRef(!1);Z(()=>{l.current=!0});let u=t.useCallback(function(t,r){if(void 0===r&&(r={}),!l.current)return;if("number"===typeof t)return void i.go(t);let s=L(t,JSON.parse(o),a,"path"===r.relative);null==e&&"/"!==n&&(s.pathname="/"===s.pathname?n:M([n,s.pathname])),(r.replace?i.replace:i.push)(s,r.state,r)},[n,i,o,a,e]);return u}()}function te(e,n){let{relative:r}=void 0===n?{}:n,{future:i}=t.useContext(K),{matches:s}=t.useContext(Q),{pathname:a}=X(),o=JSON.stringify(R(s,i.v7_relativeSplatPath));return t.useMemo(()=>L(e,JSON.parse(o),a,"path"===r),[e,o,a,r])}function ne(n,r,i,s){J()||c(!1);let{navigator:a}=t.useContext(K),{matches:o}=t.useContext(Q),l=o[o.length-1],u=l?l.params:{},d=(l&&l.pathname,l?l.pathnameBase:"/");l&&l.route;let h,f=X();if(r){var m;let e="string"===typeof r?p(r):r;"/"===d||(null==(m=e.pathname)?void 0:m.startsWith(d))||c(!1),h=e}else h=f;let g=h.pathname||"/",y=g;if("/"!==d){let e=d.replace(/^\//,"").split("/");y="/"+g.replace(/^\//,"").split("/").slice(e.length).join("/")}let b=v(n,{pathname:y});let w=oe(b&&b.map(e=>Object.assign({},e,{params:Object.assign({},u,e.params),pathname:M([d,a.encodeLocation?a.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?d:M([d,a.encodeLocation?a.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),o,i,s);return r&&w?t.createElement(G.Provider,{value:{location:$({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:e.Pop}},w):w}function re(){let e=function(){var e;let n=t.useContext(Y),r=de(ce.UseRouteError),i=he(ce.UseRouteError);if(void 0!==n)return n;return null==(e=r.errors)?void 0:e[i]}(),n=z(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:i};return t.createElement(t.Fragment,null,t.createElement("h2",null,"Unexpected Application Error!"),t.createElement("h3",{style:{fontStyle:"italic"}},n),r?t.createElement("pre",{style:s},r):null,null)}const ie=t.createElement(re,null);class se extends t.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?t.createElement(Q.Provider,{value:this.props.routeContext},t.createElement(Y.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ae(e){let{routeContext:n,match:r,children:i}=e,s=t.useContext(W);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),t.createElement(Q.Provider,{value:n},i)}function oe(e,n,r,i){var s;if(void 0===n&&(n=[]),void 0===r&&(r=null),void 0===i&&(i=null),null==e){var a;if(!r)return null;if(r.errors)e=r.matches;else{if(!(null!=(a=i)&&a.v7_partialHydration&&0===n.length&&!r.initialized&&r.matches.length>0))return null;e=r.matches}}let o=e,l=null==(s=r)?void 0:s.errors;if(null!=l){let e=o.findIndex(e=>e.route.id&&void 0!==(null==l?void 0:l[e.route.id]));e>=0||c(!1),o=o.slice(0,Math.min(o.length,e+1))}let u=!1,d=-1;if(r&&i&&i.v7_partialHydration)for(let t=0;t<o.length;t++){let e=o[t];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(d=t),e.route.id){let{loaderData:t,errors:n}=r,i=e.route.loader&&void 0===t[e.route.id]&&(!n||void 0===n[e.route.id]);if(e.route.lazy||i){u=!0,o=d>=0?o.slice(0,d+1):[o[0]];break}}}return o.reduceRight((e,i,s)=>{let a,c=!1,h=null,f=null;var p;r&&(a=l&&i.route.id?l[i.route.id]:void 0,h=i.route.errorElement||ie,u&&(d<0&&0===s?(p="route-fallback",!1||fe[p]||(fe[p]=!0),c=!0,f=null):d===s&&(c=!0,f=i.route.hydrateFallbackElement||null)));let m=n.concat(o.slice(0,s+1)),g=()=>{let n;return n=a?h:c?f:i.route.Component?t.createElement(i.route.Component,null):i.route.element?i.route.element:e,t.createElement(ae,{match:i,routeContext:{outlet:e,matches:m,isDataRoute:null!=r},children:n})};return r&&(i.route.ErrorBoundary||i.route.errorElement||0===s)?t.createElement(se,{location:r.location,revalidation:r.revalidation,component:h,error:a,children:g(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):g()},null)}var le=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(le||{}),ce=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(ce||{});function ue(e){let n=t.useContext(W);return n||c(!1),n}function de(e){let n=t.useContext(H);return n||c(!1),n}function he(e){let n=function(){let e=t.useContext(Q);return e||c(!1),e}(),r=n.matches[n.matches.length-1];return r.route.id||c(!1),r.route.id}const fe={};function pe(e,t){null==e||e.v7_startTransition,void 0===(null==e?void 0:e.v7_relativeSplatPath)&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}r.startTransition;function me(e){let{to:n,replace:r,state:i,relative:s}=e;J()||c(!1);let{future:a,static:o}=t.useContext(K),{matches:l}=t.useContext(Q),{pathname:u}=X(),d=ee(),h=L(n,R(l,a.v7_relativeSplatPath),u,"path"===s),f=JSON.stringify(h);return t.useEffect(()=>d(JSON.parse(f),{replace:r,state:i,relative:s}),[d,f,s,r,i]),null}function ge(e){c(!1)}function ve(n){let{basename:r="/",children:i=null,location:s,navigationType:a=e.Pop,navigator:o,static:l=!1,future:u}=n;J()&&c(!1);let d=r.replace(/^\/*/,"/"),h=t.useMemo(()=>({basename:d,navigator:o,static:l,future:$({v7_relativeSplatPath:!1},u)}),[d,u,o,l]);"string"===typeof s&&(s=p(s));let{pathname:f="/",search:m="",hash:g="",state:v=null,key:y="default"}=s,b=t.useMemo(()=>{let e=D(f,d);return null==e?null:{location:{pathname:e,search:m,hash:g,state:v,key:y},navigationType:a}},[d,f,m,g,v,y,a]);return null==b?null:t.createElement(K.Provider,{value:h},t.createElement(G.Provider,{children:i,value:b}))}function ye(e){let{children:t,location:n}=e;return ne(be(t),n)}new Promise(()=>{});t.Component;function be(e,n){void 0===n&&(n=[]);let r=[];return t.Children.forEach(e,(e,i)=>{if(!t.isValidElement(e))return;let s=[...n,i];if(e.type===t.Fragment)return void r.push.apply(r,be(e.props.children,s));e.type!==ge&&c(!1),e.props.index&&e.props.children&&c(!1);let a={id:e.props.id||s.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(a.children=be(e.props.children,s)),r.push(a)}),r}function we(){return we=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},we.apply(this,arguments)}function xe(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const ke=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"];try{window.__reactRouterVersion="6"}catch(dk){}new Map;const Ee=r.startTransition;a.flushSync,r.useId;function Se(e){let{basename:n,children:r,future:i,window:s}=e,a=t.useRef();var o;null==a.current&&(a.current=(void 0===(o={window:s,v5Compat:!0})&&(o={}),m(function(e,t){let{pathname:n,search:r,hash:i}=e.location;return h("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"===typeof t?t:f(t)},null,o)));let l=a.current,[c,u]=t.useState({action:l.action,location:l.location}),{v7_startTransition:d}=i||{},p=t.useCallback(e=>{d&&Ee?Ee(()=>u(e)):u(e)},[u,d]);return t.useLayoutEffect(()=>l.listen(p),[l,p]),t.useEffect(()=>pe(i),[i]),t.createElement(ve,{basename:n,children:r,location:c.location,navigationType:c.action,navigator:l,future:i})}const _e="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Ne=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Te=t.forwardRef(function(e,n){let r,{onClick:i,relative:s,reloadDocument:a,replace:o,state:l,target:u,to:d,preventScrollReset:h,viewTransition:p}=e,m=xe(e,ke),{basename:g}=t.useContext(K),v=!1;if("string"===typeof d&&Ne.test(d)&&(r=d,_e))try{let e=new URL(window.location.href),t=d.startsWith("//")?new URL(e.protocol+d):new URL(d),n=D(t.pathname,g);t.origin===e.origin&&null!=n?d=n+t.search+t.hash:v=!0}catch(dk){}let y=function(e,n){let{relative:r}=void 0===n?{}:n;J()||c(!1);let{basename:i,navigator:s}=t.useContext(K),{hash:a,pathname:o,search:l}=te(e,{relative:r}),u=o;return"/"!==i&&(u="/"===o?i:M([i,o])),s.createHref({pathname:u,search:l,hash:a})}(d,{relative:s}),b=function(e,n){let{target:r,replace:i,state:s,preventScrollReset:a,relative:o,viewTransition:l}=void 0===n?{}:n,c=ee(),u=X(),d=te(e,{relative:o});return t.useCallback(t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,r)){t.preventDefault();let n=void 0!==i?i:f(u)===f(d);c(e,{replace:n,state:s,preventScrollReset:a,relative:o,viewTransition:l})}},[u,c,d,i,s,r,e,a,o,l])}(d,{replace:o,state:l,target:u,preventScrollReset:h,relative:s,viewTransition:p});return t.createElement("a",we({},m,{href:r||y,onClick:v||a?i:function(e){i&&i(e),e.defaultPrevented||b(e)},ref:n,target:u}))});var Ce,Ie;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Ce||(Ce={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Ie||(Ie={}));var je=n(579);const Ae=e=>{let{message:n,type:r,onClose:i,duration:s=4e3}=e;(0,t.useEffect)(()=>{const e=setTimeout(i,s);return()=>clearTimeout(e)},[i,s]);return(0,je.jsx)("div",{className:`toast toast-${r}`,children:(0,je.jsxs)("div",{className:"toast-content",children:[(0,je.jsx)("span",{className:"toast-icon",children:(()=>{switch(r){case"success":return"\u2705";case"error":return"\u274c";case"warning":return"\u26a0\ufe0f";case"info":return"\u2139\ufe0f";default:return"\ud83d\udce2"}})()}),(0,je.jsx)("span",{className:"toast-message",children:n}),(0,je.jsx)("button",{className:"toast-close",onClick:i,children:"\xd7"})]})})},De=e=>{let{isOpen:t,title:n,message:r,onConfirm:i,onCancel:s,confirmText:a="Confirm",cancelText:o="Cancel",type:l="warning"}=e;if(!t)return null;return(0,je.jsx)("div",{className:"confirm-modal-overlay",onClick:s,children:(0,je.jsxs)("div",{className:"confirm-modal",onClick:e=>e.stopPropagation(),children:[(0,je.jsxs)("div",{className:"confirm-modal-header",children:[(0,je.jsx)("span",{className:"confirm-modal-icon",children:(()=>{switch(l){case"danger":return"\u26a0\ufe0f";case"warning":default:return"\u2753";case"info":return"\u2139\ufe0f"}})()}),(0,je.jsx)("h3",{children:n})]}),(0,je.jsx)("div",{className:"confirm-modal-body",children:(0,je.jsx)("p",{children:r})}),(0,je.jsxs)("div",{className:"confirm-modal-actions",children:[(0,je.jsx)("button",{className:"confirm-btn-cancel",onClick:s,children:o}),(0,je.jsx)("button",{className:`confirm-btn-confirm ${l}`,onClick:i,children:a})]})]})})},Oe=(0,t.createContext)(),Pe=()=>{const e=(0,t.useContext)(Oe);if(!e)throw new Error("useToast must be used within a ToastProvider");return e},Re=e=>{let{children:n}=e;const[r,i]=(0,t.useState)([]),[s,a]=(0,t.useState)({isOpen:!1,title:"",message:"",onConfirm:null,onCancel:null,confirmText:"Confirm",cancelText:"Cancel",type:"warning"}),o=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info";const n=Date.now()+Math.random(),r={id:n,message:e,type:t};return i(e=>[...e,r]),n};return(0,je.jsxs)(Oe.Provider,{value:{showSuccess:e=>o(e,"success"),showError:e=>o(e,"error"),showWarning:e=>o(e,"warning"),showInfo:e=>o(e,"info"),showConfirm:e=>new Promise(t=>{a({isOpen:!0,title:e.title||"Confirm Action",message:e.message||"Are you sure?",confirmText:e.confirmText||"Confirm",cancelText:e.cancelText||"Cancel",type:e.type||"warning",onConfirm:()=>{a(e=>({...e,isOpen:!1})),t(!0)},onCancel:()=>{a(e=>({...e,isOpen:!1})),t(!1)}})})},children:[n,(0,je.jsx)("div",{className:"toast-container",children:r.map(e=>(0,je.jsx)(Ae,{message:e.message,type:e.type,onClose:()=>(e=>{i(t=>t.filter(t=>t.id!==e))})(e.id)},e.id))}),(0,je.jsx)(De,{isOpen:s.isOpen,title:s.title,message:s.message,onConfirm:s.onConfirm,onCancel:s.onCancel,confirmText:s.confirmText,cancelText:s.cancelText,type:s.type})]})},Le=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},Me={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],s=i+1<e.length,a=s?e[i+1]:0,o=i+2<e.length,l=o?e[i+2]:0,c=t>>2,u=(3&t)<<4|a>>4;let d=(15&a)<<2|l>>6,h=63&l;o||(h=64,s||(d=64)),r.push(n[c],n[u],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Le(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const s=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(s>>10)),t[r++]=String.fromCharCode(56320+(1023&s))}else{const s=e[n++],a=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&a)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],s=i<e.length?n[e.charAt(i)]:0;++i;const a=i<e.length?n[e.charAt(i)]:64;++i;const o=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==s||null==a||null==o)throw new Fe;const l=t<<2|s>>4;if(r.push(l),64!==a){const e=s<<4&240|a>>2;if(r.push(e),64!==o){const e=a<<6&192|o;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class Fe extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ue=function(e){return function(e){const t=Le(e);return Me.encodeByteArray(t,!0)}(e).replace(/\./g,"")},Ve=function(e){try{return Me.decodeString(e,!0)}catch(dk){console.error("base64Decode failed: ",dk)}return null};const ze=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,Be=()=>{try{return ze()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(dk){return}const t=e&&Ve(e[1]);return t&&JSON.parse(t)})()}catch(dk){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${dk}`)}},qe=e=>{var t,n;return null===(n=null===(t=Be())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},$e=()=>{var e;return null===(e=Be())||void 0===e?void 0:e.config},We=e=>{var t;return null===(t=Be())||void 0===t?void 0:t[`_${e}`]};class He{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,n))}}}function Ke(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Ge(){try{return"object"===typeof indexedDB}catch(dk){return!1}}class Qe extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,Qe.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ye.prototype.create)}}class Ye{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n=`${this.service}/${e}`,r=this.errors[e],i=r?function(e,t){return e.replace(Je,(e,n)=>{const r=t[n];return null!=r?String(r):`<${n}?>`})}(r,t):"Error",s=`${this.serviceName}: ${i} (${n}).`;return new Qe(n,s,t)}}const Je=/\{\$([^}]+)}/g;function Xe(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],s=t[i];if(Ze(n)&&Ze(s)){if(!Xe(n,s))return!1}else if(n!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Ze(e){return null!==e&&"object"===typeof e}function et(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function tt(e){const t={};return e.replace(/^\?/,"").split("&").forEach(e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}}),t}function nt(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class rt{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(e=>{this.error(e)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=it),void 0===r.error&&(r.error=it),void 0===r.complete&&(r.complete=it);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(dk){}}),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(dk){"undefined"!==typeof console&&console.error&&console.error(dk)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function it(){}function st(e){return e&&e._delegate?e._delegate:e}class at{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ot="[DEFAULT]";class lt{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new He;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(dk){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(dk){if(r)return null;throw dk}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:ot})}catch(dk){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(dk){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ot;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ot;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ot;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,s]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&s.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===ot?void 0:i),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(s){}var i;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ot;return this.component?this.component.multipleInstances?e:ot:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ct{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new lt(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const ut=[];var dt;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(dt||(dt={}));const ht={debug:dt.DEBUG,verbose:dt.VERBOSE,info:dt.INFO,warn:dt.WARN,error:dt.ERROR,silent:dt.SILENT},ft=dt.INFO,pt={[dt.DEBUG]:"log",[dt.VERBOSE]:"log",[dt.INFO]:"info",[dt.WARN]:"warn",[dt.ERROR]:"error"},mt=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=pt[t];if(!r)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);for(var i=arguments.length,s=new Array(i>2?i-2:0),a=2;a<i;a++)s[a-2]=arguments[a];console[r](`[${n}]  ${e.name}:`,...s)};class gt{constructor(e){this.name=e,this._logLevel=ft,this._logHandler=mt,this._userLogHandler=null,ut.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in dt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?ht[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,dt.DEBUG,...t),this._logHandler(this,dt.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,dt.VERBOSE,...t),this._logHandler(this,dt.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,dt.INFO,...t),this._logHandler(this,dt.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,dt.WARN,...t),this._logHandler(this,dt.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,dt.ERROR,...t),this._logHandler(this,dt.ERROR,...t)}}let vt,yt;const bt=new WeakMap,wt=new WeakMap,xt=new WeakMap,kt=new WeakMap,Et=new WeakMap;let St={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return wt.get(e);if("objectStoreNames"===t)return e.objectStoreNames||xt.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Tt(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function _t(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(yt||(yt=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Ct(this),n),Tt(bt.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Tt(e.apply(Ct(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const s=e.call(Ct(this),t,...r);return xt.set(s,t.sort?t.sort():[t]),Tt(s)}}function Nt(e){return"function"===typeof e?_t(e):(e instanceof IDBTransaction&&function(e){if(wt.has(e))return;const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",s),e.removeEventListener("abort",s)},i=()=>{t(),r()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",s),e.addEventListener("abort",s)});wt.set(e,t)}(e),t=e,(vt||(vt=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some(e=>t instanceof e)?new Proxy(e,St):e);var t}function Tt(e){if(e instanceof IDBRequest)return function(e){const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",s)},i=()=>{t(Tt(e.result)),r()},s=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",s)});return t.then(t=>{t instanceof IDBCursor&&bt.set(t,e)}).catch(()=>{}),Et.set(t,e),t}(e);if(kt.has(e))return kt.get(e);const t=Nt(e);return t!==e&&(kt.set(e,t),Et.set(t,e)),t}const Ct=e=>Et.get(e);const It=["get","getKey","getAll","getAllKeys","count"],jt=["put","add","delete","clear"],At=new Map;function Dt(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(At.get(t))return At.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=jt.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!It.includes(n))return;const s=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let s=t.store;for(var a=arguments.length,o=new Array(a>1?a-1:0),l=1;l<a;l++)o[l-1]=arguments[l];return r&&(s=s.index(o.shift())),(await Promise.all([s[n](...o),i&&t.done]))[0]};return At.set(t,s),s}St=(e=>({...e,get:(t,n,r)=>Dt(t,n)||e.get(t,n,r),has:(t,n)=>!!Dt(t,n)||e.has(t,n)}))(St);class Ot{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null}).filter(e=>e).join(" ")}}const Pt="@firebase/app",Rt="0.9.13",Lt=new gt("@firebase/app"),Mt="@firebase/app-compat",Ft="@firebase/analytics-compat",Ut="@firebase/analytics",Vt="@firebase/app-check-compat",zt="@firebase/app-check",Bt="@firebase/auth",qt="@firebase/auth-compat",$t="@firebase/database",Wt="@firebase/database-compat",Ht="@firebase/functions",Kt="@firebase/functions-compat",Gt="@firebase/installations",Qt="@firebase/installations-compat",Yt="@firebase/messaging",Jt="@firebase/messaging-compat",Xt="@firebase/performance",Zt="@firebase/performance-compat",en="@firebase/remote-config",tn="@firebase/remote-config-compat",nn="@firebase/storage",rn="@firebase/storage-compat",sn="@firebase/firestore",an="@firebase/firestore-compat",on="firebase",ln="[DEFAULT]",cn={[Pt]:"fire-core",[Mt]:"fire-core-compat",[Ut]:"fire-analytics",[Ft]:"fire-analytics-compat",[zt]:"fire-app-check",[Vt]:"fire-app-check-compat",[Bt]:"fire-auth",[qt]:"fire-auth-compat",[$t]:"fire-rtdb",[Wt]:"fire-rtdb-compat",[Ht]:"fire-fn",[Kt]:"fire-fn-compat",[Gt]:"fire-iid",[Qt]:"fire-iid-compat",[Yt]:"fire-fcm",[Jt]:"fire-fcm-compat",[Xt]:"fire-perf",[Zt]:"fire-perf-compat",[en]:"fire-rc",[tn]:"fire-rc-compat",[nn]:"fire-gcs",[rn]:"fire-gcs-compat",[sn]:"fire-fst",[an]:"fire-fst-compat","fire-js":"fire-js",[on]:"fire-js-all"},un=new Map,dn=new Map;function hn(e,t){try{e.container.addComponent(t)}catch(dk){Lt.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,dk)}}function fn(e){const t=e.name;if(dn.has(t))return Lt.debug(`There were multiple attempts to register component ${t}.`),!1;dn.set(t,e);for(const n of un.values())hn(n,e);return!0}function pn(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}const mn=new Ye("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class gn{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new at("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw mn.create("app-deleted",{appName:this._name})}}const vn="9.23.0";function yn(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:ln,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw mn.create("bad-app-name",{appName:String(i)});if(n||(n=$e()),!n)throw mn.create("no-options");const s=un.get(i);if(s){if(Xe(n,s.options)&&Xe(r,s.config))return s;throw mn.create("duplicate-app",{appName:i})}const a=new ct(i);for(const l of dn.values())a.addComponent(l);const o=new gn(n,r,a);return un.set(i,o),o}function bn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ln;const t=un.get(e);if(!t&&e===ln&&$e())return yn();if(!t)throw mn.create("no-app",{appName:e});return t}function wn(e,t,n){var r;let i=null!==(r=cn[e])&&void 0!==r?r:e;n&&(i+=`-${n}`);const s=i.match(/\s|\//),a=t.match(/\s|\//);if(s||a){const e=[`Unable to register library "${i}" with version "${t}":`];return s&&e.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&a&&e.push("and"),a&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void Lt.warn(e.join(" "))}fn(new at(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}const xn="firebase-heartbeat-store";let kn=null;function En(){return kn||(kn=function(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=indexedDB.open(e,t),o=Tt(a);return r&&a.addEventListener("upgradeneeded",e=>{r(Tt(a.result),e.oldVersion,e.newVersion,Tt(a.transaction),e)}),n&&a.addEventListener("blocked",e=>n(e.oldVersion,e.newVersion,e)),o.then(e=>{s&&e.addEventListener("close",()=>s()),i&&e.addEventListener("versionchange",e=>i(e.oldVersion,e.newVersion,e))}).catch(()=>{}),o}("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)e.createObjectStore(xn)}}).catch(e=>{throw mn.create("idb-open",{originalErrorMessage:e.message})})),kn}async function Sn(e,t){try{const n=(await En()).transaction(xn,"readwrite"),r=n.objectStore(xn);await r.put(t,_n(e)),await n.done}catch(dk){if(dk instanceof Qe)Lt.warn(dk.message);else{const t=mn.create("idb-set",{originalErrorMessage:null===dk||void 0===dk?void 0:dk.message});Lt.warn(t.message)}}}function _n(e){return`${e.name}!${e.options.appId}`}class Nn{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Cn(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),t=Tn();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==t&&!this._heartbeatsCache.heartbeats.some(e=>e.date===t))return this._heartbeatsCache.heartbeats.push({date:t,agent:e}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const e=Tn(),{heartbeatsToSend:t,unsentEntries:n}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find(e=>e.agent===i.agent);if(e){if(e.dates.push(i.date),In(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),In(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),r=Ue(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}}function Tn(){return(new Date).toISOString().substring(0,10)}class Cn{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!Ge()&&new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}}).then(()=>!0).catch(()=>!1)}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=await En();return await t.transaction(xn).objectStore(xn).get(_n(e))}catch(dk){if(dk instanceof Qe)Lt.warn(dk.message);else{const t=mn.create("idb-get",{originalErrorMessage:null===dk||void 0===dk?void 0:dk.message});Lt.warn(t.message)}}}(this.app);return e||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Sn(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Sn(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function In(e){return Ue(JSON.stringify({version:2,heartbeats:e})).length}var jn;jn="",fn(new at("platform-logger",e=>new Ot(e),"PRIVATE")),fn(new at("heartbeat",e=>new Nn(e),"PRIVATE")),wn(Pt,Rt,jn),wn(Pt,Rt,"esm2017"),wn("fire-js","");function An(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;function Dn(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const On=Dn,Pn=new Ye("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Rn=new gt("@firebase/auth");function Ln(e){if(Rn.logLevel<=dt.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Rn.error(`Auth (${vn}): ${e}`,...n)}}function Mn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Vn(e,...n)}function Fn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Vn(e,...n)}function Un(e,t,n){const r=Object.assign(Object.assign({},On()),{[t]:n});return new Ye("auth","Firebase",r).create(t,{appName:e.name})}function Vn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return Pn.create(e,...n)}function zn(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw Vn(t,...r)}}function Bn(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Ln(t),new Error(t)}function qn(e,t){e||Bn(t)}function $n(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Wn(){return"http:"===Hn()||"https:"===Hn()}function Hn(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}function Kn(){return!("undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Wn()||function(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}()||"connection"in navigator))||navigator.onLine}class Gn{constructor(e,t){this.shortDelay=e,this.longDelay=t,qn(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ke())||"object"===typeof navigator&&"ReactNative"===navigator.product}get(){return Kn()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Qn(e,t){qn(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class Yn{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void Bn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void Bn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void Bn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Jn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Xn=new Gn(3e4,6e4);function Zn(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function er(e,t,n,r){return tr(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},async()=>{let i={},s={};r&&("GET"===t?s=r:i={body:JSON.stringify(r)});const a=et(Object.assign({key:e.config.apiKey},s)).slice(1),o=await e._getAdditionalHeaders();return o["Content-Type"]="application/json",e.languageCode&&(o["X-Firebase-Locale"]=e.languageCode),Yn.fetch()(rr(e,e.config.apiHost,n,a),Object.assign({method:t,headers:o,referrerPolicy:"no-referrer"},i))})}async function tr(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},Jn),t);try{const t=new ir(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const s=await i.json();if("needConfirmation"in s)throw sr(e,"account-exists-with-different-credential",s);if(i.ok&&!("errorMessage"in s))return s;{const t=i.ok?s.errorMessage:s.error.message,[n,a]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw sr(e,"credential-already-in-use",s);if("EMAIL_EXISTS"===n)throw sr(e,"email-already-in-use",s);if("USER_DISABLED"===n)throw sr(e,"user-disabled",s);const o=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(a)throw Un(e,o,a);Mn(e,o)}}catch(dk){if(dk instanceof Qe)throw dk;Mn(e,"network-request-failed",{message:String(dk)})}}async function nr(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const s=await er(e,t,n,r,i);return"mfaPendingCredential"in s&&Mn(e,"multi-factor-auth-required",{_serverResponse:s}),s}function rr(e,t,n,r){const i=`${t}${n}?${r}`;return e.config.emulator?Qn(e.config,i):`${e.config.apiScheme}://${i}`}class ir{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((e,t)=>{this.timer=setTimeout(()=>t(Fn(this.auth,"network-request-failed")),Xn.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function sr(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Fn(e,t,r);return i.customData._tokenResponse=n,i}function ar(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(dk){}}function or(e){return 1e3*Number(e)}function lr(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return Ln("JWT malformed, contained fewer than 3 sections"),null;try{const e=Ve(n);return e?JSON.parse(e):(Ln("Failed to decode base64 JWT payload"),null)}catch(dk){return Ln("Caught error parsing JWT payload as JSON",null===dk||void 0===dk?void 0:dk.toString()),null}}async function cr(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(dk){throw dk instanceof Qe&&function(e){let{code:t}=e;return"auth/user-disabled"===t||"auth/user-token-expired"===t}(dk)&&e.auth.currentUser===e&&await e.auth.signOut(),dk}}class ur{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(dk){return void("auth/network-request-failed"===(null===dk||void 0===dk?void 0:dk.code)&&this.schedule(!0))}this.schedule()}}class dr{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=ar(this.lastLoginAt),this.creationTime=ar(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function hr(e){var t;const n=e.auth,r=await e.getIdToken(),i=await cr(e,async function(e,t){return er(e,"POST","/v1/accounts:lookup",t)}(n,{idToken:r}));zn(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const s=i.users[0];e._notifyReloadListener(s);const a=(null===(t=s.providerUserInfo)||void 0===t?void 0:t.length)?s.providerUserInfo.map(e=>{var{providerId:t}=e,n=An(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}):[];const o=(l=e.providerData,c=a,[...l.filter(e=>!c.some(t=>t.providerId===e.providerId)),...c]);var l,c;const u=e.isAnonymous,d=!(e.email&&s.passwordHash)&&!(null===o||void 0===o?void 0:o.length),h=!!u&&d,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new dr(s.createdAt,s.lastLoginAt),isAnonymous:h};Object.assign(e,f)}class fr{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){zn(e.idToken,"internal-error"),zn("undefined"!==typeof e.idToken,"internal-error"),zn("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){const t=lr(e);return zn(t,"internal-error"),zn("undefined"!==typeof t.exp,"internal-error"),zn("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}async getToken(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return zn(!this.accessToken||this.refreshToken,e,"user-token-expired"),t||!this.accessToken||this.isExpired?this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null:this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await tr(e,{},async()=>{const n=et({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,s=rr(e,r,"/v1/token",`key=${i}`),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Yn.fetch()(s,{method:"POST",headers:a,body:n})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,s=new fr;return n&&(zn("string"===typeof n,"internal-error",{appName:e}),s.refreshToken=n),r&&(zn("string"===typeof r,"internal-error",{appName:e}),s.accessToken=r),i&&(zn("number"===typeof i,"internal-error",{appName:e}),s.expirationTime=i),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new fr,this.toJSON())}_performRefresh(){return Bn("not implemented")}}function pr(e,t){zn("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class mr{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=An(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ur(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new dr(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await cr(this,this.stsTokenManager.getToken(this.auth,e));return zn(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=st(e),r=await n.getIdToken(t),i=lr(r);zn(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"===typeof i.firebase?i.firebase:void 0,a=null===s||void 0===s?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:ar(or(i.auth_time)),issuedAtTime:ar(or(i.iat)),expirationTime:ar(or(i.exp)),signInProvider:a||null,signInSecondFactor:(null===s||void 0===s?void 0:s.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=st(e);await hr(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(zn(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(e=>Object.assign({},e)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new mr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){zn(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await hr(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await cr(this,async function(e,t){return er(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,s,a,o,l,c;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,d=null!==(r=t.email)&&void 0!==r?r:void 0,h=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(s=t.photoURL)&&void 0!==s?s:void 0,p=null!==(a=t.tenantId)&&void 0!==a?a:void 0,m=null!==(o=t._redirectEventId)&&void 0!==o?o:void 0,g=null!==(l=t.createdAt)&&void 0!==l?l:void 0,v=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:y,emailVerified:b,isAnonymous:w,providerData:x,stsTokenManager:k}=t;zn(y&&k,e,"internal-error");const E=fr.fromJSON(this.name,k);zn("string"===typeof y,e,"internal-error"),pr(u,e.name),pr(d,e.name),zn("boolean"===typeof b,e,"internal-error"),zn("boolean"===typeof w,e,"internal-error"),pr(h,e.name),pr(f,e.name),pr(p,e.name),pr(m,e.name),pr(g,e.name),pr(v,e.name);const S=new mr({uid:y,auth:e,email:d,emailVerified:b,displayName:u,isAnonymous:w,photoURL:f,phoneNumber:h,tenantId:p,stsTokenManager:E,createdAt:g,lastLoginAt:v});return x&&Array.isArray(x)&&(S.providerData=x.map(e=>Object.assign({},e))),m&&(S._redirectEventId=m),S}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new fr;r.updateFromServerResponse(t);const i=new mr({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await hr(i),i}}const gr=new Map;function vr(e){qn(e instanceof Function,"Expected a class definition");let t=gr.get(e);return t?(qn(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,gr.set(e,t),t)}class yr{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}yr.type="NONE";const br=yr;function wr(e,t,n){return`firebase:${e}:${t}:${n}`}class xr{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=wr(this.userKey,r.apiKey,i),this.fullPersistenceKey=wr("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?mr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new xr(vr(br),e,n);const r=(await Promise.all(t.map(async e=>{if(await e._isAvailable())return e}))).filter(e=>e);let i=r[0]||vr(br);const s=wr(n,e.config.apiKey,e.name);let a=null;for(const c of t)try{const t=await c._get(s);if(t){const n=mr._fromJSON(e,t);c!==i&&(a=n),i=c;break}}catch(l){}const o=r.filter(e=>e._shouldAllowMigration);return i._shouldAllowMigration&&o.length?(i=o[0],a&&await i._set(s,a.toJSON()),await Promise.all(t.map(async e=>{if(e!==i)try{await e._remove(s)}catch(l){}})),new xr(i,e,n)):new xr(i,e,n)}}function kr(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Nr(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Er(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Cr(t))return"Blackberry";if(Ir(t))return"Webos";if(Sr(t))return"Safari";if((t.includes("chrome/")||_r(t))&&!t.includes("edge/"))return"Chrome";if(Tr(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function Er(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ke();return/firefox\//i.test(e)}function Sr(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ke()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function _r(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ke();return/crios\//i.test(e)}function Nr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ke();return/iemobile/i.test(e)}function Tr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ke();return/android/i.test(e)}function Cr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ke();return/blackberry/i.test(e)}function Ir(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ke();return/webos/i.test(e)}function jr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ke();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Ar(){return function(){const e=Ke();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function Dr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ke();return jr(e)||Tr(e)||Ir(e)||Cr(e)||/windows phone/i.test(e)||Nr(e)}function Or(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=kr(Ke());break;case"Worker":t=`${kr(Ke())}-${e}`;break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return`${t}/JsCore/${vn}/${r}`}async function Pr(e,t){return er(e,"GET","/v2/recaptchaConfig",Zn(e,t))}function Rr(e){return void 0!==e&&void 0!==e.enterprise}class Lr{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(e=>"EMAIL_PASSWORD_PROVIDER"===e.provider&&"OFF"!==e.enforcementState)}}function Mr(e){return new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=Fn("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)})}function Fr(e){return`__${e}${Math.floor(1e6*Math.random())}`}class Ur{constructor(e){this.type="recaptcha-enterprise",this.auth=qr(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;Rr(i)?i.enterprise.ready(()=>{i.enterprise.execute(t,{action:e}).then(e=>{n(e)}).catch(()=>{n("NO_RECAPTCHA")})}):r(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise(async(t,n)=>{Pr(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(r=>{if(void 0!==r.recaptchaKey){const n=new Lr(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))}).catch(e=>{n(e)})})})(this.auth).then(i=>{if(!t&&Rr(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));Mr("https://www.google.com/recaptcha/enterprise.js?render="+i).then(()=>{n(i,e,r)}).catch(e=>{r(e)})}}).catch(e=>{r(e)})})}}async function Vr(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=new Ur(e);let s;try{s=await i.verify(n)}catch(o){s=await i.verify(n,!0)}const a=Object.assign({},t);return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}class zr{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise((n,r)=>{try{n(e(t))}catch(dk){r(dk)}});n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(dk){t.reverse();for(const r of t)try{r()}catch(n){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===dk||void 0===dk?void 0:dk.message})}}}class Br{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new $r(this),this.idTokenSubscription=new $r(this),this.beforeStateQueue=new zr(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Pn,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=vr(t)),this._initializationPromise=this.queue(async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await xr.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(dk){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUser(e){var t;const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,s=null===r||void 0===r?void 0:r._redirectEventId,a=await this.tryRedirectSignIn(e);n&&n!==s||!(null===a||void 0===a?void 0:a.user)||(r=a.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(dk){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(dk))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return zn(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(dk){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await hr(e)}catch(dk){if("auth/network-request-failed"!==(null===dk||void 0===dk?void 0:dk.code))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const t=e?st(e):null;return t&&zn(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&zn(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(vr(e))})}async initializeRecaptchaConfig(){const e=await Pr(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),t=new Lr(e);if(null==this.tenantId?this._agentRecaptchaConfig=t:this._tenantRecaptchaConfigs[this.tenantId]=t,t.emailPasswordEnabled){new Ur(this).verify()}}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Ye("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&vr(e)||this._popupRedirectResolver;zn(t,this,"argument-error"),this.redirectPersistenceManager=await xr.create(this,[vr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue(async()=>{}),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t),s=this._isInitialized?Promise.resolve():this._initializationPromise;return zn(s,this,"internal-error"),s.then(()=>i(this.currentUser)),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return zn(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Or(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(Rn.logLevel<=dt.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Rn.warn(`Auth (${vn}): ${e}`,...n)}}(`Error while retrieving App Check token: ${t.error}`),null===t||void 0===t?void 0:t.token}}function qr(e){return st(e)}class $r{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const n=new rt(e,t);return n.subscribe.bind(n)}(e=>this.observer=e)}get next(){return zn(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Wr(e,t,n){const r=qr(e);zn(r._canInitEmulator,r,"emulator-config-failed"),zn(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null===n||void 0===n?void 0:n.disableWarnings),s=Hr(t),{host:a,port:o}=function(e){const t=Hr(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:Kr(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:Kr(t)}}}(t),l=null===o?"":`:${o}`;r.config.emulator={url:`${s}//${a}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:a,port:o,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Hr(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Kr(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class Gr{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Bn("not implemented")}_getIdTokenResponse(e){return Bn("not implemented")}_linkToIdToken(e,t){return Bn("not implemented")}_getReauthenticationResolver(e){return Bn("not implemented")}}async function Qr(e,t){return er(e,"POST","/v1/accounts:update",t)}async function Yr(e,t){return nr(e,"POST","/v1/accounts:signInWithPassword",Zn(e,t))}class Jr extends Gr{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new Jr(e,t,"password")}static _fromEmailAndCode(e,t){return new Jr(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){var t;switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(null===(t=e._getRecaptchaConfig())||void 0===t?void 0:t.emailPasswordEnabled){const t=await Vr(e,n,"signInWithPassword");return Yr(e,t)}return Yr(e,n).catch(async t=>{if("auth/missing-recaptcha-token"===t.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const t=await Vr(e,n,"signInWithPassword");return Yr(e,t)}return Promise.reject(t)});case"emailLink":return async function(e,t){return nr(e,"POST","/v1/accounts:signInWithEmailLink",Zn(e,t))}(e,{email:this._email,oobCode:this._password});default:Mn(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return Qr(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return async function(e,t){return nr(e,"POST","/v1/accounts:signInWithEmailLink",Zn(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:Mn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Xr(e,t){return nr(e,"POST","/v1/accounts:signInWithIdp",Zn(e,t))}class Zr extends Gr{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Zr(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Mn("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=An(t,["providerId","signInMethod"]);if(!n||!r)return null;const s=new Zr(n,r);return s.idToken=i.idToken||void 0,s.accessToken=i.accessToken||void 0,s.secret=i.secret,s.nonce=i.nonce,s.pendingToken=i.pendingToken||null,s}_getIdTokenResponse(e){return Xr(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Xr(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Xr(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=et(t)}return e}}const ei={USER_NOT_FOUND:"user-not-found"};class ti extends Gr{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new ti({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new ti({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return nr(e,"POST","/v1/accounts:signInWithPhoneNumber",Zn(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await nr(e,"POST","/v1/accounts:signInWithPhoneNumber",Zn(e,t));if(n.temporaryProof)throw sr(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return nr(e,"POST","/v1/accounts:signInWithPhoneNumber",Zn(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),ei)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new ti({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class ni{constructor(e){var t,n,r,i,s,a;const o=tt(nt(e)),l=null!==(t=o.apiKey)&&void 0!==t?t:null,c=null!==(n=o.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=o.mode)&&void 0!==r?r:null);zn(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(i=o.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(s=o.languageCode)&&void 0!==s?s:null,this.tenantId=null!==(a=o.tenantId)&&void 0!==a?a:null}static parseLink(e){const t=function(e){const t=tt(nt(e)).link,n=t?tt(nt(t)).deep_link_id:null,r=tt(nt(e)).deep_link_id;return(r?tt(nt(r)).link:null)||r||n||t||e}(e);try{return new ni(t)}catch(n){return null}}}class ri{constructor(){this.providerId=ri.PROVIDER_ID}static credential(e,t){return Jr._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=ni.parseLink(t);return zn(n,"argument-error"),Jr._fromEmailAndCode(e,n.code,n.tenantId)}}ri.PROVIDER_ID="password",ri.EMAIL_PASSWORD_SIGN_IN_METHOD="password",ri.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class ii{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class si extends ii{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class ai extends si{constructor(){super("facebook.com")}static credential(e){return Zr._fromParams({providerId:ai.PROVIDER_ID,signInMethod:ai.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ai.credentialFromTaggedObject(e)}static credentialFromError(e){return ai.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return ai.credential(t.oauthAccessToken)}catch(n){return null}}}ai.FACEBOOK_SIGN_IN_METHOD="facebook.com",ai.PROVIDER_ID="facebook.com";class oi extends si{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Zr._fromParams({providerId:oi.PROVIDER_ID,signInMethod:oi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return oi.credentialFromTaggedObject(e)}static credentialFromError(e){return oi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return oi.credential(n,r)}catch(i){return null}}}oi.GOOGLE_SIGN_IN_METHOD="google.com",oi.PROVIDER_ID="google.com";class li extends si{constructor(){super("github.com")}static credential(e){return Zr._fromParams({providerId:li.PROVIDER_ID,signInMethod:li.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return li.credentialFromTaggedObject(e)}static credentialFromError(e){return li.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return li.credential(t.oauthAccessToken)}catch(n){return null}}}li.GITHUB_SIGN_IN_METHOD="github.com",li.PROVIDER_ID="github.com";class ci extends si{constructor(){super("twitter.com")}static credential(e,t){return Zr._fromParams({providerId:ci.PROVIDER_ID,signInMethod:ci.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return ci.credentialFromTaggedObject(e)}static credentialFromError(e){return ci.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return ci.credential(n,r)}catch(i){return null}}}async function ui(e,t){return nr(e,"POST","/v1/accounts:signUp",Zn(e,t))}ci.TWITTER_SIGN_IN_METHOD="twitter.com",ci.PROVIDER_ID="twitter.com";class di{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await mr._fromIdTokenResponse(e,n,r),s=hi(n);return new di({user:i,providerId:s,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=hi(n);return new di({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function hi(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class fi extends Qe{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,fi.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new fi(e,t,n,r)}}function pi(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(n=>{if("auth/multi-factor-auth-required"===n.code)throw fi._fromErrorAndOperation(e,n,t,r);throw n})}async function mi(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await cr(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return di._forOperation(e,"link",r)}async function gi(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e,i="reauthenticate";try{const s=await cr(e,pi(r,i,t,e),n);zn(s.idToken,r,"internal-error");const a=lr(s.idToken);zn(a,r,"internal-error");const{sub:o}=a;return zn(e.uid===o,r,"user-mismatch"),di._forOperation(e,i,s)}catch(dk){throw"auth/user-not-found"===(null===dk||void 0===dk?void 0:dk.code)&&Mn(r,"user-mismatch"),dk}}async function vi(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r="signIn",i=await pi(e,r,t),s=await di._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(s.user),s}async function yi(e,t){return vi(qr(e),t)}async function bi(e,t){return gi(st(e),t)}async function wi(e,t,n){const{auth:r}=e,i={idToken:await e.getIdToken(),returnSecureToken:!0};t&&(i.email=t),n&&(i.password=n);const s=await cr(e,Qr(r,i));await e._updateTokensIfNecessary(s,!0)}function xi(e,t,n,r){return st(e).onAuthStateChanged(t,n,r)}new WeakMap;const ki="__sak";class Ei{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(ki,"1"),this.storage.removeItem(ki),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class Si extends Ei{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const e=Ke();return Sr(e)||jr(e)}()&&function(){try{return!(!window||window===window.top)}catch(dk){return!1}}(),this.fallbackToPolling=Dr(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys((e,t,n)=>{this.notifyListeners(e,n)});const n=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const r=this.storage.getItem(n);if(e.newValue!==r)null!==e.newValue?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!t)return}const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);Ar()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Si.type="LOCAL";const _i=Si;class Ni extends Ei{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Ni.type="SESSION";const Ti=Ni;class Ci{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(t=>t.isListeningto(e));if(t)return t;const n=new Ci(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,s=this.handlersMap[r];if(!(null===s||void 0===s?void 0:s.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const a=Array.from(s).map(async e=>e(t.origin,i)),o=await function(e){return Promise.all(e.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}(a);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:o})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function Ii(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Ci.receivers=[];class ji{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,s;return new Promise((a,o)=>{const l=Ii("",20);r.port1.start();const c=setTimeout(()=>{o(new Error("unsupported_event"))},n);s={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),i=setTimeout(()=>{o(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(t.data.response);break;default:clearTimeout(c),clearTimeout(i),o(new Error("invalid_response"))}}},this.handlers.add(s),r.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}function Ai(){return window}function Di(){return"undefined"!==typeof Ai().WorkerGlobalScope&&"function"===typeof Ai().importScripts}const Oi="firebaseLocalStorageDb",Pi="firebaseLocalStorage",Ri="fbase_key";class Li{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Mi(e,t){return e.transaction([Pi],t?"readwrite":"readonly").objectStore(Pi)}function Fi(){const e=indexedDB.open(Oi,1);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const t=e.result;try{t.createObjectStore(Pi,{keyPath:Ri})}catch(dk){n(dk)}}),e.addEventListener("success",async()=>{const n=e.result;n.objectStoreNames.contains(Pi)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(Oi);return new Li(e).toPromise()}(),t(await Fi()))})})}async function Ui(e,t,n){const r=Mi(e,!0).put({[Ri]:t,value:n});return new Li(r).toPromise()}function Vi(e,t){const n=Mi(e,!0).delete(t);return new Li(n).toPromise()}class zi{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db||(this.db=await Fi()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(dk){if(t++>3)throw dk;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Di()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ci._getInstance(Di()?self:null),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new ji(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Fi();return await Ui(e,ki,"1"),await Vi(e,ki),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>Ui(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(t=>async function(e,t){const n=Mi(e,!1).get(t),r=await new Li(n).toPromise();return void 0===r?null:r.value}(t,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Vi(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(e=>{const t=Mi(e,!1).getAll();return new Li(t).toPromise()});if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}zi.type="LOCAL";const Bi=zi;Fr("rcb"),new Gn(3e4,6e4);const qi="recaptcha";async function $i(e,t,n){var r;const i=await n.verify();try{let s;if(zn("string"===typeof i,e,"argument-error"),zn(n.type===qi,e,"argument-error"),s="string"===typeof t?{phoneNumber:t}:t,"session"in s){const t=s.session;if("phoneNumber"in s){zn("enroll"===t.type,e,"internal-error");const n=await function(e,t){return er(e,"POST","/v2/accounts/mfaEnrollment:start",Zn(e,t))}(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:i}});return n.phoneSessionInfo.sessionInfo}{zn("signin"===t.type,e,"internal-error");const n=(null===(r=s.multiFactorHint)||void 0===r?void 0:r.uid)||s.multiFactorUid;zn(n,e,"missing-multi-factor-info");const a=await function(e,t){return er(e,"POST","/v2/accounts/mfaSignIn:start",Zn(e,t))}(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:i}});return a.phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await async function(e,t){return er(e,"POST","/v1/accounts:sendVerificationCode",Zn(e,t))}(e,{phoneNumber:s.phoneNumber,recaptchaToken:i});return t}}finally{n._reset()}}class Wi{constructor(e){this.providerId=Wi.PROVIDER_ID,this.auth=qr(e)}verifyPhoneNumber(e,t){return $i(this.auth,e,st(t))}static credential(e,t){return ti._fromVerification(e,t)}static credentialFromResult(e){const t=e;return Wi.credentialFromTaggedObject(t)}static credentialFromError(e){return Wi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?ti._fromTokenResponse(n,r):null}}function Hi(e,t){return t?vr(t):(zn(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Wi.PROVIDER_ID="phone",Wi.PHONE_SIGN_IN_METHOD="phone";class Ki extends Gr{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Xr(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Xr(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Xr(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Gi(e){return vi(e.auth,new Ki(e),e.bypassAuthState)}function Qi(e){const{auth:t,user:n}=e;return zn(n,t,"internal-error"),gi(n,new Ki(e),e.bypassAuthState)}async function Yi(e){const{auth:t,user:n}=e;return zn(n,t,"internal-error"),mi(n,new Ki(e),e.bypassAuthState)}class Ji{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(dk){this.reject(dk)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:s,type:a}=e;if(s)return void this.reject(s);const o={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(o))}catch(dk){this.reject(dk)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Gi;case"linkViaPopup":case"linkViaRedirect":return Yi;case"reauthViaPopup":case"reauthViaRedirect":return Qi;default:Mn(this.auth,"internal-error")}}resolve(e){qn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){qn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Xi=new Gn(2e3,1e4);class Zi extends Ji{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,Zi.currentPopupAction&&Zi.currentPopupAction.cancel(),Zi.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return zn(e,this.auth,"internal-error"),e}async onExecution(){qn(1===this.filter.length,"Popup operations only handle one event");const e=Ii();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(Fn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(Fn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Zi.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Fn(this.auth,"popup-closed-by-user"))},8e3):this.pollId=window.setTimeout(e,Xi.get())};e()}}Zi.currentPopupAction=null;const es=new Map;class ts extends Ji{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=es.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=is(t),r=rs(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(dk){e=()=>Promise.reject(dk)}es.set(this.auth._key(),e)}return this.bypassAuthState||es.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function ns(e,t){es.set(e._key(),t)}function rs(e){return vr(e._redirectPersistence)}function is(e){return wr("pendingRedirect",e.config.apiKey,e.name)}async function ss(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=qr(e),i=Hi(r,t),s=new ts(r,i,n),a=await s.execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,t)),a}class as{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ls(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!ls(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Fn(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(os(e))}saveEventToCache(e){this.cachedEventUids.add(os(e)),this.lastProcessedEventTime=Date.now()}}function os(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(e=>e).join("-")}function ls(e){let{type:t,error:n}=e;return"unknown"===t&&"auth/no-auth-event"===(null===n||void 0===n?void 0:n.code)}const cs=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,us=/^https?/;async function ds(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return er(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const r of t)try{if(hs(r))return}catch(n){}Mn(e,"unauthorized-domain")}function hs(e){const t=$n(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!us.test(n))return!1;if(cs.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const fs=new Gn(3e4,6e4);function ps(){const e=Ai().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}let ms=null;function gs(e){return ms=ms||function(e){return new Promise((t,n)=>{var r,i,s;function a(){ps(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{ps(),n(Fn(e,"network-request-failed"))},timeout:fs.get()})}if(null===(i=null===(r=Ai().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(s=Ai().gapi)||void 0===s?void 0:s.load)){const t=Fr("iframefcb");return Ai()[t]=()=>{gapi.load?a():n(Fn(e,"network-request-failed"))},Mr(`https://apis.google.com/js/api.js?onload=${t}`).catch(e=>n(e))}a()}}).catch(e=>{throw ms=null,e})}(e),ms}const vs=new Gn(5e3,15e3),ys={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},bs=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ws(e){const t=e.config;zn(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?Qn(t,"emulator/auth/iframe"):`https://${e.config.authDomain}/__/auth/iframe`,r={apiKey:t.apiKey,appName:e.name,v:vn},i=bs.get(e.config.apiHost);i&&(r.eid=i);const s=e._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${et(r).slice(1)}`}const xs={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class ks{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(dk){}}}function Es(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const s=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let o="";const l=Object.assign(Object.assign({},xs),{width:r.toString(),height:i.toString(),top:s,left:a}),c=Ke().toLowerCase();n&&(o=_r(c)?"_blank":n),Er(c)&&(t=t||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce((e,t)=>{let[n,r]=t;return`${e}${n}=${r},`},"");if(function(){var e;return jr(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ke())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==o)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",o),new ks(null);const d=window.open(t||"",o,u);zn(d,e,"popup-blocked");try{d.focus()}catch(dk){}return new ks(d)}const Ss="__/auth/handler",_s="emulator/auth/handler",Ns=encodeURIComponent("fac");async function Ts(e,t,n,r,i,s){zn(e.config.authDomain,e,"auth-domain-config-required"),zn(e.config.apiKey,e,"invalid-api-key");const a={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:vn,eventId:i};if(t instanceof ii){t.setDefaultLanguage(e.languageCode),a.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(a.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(s||{}))a[e]=t}if(t instanceof si){const e=t.getScopes().filter(e=>""!==e);e.length>0&&(a.scopes=e.join(","))}e.tenantId&&(a.tid=e.tenantId);const o=a;for(const u of Object.keys(o))void 0===o[u]&&delete o[u];const l=await e._getAppCheckToken(),c=l?`#${Ns}=${encodeURIComponent(l)}`:"";return`${function(e){let{config:t}=e;if(!t.emulator)return`https://${t.authDomain}/${Ss}`;return Qn(t,_s)}(e)}?${et(o).slice(1)}${c}`}const Cs="webStorageSupport";const Is=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ti,this._completeRedirectFn=ss,this._overrideRedirectResult=ns}async _openPopup(e,t,n,r){var i;qn(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return Es(e,await Ts(e,t,n,$n(),r),Ii())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){Ai().location.href=e}(await Ts(e,t,n,$n(),r)),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(qn(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){const t=await async function(e){const t=await gs(e),n=Ai().gapi;return zn(n,e,"internal-error"),t.open({where:document.body,url:ws(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ys,dontclear:!0},t=>new Promise(async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=Fn(e,"network-request-failed"),s=Ai().setTimeout(()=>{r(i)},vs.get());function a(){Ai().clearTimeout(s),n(t)}t.ping(a).then(a,()=>{r(i)})}))}(e),n=new as(e);return t.register("authEvent",t=>{zn(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Cs,{type:Cs},n=>{var r;const i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[Cs];void 0!==i&&t(!!i),Mn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=ds(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Dr()||Sr()||jr()}};var js="@firebase/auth",As="0.23.2";class Ds{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){zn(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Os=We("authIdTokenMaxAge")||300;let Ps=null;var Rs;Rs="Browser",fn(new at("auth",(e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:o}=r.options;zn(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:a,authDomain:o,clientPlatform:Rs,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Or(Rs)},c=new Br(r,i,s,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(vr);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),fn(new at("auth-internal",e=>(e=>new Ds(e))(qr(e.getProvider("auth").getImmediate())),"PRIVATE").setInstantiationMode("EXPLICIT")),wn(js,As,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(Rs)),wn(js,As,"esm2017");var Ls,Ms="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Fs={},Us=Us||{},Vs=Ms||self;function zs(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function Bs(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var qs="closure_uid_"+(1e9*Math.random()>>>0),$s=0;function Ws(e,t,n){return e.call.apply(e.bind,arguments)}function Hs(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Ks(e,t,n){return(Ks=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Ws:Hs).apply(null,arguments)}function Gs(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Qs(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}function Ys(){this.s=this.s,this.o=this.o}Ys.prototype.s=!1,Ys.prototype.sa=function(){var e;!this.s&&(this.s=!0,this.N(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,qs)&&e[qs]||(e[qs]=++$s))},Ys.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Js=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function Xs(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function Zs(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(zs(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function ea(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}ea.prototype.h=function(){this.defaultPrevented=!0};var ta=function(){if(!Vs.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Vs.addEventListener("test",()=>{},t),Vs.removeEventListener("test",()=>{},t)}catch(n){}return e}();function na(e){return/^[\s\xa0]*$/.test(e)}function ra(){var e=Vs.navigator;return e&&(e=e.userAgent)?e:""}function ia(e){return-1!=ra().indexOf(e)}function sa(e){return sa[" "](e),e}sa[" "]=function(){};var aa,oa,la=ia("Opera"),ca=ia("Trident")||ia("MSIE"),ua=ia("Edge"),da=ua||ca,ha=ia("Gecko")&&!(-1!=ra().toLowerCase().indexOf("webkit")&&!ia("Edge"))&&!(ia("Trident")||ia("MSIE"))&&!ia("Edge"),fa=-1!=ra().toLowerCase().indexOf("webkit")&&!ia("Edge");function pa(){var e=Vs.document;return e?e.documentMode:void 0}e:{var ma="",ga=function(){var e=ra();return ha?/rv:([^\);]+)(\)|;)/.exec(e):ua?/Edge\/([\d\.]+)/.exec(e):ca?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):fa?/WebKit\/(\S+)/.exec(e):la?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(ga&&(ma=ga?ga[1]:""),ca){var va=pa();if(null!=va&&va>parseFloat(ma)){aa=String(va);break e}}aa=ma}if(Vs.document&&ca){var ya=pa();oa=ya||(parseInt(aa,10)||void 0)}else oa=void 0;var ba=oa;function wa(e,t){if(ea.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(ha){e:{try{sa(t.nodeName);var i=!0;break e}catch(s){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:xa[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&wa.$.h.call(this)}}Qs(wa,ea);var xa={2:"touch",3:"pen",4:"mouse"};wa.prototype.h=function(){wa.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var ka="closure_listenable_"+(1e6*Math.random()|0),Ea=0;function Sa(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++Ea,this.fa=this.ia=!1}function _a(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function Na(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function Ta(e){const t={};for(const n in e)t[n]=e[n];return t}const Ca="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ia(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<Ca.length;t++)n=Ca[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function ja(e){this.src=e,this.g={},this.h=0}function Aa(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],s=Js(i,t);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(_a(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Da(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.fa&&s.listener==t&&s.capture==!!n&&s.la==r)return i}return-1}ja.prototype.add=function(e,t,n,r,i){var s=e.toString();(e=this.g[s])||(e=this.g[s]=[],this.h++);var a=Da(e,t,r,i);return-1<a?(t=e[a],n||(t.ia=!1)):((t=new Sa(t,this.src,s,!!r,i)).ia=n,e.push(t)),t};var Oa="closure_lm_"+(1e6*Math.random()|0),Pa={};function Ra(e,t,n,r,i){if(r&&r.once)return Ma(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)Ra(e,t[s],n,r,i);return null}return n=$a(n),e&&e[ka]?e.O(t,n,Bs(r)?!!r.capture:!!r,i):La(e,t,n,!1,r,i)}function La(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var a=Bs(i)?!!i.capture:!!i,o=Ba(e);if(o||(e[Oa]=o=new ja(e)),(n=o.add(t,n,r,a,s)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=za;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)ta||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Va(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Ma(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)Ma(e,t[s],n,r,i);return null}return n=$a(n),e&&e[ka]?e.P(t,n,Bs(r)?!!r.capture:!!r,i):La(e,t,n,!0,r,i)}function Fa(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)Fa(e,t[s],n,r,i);else r=Bs(r)?!!r.capture:!!r,n=$a(n),e&&e[ka]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=Da(s=e.g[t],n,r,i))&&(_a(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete e.g[t],e.h--)))):e&&(e=Ba(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Da(t,n,r,i)),(n=-1<e?t[e]:null)&&Ua(n))}function Ua(e){if("number"!==typeof e&&e&&!e.fa){var t=e.src;if(t&&t[ka])Aa(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Va(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Ba(t))?(Aa(n,e),0==n.h&&(n.src=null,t[Oa]=null)):_a(e)}}}function Va(e){return e in Pa?Pa[e]:Pa[e]="on"+e}function za(e,t){if(e.fa)e=!0;else{t=new wa(t,this);var n=e.listener,r=e.la||e.src;e.ia&&Ua(e),e=n.call(r,t)}return e}function Ba(e){return(e=e[Oa])instanceof ja?e:null}var qa="__closure_events_fn_"+(1e9*Math.random()>>>0);function $a(e){return"function"===typeof e?e:(e[qa]||(e[qa]=function(t){return e.handleEvent(t)}),e[qa])}function Wa(){Ys.call(this),this.i=new ja(this),this.S=this,this.J=null}function Ha(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,"string"===typeof t)t=new ea(t,e);else if(t instanceof ea)t.target=t.target||e;else{var i=t;Ia(t=new ea(r,e),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var a=t.g=n[s];i=Ka(a,r,!0,t)&&i}if(i=Ka(a=t.g=e,r,!0,t)&&i,i=Ka(a,r,!1,t)&&i,n)for(s=0;s<n.length;s++)i=Ka(a=t.g=n[s],r,!1,t)&&i}function Ka(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var a=t[s];if(a&&!a.fa&&a.capture==n){var o=a.listener,l=a.la||a.src;a.ia&&Aa(e.i,a),i=!1!==o.call(l,r)&&i}}return i&&!r.defaultPrevented}Qs(Wa,Ys),Wa.prototype[ka]=!0,Wa.prototype.removeEventListener=function(e,t,n,r){Fa(this,e,t,n,r)},Wa.prototype.N=function(){if(Wa.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)_a(n[r]);delete t.g[e],t.h--}}this.J=null},Wa.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Wa.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Ga=Vs.JSON.stringify;function Qa(){var e=no;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Ya=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new Ja,e=>e.reset());class Ja{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Xa(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function Za(e){Vs.setTimeout(()=>{throw e},0)}let eo,to=!1,no=new class{constructor(){this.h=this.g=null}add(e,t){const n=Ya.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},ro=()=>{const e=Vs.Promise.resolve(void 0);eo=()=>{e.then(io)}};var io=()=>{for(var e;e=Qa();){try{e.h.call(e.g)}catch(n){Za(n)}var t=Ya;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}to=!1};function so(e,t){Wa.call(this),this.h=e||1,this.g=t||Vs,this.j=Ks(this.qb,this),this.l=Date.now()}function ao(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}function oo(e,t,n){if("function"===typeof e)n&&(e=Ks(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Ks(e.handleEvent,e)}return 2147483647<Number(t)?-1:Vs.setTimeout(e,t||0)}function lo(e){e.g=oo(()=>{e.g=null,e.i&&(e.i=!1,lo(e))},e.j);const t=e.h;e.h=null,e.m.apply(null,t)}Qs(so,Wa),(Ls=so.prototype).ga=!1,Ls.T=null,Ls.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Ha(this,"tick"),this.ga&&(ao(this),this.start()))}},Ls.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Ls.N=function(){so.$.N.call(this),ao(this),delete this.g};class co extends Ys{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:lo(this)}N(){super.N(),this.g&&(Vs.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function uo(e){Ys.call(this),this.h=e,this.g={}}Qs(uo,Ys);var ho=[];function fo(e,t,n,r){Array.isArray(n)||(n&&(ho[0]=n.toString()),n=ho);for(var i=0;i<n.length;i++){var s=Ra(t,n[i],r||e.handleEvent,!1,e.h||e);if(!s)break;e.g[s.key]=s}}function po(e){Na(e.g,function(e,t){this.g.hasOwnProperty(t)&&Ua(e)},e),e.g={}}function mo(){this.g=!0}function go(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var a=1;a<i.length;a++)i[a]=""}}}return Ga(n)}catch(o){return t}}(e,n)+(r?" "+r:"")})}uo.prototype.N=function(){uo.$.N.call(this),po(this)},uo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},mo.prototype.Ea=function(){this.g=!1},mo.prototype.info=function(){};var vo={},yo=null;function bo(){return yo=yo||new Wa}function wo(e){ea.call(this,vo.Ta,e)}function xo(e){const t=bo();Ha(t,new wo(t))}function ko(e,t){ea.call(this,vo.STAT_EVENT,e),this.stat=t}function Eo(e){const t=bo();Ha(t,new ko(t,e))}function So(e,t){ea.call(this,vo.Ua,e),this.size=t}function _o(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return Vs.setTimeout(function(){e()},t)}vo.Ta="serverreachability",Qs(wo,ea),vo.STAT_EVENT="statevent",Qs(ko,ea),vo.Ua="timingevent",Qs(So,ea);var No={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},To={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Co(){}function Io(e){return e.h||(e.h=e.i())}function jo(){}Co.prototype.h=null;var Ao,Do={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Oo(){ea.call(this,"d")}function Po(){ea.call(this,"c")}function Ro(){}function Lo(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new uo(this),this.P=Fo,e=da?125:void 0,this.V=new so(e),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Mo}function Mo(){this.i=null,this.g="",this.h=!1}Qs(Oo,ea),Qs(Po,ea),Qs(Ro,Co),Ro.prototype.g=function(){return new XMLHttpRequest},Ro.prototype.i=function(){return{}},Ao=new Ro;var Fo=45e3,Uo={},Vo={};function zo(e,t,n){e.L=1,e.v=al(tl(t)),e.s=n,e.S=!0,Bo(e,null)}function Bo(e,t){e.G=Date.now(),Ho(e),e.A=tl(e.v);var n=e.A,r=e.W;Array.isArray(r)||(r=[String(r)]),bl(n.i,"t",r),e.C=0,n=e.l.J,e.h=new Mo,e.g=wc(e.l,n?t:null,!e.s),0<e.O&&(e.M=new co(Ks(e.Pa,e,e.g),e.O)),fo(e.U,e.g,"readystatechange",e.nb),t=e.I?Ta(e.I):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.A,e.u,e.s,t)):(e.u="GET",e.g.ha(e.A,e.u,null,t)),xo(),function(e,t,n,r,i,s){e.info(function(){if(e.g)if(s)for(var a="",o=s.split("&"),l=0;l<o.length;l++){var c=o[l].split("=");if(1<c.length){var u=c[0];c=c[1];var d=u.split("_");a=2<=d.length&&"type"==d[1]?a+(u+"=")+c+"&":a+(u+"=redacted&")}}else a=null;else a=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+a})}(e.j,e.u,e.A,e.m,e.W,e.s)}function qo(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.l.Ha)}function $o(e,t,n){let r,i=!0;for(;!e.J&&e.C<n.length;){if(r=Wo(e,n),r==Vo){4==t&&(e.o=4,Eo(14),i=!1),go(e.j,e.m,null,"[Incomplete Response]");break}if(r==Uo){e.o=4,Eo(15),go(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}go(e.j,e.m,r,null),Jo(e,r)}qo(e)&&r!=Vo&&r!=Uo&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,Eo(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.ba&&(e.ba=!0,(t=e.l).g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),hc(t),t.M=!0,Eo(11))):(go(e.j,e.m,n,"[Invalid Chunked Response]"),Yo(e),Qo(e))}function Wo(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Vo:(n=Number(t.substring(n,r)),isNaN(n)?Uo:(r+=1)+n>t.length?Vo:(t=t.slice(r,r+n),e.C=r+n,t))}function Ho(e){e.Y=Date.now()+e.P,Ko(e,e.P)}function Ko(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=_o(Ks(e.lb,e),t)}function Go(e){e.B&&(Vs.clearTimeout(e.B),e.B=null)}function Qo(e){0==e.l.H||e.J||mc(e.l,e)}function Yo(e){Go(e);var t=e.M;t&&"function"==typeof t.sa&&t.sa(),e.M=null,ao(e.V),po(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function Jo(e,t){try{var n=e.l;if(0!=n.H&&(n.g==e||Nl(n.i,e)))if(!e.K&&Nl(n.i,e)&&3==n.H){try{var r=n.Ja.g.parse(t)}catch(c){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<e.G))break e;pc(n),ic(n)}dc(n),Eo(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=_o(Ks(n.ib,n),6e3));if(1>=_l(n.i)&&n.oa){try{n.oa()}catch(c){}n.oa=void 0}}else vc(n,11)}else if((e.K||n.g==e)&&pc(n),!na(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){let c=i[t];if(n.V=c[0],c=c[1],2==n.H)if("c"==c[0]){n.K=c[1],n.pa=c[2];const t=c[3];null!=t&&(n.ra=t,n.l.info("VER="+n.ra));const i=c[4];null!=i&&(n.Ga=i,n.l.info("SVER="+n.Ga));const u=c[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const d=e.g;if(d){const e=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var s=r.i;s.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(Tl(s,s.h),s.h=null))}if(r.F){const e=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.Da=e,sl(r.I,r.F,e))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms"));var a=e;if((r=n).wa=bc(r,r.J?r.pa:null,r.Y),a.K){Cl(r.i,a);var o=a,l=r.L;l&&o.setTimeout(l),o.B&&(Go(o),Ho(o)),r.g=a}else uc(r);0<n.j.length&&ac(n)}else"stop"!=c[0]&&"close"!=c[0]||vc(n,7);else 3==n.H&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?vc(n,7):rc(n):"noop"!=c[0]&&n.h&&n.h.Aa(c),n.A=0)}xo()}catch(c){}}function Xo(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(zs(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.ta&&"function"==typeof e.ta)return e.ta();if(!e.Z||"function"!=typeof e.Z){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(zs(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.Z&&"function"==typeof e.Z)return e.Z();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(zs(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,s=0;s<i;s++)t.call(void 0,r[s],n&&n[s],e)}(Ls=Lo.prototype).setTimeout=function(e){this.P=e},Ls.nb=function(e){e=e.target;const t=this.M;t&&3==Jl(e)?t.l():this.Pa(e)},Ls.Pa=function(e){try{if(e==this.g)e:{const u=Jl(this.g);var t=this.g.Ia();this.g.da();if(!(3>u)&&(3!=u||da||this.g&&(this.h.h||this.g.ja()||Xl(this.g)))){this.J||4!=u||7==t||xo(),Go(this);var n=this.g.da();this.ca=n;t:if(qo(this)){var r=Xl(this.g);e="";var i=r.length,s=4==Jl(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Yo(this),Qo(this);var a="";break t}this.h.i=new Vs.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:s&&t==i-1});r.splice(0,i),this.h.g+=e,this.C=0,a=this.h.g}else a=this.g.ja();if(this.i=200==n,function(e,t,n,r,i,s,a){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+s+" "+a})}(this.j,this.u,this.A,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var o,l=this.g;if((o=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!na(o)){var c=o;break t}}c=null}if(!(n=c)){this.i=!1,this.o=3,Eo(12),Yo(this),Qo(this);break e}go(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Jo(this,n)}this.S?($o(this,u,a),da&&this.i&&3==u&&(fo(this.U,this.V,"tick",this.mb),this.V.start())):(go(this.j,this.m,a,null),Jo(this,a)),4==u&&Yo(this),this.i&&!this.J&&(4==u?mc(this.l,this):(this.i=!1,Ho(this)))}else(function(e){const t={};e=(e.g&&2<=Jl(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(na(e[r]))continue;var n=Xa(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const s=t[i]||[];t[i]=s,s.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,function(e){return e.join(", ")})})(this.g),400==n&&0<a.indexOf("Unknown SID")?(this.o=3,Eo(12)):(this.o=0,Eo(13)),Yo(this),Qo(this)}}}catch(u){}},Ls.mb=function(){if(this.g){var e=Jl(this.g),t=this.g.ja();this.C<t.length&&(Go(this),$o(this,e,t),this.i&&4!=e&&Ho(this))}},Ls.cancel=function(){this.J=!0,Yo(this)},Ls.lb=function(){this.B=null;const e=Date.now();0<=e-this.Y?(function(e,t){e.info(function(){return"TIMEOUT: "+t})}(this.j,this.A),2!=this.L&&(xo(),Eo(17)),Yo(this),this.o=2,Qo(this)):Ko(this,this.Y-e)};var Zo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function el(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof el){this.h=e.h,nl(this,e.j),this.s=e.s,this.g=e.g,rl(this,e.m),this.l=e.l;var t=e.i,n=new ml;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),il(this,n),this.o=e.o}else e&&(t=String(e).match(Zo))?(this.h=!1,nl(this,t[1]||"",!0),this.s=ol(t[2]||""),this.g=ol(t[3]||"",!0),rl(this,t[4]),this.l=ol(t[5]||"",!0),il(this,t[6]||"",!0),this.o=ol(t[7]||"")):(this.h=!1,this.i=new ml(null,this.h))}function tl(e){return new el(e)}function nl(e,t,n){e.j=n?ol(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function rl(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function il(e,t,n){t instanceof ml?(e.i=t,function(e,t){t&&!e.j&&(gl(e),e.i=null,e.g.forEach(function(e,t){var n=t.toLowerCase();t!=n&&(vl(this,t),bl(this,n,e))},e)),e.j=t}(e.i,e.h)):(n||(t=ll(t,fl)),e.i=new ml(t,e.h))}function sl(e,t,n){e.i.set(t,n)}function al(e){return sl(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function ol(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function ll(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,cl),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function cl(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}el.prototype.toString=function(){var e=[],t=this.j;t&&e.push(ll(t,ul,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(ll(t,ul,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(ll(n,"/"==n.charAt(0)?hl:dl,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",ll(n,pl)),e.join("")};var ul=/[#\/\?@]/g,dl=/[#\?:]/g,hl=/[#\?]/g,fl=/[#\?@]/g,pl=/#/g;function ml(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function gl(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function vl(e,t){gl(e),t=wl(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function yl(e,t){return gl(e),t=wl(e,t),e.g.has(t)}function bl(e,t,n){vl(e,t),0<n.length&&(e.i=null,e.g.set(wl(e,t),Xs(n)),e.h+=n.length)}function wl(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(Ls=ml.prototype).add=function(e,t){gl(this),this.i=null,e=wl(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Ls.forEach=function(e,t){gl(this),this.g.forEach(function(n,r){n.forEach(function(n){e.call(t,n,r,this)},this)},this)},Ls.ta=function(){gl(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},Ls.Z=function(e){gl(this);let t=[];if("string"===typeof e)yl(this,e)&&(t=t.concat(this.g.get(wl(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},Ls.set=function(e,t){return gl(this),this.i=null,yl(this,e=wl(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Ls.get=function(e,t){return e&&0<(e=this.Z(e)).length?String(e[0]):t},Ls.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const s=encodeURIComponent(String(r)),a=this.Z(r);for(r=0;r<a.length;r++){var i=s;""!==a[r]&&(i+="="+encodeURIComponent(String(a[r]))),e.push(i)}}return this.i=e.join("&")};var xl=class{constructor(e,t){this.g=e,this.map=t}};function kl(e){this.l=e||El,Vs.PerformanceNavigationTiming?e=0<(e=Vs.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(Vs.g&&Vs.g.Ka&&Vs.g.Ka()&&Vs.g.Ka().ec),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var El=10;function Sl(e){return!!e.h||!!e.g&&e.g.size>=e.j}function _l(e){return e.h?1:e.g?e.g.size:0}function Nl(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Tl(e,t){e.g?e.g.add(t):e.h=t}function Cl(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Il(e){if(null!=e.h)return e.i.concat(e.h.F);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.F);return t}return Xs(e.i)}kl.prototype.cancel=function(){if(this.i=Il(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var jl,Al=class{stringify(e){return Vs.JSON.stringify(e,void 0)}parse(e){return Vs.JSON.parse(e,void 0)}};function Dl(){this.g=new Al}function Ol(e,t,n){const r=n||"";try{Xo(e,function(e,n){let i=e;Bs(e)&&(i=Ga(e)),t.push(r+n+"="+encodeURIComponent(i))})}catch(dk){throw t.push(r+"type="+encodeURIComponent("_badmap")),dk}}function Pl(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(s){}}function Rl(e){this.l=e.fc||null,this.j=e.ob||!1}function Ll(e,t){Wa.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=Ml,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Qs(Rl,Co),Rl.prototype.g=function(){return new Ll(this.l,this.j)},Rl.prototype.i=(jl={},function(){return jl}),Qs(Ll,Wa);var Ml=0;function Fl(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}function Ul(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Vl(e)}function Vl(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Ls=Ll.prototype).open=function(e,t){if(this.readyState!=Ml)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Vl(this)},Ls.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||Vs).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},Ls.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Ul(this)),this.readyState=Ml},Ls.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Vl(this)),this.g&&(this.readyState=3,Vl(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if("undefined"!==typeof Vs.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Fl(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))},Ls.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Ul(this):Vl(this),3==this.readyState&&Fl(this)}},Ls.Za=function(e){this.g&&(this.response=this.responseText=e,Ul(this))},Ls.Ya=function(e){this.g&&(this.response=e,Ul(this))},Ls.ka=function(){this.g&&Ul(this)},Ls.setRequestHeader=function(e,t){this.v.append(e,t)},Ls.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Ls.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Ll.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var zl=Vs.JSON.parse;function Bl(e){Wa.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=ql,this.L=this.M=!1}Qs(Bl,Wa);var ql="",$l=/^https?$/i,Wl=["POST","PUT"];function Hl(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Kl(e),Ql(e)}function Kl(e){e.F||(e.F=!0,Ha(e,"complete"),Ha(e,"error"))}function Gl(e){if(e.h&&"undefined"!=typeof Us&&(!e.C[1]||4!=Jl(e)||2!=e.da()))if(e.v&&4==Jl(e))oo(e.La,0,e);else if(Ha(e,"readystatechange"),4==Jl(e)){e.h=!1;try{const o=e.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=0===o){var i=String(e.I).match(Zo)[1]||null;!i&&Vs.self&&Vs.self.location&&(i=Vs.self.location.protocol.slice(0,-1)),r=!$l.test(i?i.toLowerCase():"")}n=r}if(n)Ha(e,"complete"),Ha(e,"success");else{e.m=6;try{var s=2<Jl(e)?e.g.statusText:""}catch(a){s=""}e.j=s+" ["+e.da()+"]",Kl(e)}}finally{Ql(e)}}}function Ql(e,t){if(e.g){Yl(e);const n=e.g,r=e.C[0]?()=>{}:null;e.g=null,e.C=null,t||Ha(e,"ready");try{n.onreadystatechange=r}catch(dk){}}}function Yl(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(Vs.clearTimeout(e.A),e.A=null)}function Jl(e){return e.g?e.g.readyState:0}function Xl(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case ql:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(ru){return null}}function Zl(e){let t="";return Na(e,function(e,n){t+=n,t+=":",t+=e,t+="\r\n"}),t}function ec(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Zl(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):sl(e,t,n))}function tc(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function nc(e){this.Ga=0,this.j=[],this.l=new mo,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=tc("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=tc("baseRetryDelayMs",5e3,e),this.hb=tc("retryDelaySeedMs",1e4,e),this.eb=tc("forwardChannelMaxRetries",2,e),this.xa=tc("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.dc||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new kl(e&&e.concurrentRequestLimit),this.Ja=new Dl,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function rc(e){if(sc(e),3==e.H){var t=e.W++,n=tl(e.I);if(sl(n,"SID",e.K),sl(n,"RID",t),sl(n,"TYPE","terminate"),lc(e,n),(t=new Lo(e,e.l,t)).L=2,t.v=al(tl(n)),n=!1,Vs.navigator&&Vs.navigator.sendBeacon)try{n=Vs.navigator.sendBeacon(t.v.toString(),"")}catch(r){}!n&&Vs.Image&&((new Image).src=t.v,n=!0),n||(t.g=wc(t.l,null),t.g.ha(t.v)),t.G=Date.now(),Ho(t)}yc(e)}function ic(e){e.g&&(hc(e),e.g.cancel(),e.g=null)}function sc(e){ic(e),e.u&&(Vs.clearTimeout(e.u),e.u=null),pc(e),e.i.cancel(),e.m&&("number"===typeof e.m&&Vs.clearTimeout(e.m),e.m=null)}function ac(e){if(!Sl(e.i)&&!e.m){e.m=!0;var t=e.Na;eo||ro(),to||(eo(),to=!0),no.add(t,e),e.C=0}}function oc(e,t){var n;n=t?t.m:e.W++;const r=tl(e.I);sl(r,"SID",e.K),sl(r,"RID",n),sl(r,"AID",e.V),lc(e,r),e.o&&e.s&&ec(r,e.o,e.s),n=new Lo(e,e.l,n,e.C+1),null===e.o&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=cc(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),Tl(e.i,n),zo(n,r,t)}function lc(e,t){e.na&&Na(e.na,function(e,n){sl(t,n,e)}),e.h&&Xo({},function(e,n){sl(t,n,e)})}function cc(e,t,n){n=Math.min(e.j.length,n);var r=e.h?Ks(e.h.Va,e.h,e):null;e:{var i=e.j;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let s=!0;for(let a=0;a<n;a++){let n=i[a].g;const o=i[a].map;if(n-=t,0>n)t=Math.max(0,i[a].g-100),s=!1;else try{Ol(o,e,"req"+n+"_")}catch(pu){r&&r(o)}}if(s){r=e.join("&");break e}}}return e=e.j.splice(0,n),t.F=e,r}function uc(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;eo||ro(),to||(eo(),to=!0),no.add(t,e),e.A=0}}function dc(e){return!(e.g||e.u||3<=e.A)&&(e.ba++,e.u=_o(Ks(e.Ma,e),gc(e,e.A)),e.A++,!0)}function hc(e){null!=e.B&&(Vs.clearTimeout(e.B),e.B=null)}function fc(e){e.g=new Lo(e,e.l,"rpc",e.ba),null===e.o&&(e.g.I=e.s),e.g.O=0;var t=tl(e.wa);sl(t,"RID","rpc"),sl(t,"SID",e.K),sl(t,"AID",e.V),sl(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&sl(t,"TO",e.qa),sl(t,"TYPE","xmlhttp"),lc(e,t),e.o&&e.s&&ec(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.v=al(tl(t)),n.s=null,n.S=!0,Bo(n,e)}function pc(e){null!=e.v&&(Vs.clearTimeout(e.v),e.v=null)}function mc(e,t){var n=null;if(e.g==t){pc(e),hc(e),e.g=null;var r=2}else{if(!Nl(e.i,t))return;n=t.F,Cl(e.i,t),r=1}if(0!=e.H)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.G;var i=e.C;Ha(r=bo(),new So(r,n)),ac(e)}else uc(e);else if(3==(i=t.o)||0==i&&0<t.ca||!(1==r&&function(e,t){return!(_l(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.j=t.F.concat(e.j),!0):!(1==e.H||2==e.H||e.C>=(e.cb?0:e.eb))&&(e.m=_o(Ks(e.Na,e,t),gc(e,e.C)),e.C++,!0))}(e,t)||2==r&&dc(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:vc(e,5);break;case 4:vc(e,10);break;case 3:vc(e,6);break;default:vc(e,2)}}function gc(e,t){let n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function vc(e,t){if(e.l.info("Error code "+t),2==t){var n=null;e.h&&(n=null);var r=Ks(e.pb,e);n||(n=new el("//www.google.com/images/cleardot.gif"),Vs.location&&"http"==Vs.location.protocol||nl(n,"https"),al(n)),function(e,t){const n=new mo;if(Vs.Image){const r=new Image;r.onload=Gs(Pl,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Gs(Pl,n,r,"TestLoadImage: error",!1,t),r.onabort=Gs(Pl,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Gs(Pl,n,r,"TestLoadImage: timeout",!1,t),Vs.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}(n.toString(),r)}else Eo(2);e.H=0,e.h&&e.h.za(t),yc(e),sc(e)}function yc(e){if(e.H=0,e.ma=[],e.h){const t=Il(e.i);0==t.length&&0==e.j.length||(Zs(e.ma,t),Zs(e.ma,e.j),e.i.i.length=0,Xs(e.j),e.j.length=0),e.h.ya()}}function bc(e,t,n){var r=n instanceof el?tl(n):new el(n);if(""!=r.g)t&&(r.g=t+"."+r.g),rl(r,r.m);else{var i=Vs.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var s=new el(null);r&&nl(s,r),t&&(s.g=t),i&&rl(s,i),n&&(s.l=n),r=s}return n=e.F,t=e.Da,n&&t&&sl(r,n,t),sl(r,"VER",e.ra),lc(e,r),r}function wc(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ha&&!e.va?new Bl(new Rl({ob:!0})):new Bl(e.va)).Oa(e.J),t}function xc(){}function kc(){if(ca&&!(10<=Number(ba)))throw Error("Environmental error: no available transport.")}function Ec(e,t){Wa.call(this),this.g=new nc(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!na(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!na(t)&&(this.g.F=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Nc(this)}function Sc(e){Oo.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function _c(){Po.call(this),this.status=1}function Nc(e){this.g=e}function Tc(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Cc(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var s=e.g[3],a=t+(s^n&(i^s))+r[0]+3614090360&4294967295;a=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=n+(a<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[3]+3250441966&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^n&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[7]+4249261313&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^n&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[11]+2304563134&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^n&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[15]+1236535329&4294967295)<<22&4294967295|a>>>10))+((a=t+(i^s&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[11]+643717713&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^s&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[15]+3634488961&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^s&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[3]+4107603335&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^s&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[7]+1735328473&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|a>>>12))+((a=t+(n^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[14]+4259657740&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[10]+3200236656&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^s)+r[13]+681279174&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[6]+76029189&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[15]+530742520&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[2]+3299628645&4294967295)<<23&4294967295|a>>>9))+((a=t+(i^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|a>>>17))+((a=n+(s^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|a>>>11))+((a=t+(i^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|a>>>17))+((a=n+(s^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|a>>>11))+((a=t+(i^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|a>>>17))+((a=n+(s^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|a>>>11))+((s=(t=n+((a=t+(i^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|a>>>22))^((i=s+((a=i+(t^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|a>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(a<<21&4294967295|a>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+s&4294967295}function Ic(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var s=0|e[i];r&&s==t||(n[i]=s,r=!1)}this.g=n}(Ls=Bl.prototype).Oa=function(e){this.M=e},Ls.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Ao.g(),this.C=this.u?Io(this.u):Io(Ao),this.g.onreadystatechange=Ks(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(s){return void Hl(this,s)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find(e=>"content-type"==e.toLowerCase()),i=Vs.FormData&&e instanceof Vs.FormData,!(0<=Js(Wl,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[a,o]of n)this.g.setRequestHeader(a,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Yl(this),0<this.B&&((this.L=function(e){return ca&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ks(this.ua,this)):this.A=oo(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){Hl(this,s)}},Ls.ua=function(){"undefined"!=typeof Us&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ha(this,"timeout"),this.abort(8))},Ls.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Ha(this,"complete"),Ha(this,"abort"),Ql(this))},Ls.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Ql(this,!0)),Bl.$.N.call(this)},Ls.La=function(){this.s||(this.G||this.v||this.l?Gl(this):this.kb())},Ls.kb=function(){Gl(this)},Ls.isActive=function(){return!!this.g},Ls.da=function(){try{return 2<Jl(this)?this.g.status:-1}catch(jl){return-1}},Ls.ja=function(){try{return this.g?this.g.responseText:""}catch(jl){return""}},Ls.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),zl(t)}},Ls.Ia=function(){return this.m},Ls.Sa=function(){return"string"===typeof this.j?this.j:String(this.j)},(Ls=nc.prototype).ra=8,Ls.H=1,Ls.Na=function(e){if(this.m)if(this.m=null,1==this.H){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;const i=new Lo(this,this.l,e);let s=this.s;if(this.U&&(s?(s=Ta(s),Ia(s,this.U)):s=this.U),null!==this.o||this.O||(i.I=s,s=null),this.P)e:{for(var t=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.j.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=cc(this,i,t),sl(n=tl(this.I),"RID",e),sl(n,"CVER",22),this.F&&sl(n,"X-HTTP-Session-Id",this.F),lc(this,n),s&&(this.O?t="headers="+encodeURIComponent(String(Zl(s)))+"&"+t:this.o&&ec(n,this.o,s)),Tl(this.i,i),this.bb&&sl(n,"TYPE","init"),this.P?(sl(n,"$req",t),sl(n,"SID","null"),i.aa=!0,zo(i,n,null)):zo(i,n,t),this.H=2}}else 3==this.H&&(e?oc(this,e):0==this.j.length||Sl(this.i)||oc(this))},Ls.Ma=function(){if(this.u=null,fc(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=_o(Ks(this.jb,this),e)}},Ls.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Eo(10),ic(this),fc(this))},Ls.ib=function(){null!=this.v&&(this.v=null,ic(this),dc(this),Eo(19))},Ls.pb=function(e){e?(this.l.info("Successfully pinged google.com"),Eo(2)):(this.l.info("Failed to ping google.com"),Eo(1))},Ls.isActive=function(){return!!this.h&&this.h.isActive(this)},(Ls=xc.prototype).Ba=function(){},Ls.Aa=function(){},Ls.za=function(){},Ls.ya=function(){},Ls.isActive=function(){return!0},Ls.Va=function(){},kc.prototype.g=function(e,t){return new Ec(e,t)},Qs(Ec,Wa),Ec.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;Eo(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=bc(e,null,e.Y),ac(e)},Ec.prototype.close=function(){rc(this.g)},Ec.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=Ga(e),e=n);t.j.push(new xl(t.fb++,e)),3==t.H&&ac(t)},Ec.prototype.N=function(){this.g.h=null,delete this.j,rc(this.g),delete this.g,Ec.$.N.call(this)},Qs(Sc,Oo),Qs(_c,Po),Qs(Nc,xc),Nc.prototype.Ba=function(){Ha(this.g,"a")},Nc.prototype.Aa=function(e){Ha(this.g,new Sc(e))},Nc.prototype.za=function(e){Ha(this.g,new _c)},Nc.prototype.ya=function(){Ha(this.g,"b")},Qs(Tc,function(){this.blockSize=-1}),Tc.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Tc.prototype.j=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,s=0;s<t;){if(0==i)for(;s<=n;)Cc(this,e,s),s+=this.blockSize;if("string"===typeof e){for(;s<t;)if(r[i++]=e.charCodeAt(s++),i==this.blockSize){Cc(this,r),i=0;break}}else for(;s<t;)if(r[i++]=e[s++],i==this.blockSize){Cc(this,r),i=0;break}}this.h=i,this.i+=t},Tc.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var jc={};function Ac(e){return-128<=e&&128>e?function(e,t){var n=jc;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,function(e){return new Ic([0|e],0>e?-1:0)}):new Ic([0|e],0>e?-1:0)}function Dc(e){if(isNaN(e)||!isFinite(e))return Pc;if(0>e)return Uc(Dc(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=Oc;return new Ic(t,0)}var Oc=4294967296,Pc=Ac(0),Rc=Ac(1),Lc=Ac(16777216);function Mc(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function Fc(e){return-1==e.h}function Uc(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new Ic(n,~e.h).add(Rc)}function Vc(e,t){return e.add(Uc(t))}function zc(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function Bc(e,t){this.g=e,this.h=t}function qc(e,t){if(Mc(t))throw Error("division by zero");if(Mc(e))return new Bc(Pc,Pc);if(Fc(e))return t=qc(Uc(e),t),new Bc(Uc(t.g),Uc(t.h));if(Fc(t))return t=qc(e,Uc(t)),new Bc(Uc(t.g),t.h);if(30<e.g.length){if(Fc(e)||Fc(t))throw Error("slowDivide_ only works with positive integers.");for(var n=Rc,r=t;0>=r.X(e);)n=$c(n),r=$c(r);var i=Wc(n,1),s=Wc(r,1);for(r=Wc(r,2),n=Wc(n,2);!Mc(r);){var a=s.add(r);0>=a.X(e)&&(i=i.add(n),s=a),r=Wc(r,1),n=Wc(n,1)}return t=Vc(e,i.R(t)),new Bc(i,t)}for(i=Pc;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),a=(s=Dc(n)).R(t);Fc(a)||0<a.X(e);)a=(s=Dc(n-=r)).R(t);Mc(s)&&(s=Rc),i=i.add(s),e=Vc(e,a)}return new Bc(i,e)}function $c(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new Ic(n,e.h)}function Wc(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],s=0;s<r;s++)i[s]=0<t?e.D(s+n)>>>t|e.D(s+n+1)<<32-t:e.D(s+n);return new Ic(i,e.h)}(Ls=Ic.prototype).ea=function(){if(Fc(this))return-Uc(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:Oc+r)*t,t*=Oc}return e},Ls.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(Mc(this))return"0";if(Fc(this))return"-"+Uc(this).toString(e);for(var t=Dc(Math.pow(e,6)),n=this,r="";;){var i=qc(n,t).g,s=((0<(n=Vc(n,i.R(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(Mc(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},Ls.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},Ls.X=function(e){return Fc(e=Vc(this,e))?-1:Mc(e)?0:1},Ls.abs=function(){return Fc(this)?Uc(this):this},Ls.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var s=r+(65535&this.D(i))+(65535&e.D(i)),a=(s>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=a>>>16,s&=65535,a&=65535,n[i]=a<<16|s}return new Ic(n,-2147483648&n[n.length-1]?-1:0)},Ls.R=function(e){if(Mc(this)||Mc(e))return Pc;if(Fc(this))return Fc(e)?Uc(this).R(Uc(e)):Uc(Uc(this).R(e));if(Fc(e))return Uc(this.R(Uc(e)));if(0>this.X(Lc)&&0>e.X(Lc))return Dc(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var s=this.D(r)>>>16,a=65535&this.D(r),o=e.D(i)>>>16,l=65535&e.D(i);n[2*r+2*i]+=a*l,zc(n,2*r+2*i),n[2*r+2*i+1]+=s*l,zc(n,2*r+2*i+1),n[2*r+2*i+1]+=a*o,zc(n,2*r+2*i+1),n[2*r+2*i+2]+=s*o,zc(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new Ic(n,0)},Ls.gb=function(e){return qc(this,e).h},Ls.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new Ic(n,this.h&e.h)},Ls.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new Ic(n,this.h|e.h)},Ls.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new Ic(n,this.h^e.h)},kc.prototype.createWebChannel=kc.prototype.g,Ec.prototype.send=Ec.prototype.u,Ec.prototype.open=Ec.prototype.m,Ec.prototype.close=Ec.prototype.close,No.NO_ERROR=0,No.TIMEOUT=8,No.HTTP_ERROR=6,To.COMPLETE="complete",jo.EventType=Do,Do.OPEN="a",Do.CLOSE="b",Do.ERROR="c",Do.MESSAGE="d",Wa.prototype.listen=Wa.prototype.O,Bl.prototype.listenOnce=Bl.prototype.P,Bl.prototype.getLastError=Bl.prototype.Sa,Bl.prototype.getLastErrorCode=Bl.prototype.Ia,Bl.prototype.getStatus=Bl.prototype.da,Bl.prototype.getResponseJson=Bl.prototype.Wa,Bl.prototype.getResponseText=Bl.prototype.ja,Bl.prototype.send=Bl.prototype.ha,Bl.prototype.setWithCredentials=Bl.prototype.Oa,Tc.prototype.digest=Tc.prototype.l,Tc.prototype.reset=Tc.prototype.reset,Tc.prototype.update=Tc.prototype.j,Ic.prototype.add=Ic.prototype.add,Ic.prototype.multiply=Ic.prototype.R,Ic.prototype.modulo=Ic.prototype.gb,Ic.prototype.compare=Ic.prototype.X,Ic.prototype.toNumber=Ic.prototype.ea,Ic.prototype.toString=Ic.prototype.toString,Ic.prototype.getBits=Ic.prototype.D,Ic.fromNumber=Dc,Ic.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return Uc(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=Dc(Math.pow(n,8)),i=Pc,s=0;s<t.length;s+=8){var a=Math.min(8,t.length-s),o=parseInt(t.substring(s,s+a),n);8>a?(a=Dc(Math.pow(n,a)),i=i.R(a).add(Dc(o))):i=(i=i.R(r)).add(Dc(o))}return i};var Hc=Fs.createWebChannelTransport=function(){return new kc},Kc=Fs.getStatEventTarget=function(){return bo()},Gc=Fs.ErrorCode=No,Qc=Fs.EventType=To,Yc=Fs.Event=vo,Jc=Fs.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Xc=Fs.FetchXmlHttpFactory=Rl,Zc=Fs.WebChannel=jo,eu=Fs.XhrIo=Bl,tu=Fs.Md5=Tc,nu=Fs.Integer=Ic;const ru="@firebase/firestore";class iu{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}iu.UNAUTHENTICATED=new iu(null),iu.GOOGLE_CREDENTIALS=new iu("google-credentials-uid"),iu.FIRST_PARTY=new iu("first-party-uid"),iu.MOCK_USER=new iu("mock-user");let su="9.23.0";const au=new gt("@firebase/firestore");function ou(){return au.logLevel}function lu(e){if(au.logLevel<=dt.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(du);au.debug(`Firestore (${su}): ${e}`,...i)}}function cu(e){if(au.logLevel<=dt.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(du);au.error(`Firestore (${su}): ${e}`,...i)}}function uu(e){if(au.logLevel<=dt.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(du);au.warn(`Firestore (${su}): ${e}`,...i)}}function du(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function hu(){const e=`FIRESTORE (${su}) INTERNAL ASSERTION FAILED: `+(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state");throw cu(e),new Error(e)}function fu(e,t){e||hu()}function pu(e,t){return e}const mu={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class gu extends Qe{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class vu{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class yu{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class bu{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(iu.UNAUTHENTICATED))}shutdown(){}}class wu{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class xu{constructor(e){this.t=e,this.currentUser=iu.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new vu;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new vu,e.enqueueRetryable(()=>r(this.currentUser))};const s=()=>{const t=i;e.enqueueRetryable(async()=>{await t.promise,await r(this.currentUser)})},a=e=>{lu("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit(e=>a(e)),setTimeout(()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?a(e):(lu("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new vu)}},0),s()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(t=>this.i!==e?(lu("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(fu("string"==typeof t.accessToken),new yu(t.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return fu(null===e||"string"==typeof e),new iu(e)}}class ku{constructor(e,t,n){this.h=e,this.l=t,this.m=n,this.type="FirstParty",this.user=iu.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class Eu{constructor(e,t,n){this.h=e,this.l=t,this.m=n}getToken(){return Promise.resolve(new ku(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(iu.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Su{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class _u{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const n=e=>{null!=e.error&&lu("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${e.error.message}`);const n=e.token!==this.T;return this.T=e.token,lu("FirebaseAppCheckTokenProvider",`Received ${n?"new":"existing"} token.`),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable(()=>n(t))};const r=e=>{lu("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.appCheck.addTokenListener(this.o)};this.I.onInit(e=>r(e)),setTimeout(()=>{if(!this.appCheck){const e=this.I.getImmediate({optional:!0});e?r(e):lu("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(e=>e?(fu("string"==typeof e.token),this.T=e.token,new Su(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Nu(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class Tu{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62);let n="";for(;n.length<20;){const r=Nu(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62))}return n}}function Cu(e,t){return e<t?-1:e>t?1:0}function Iu(e,t,n){return e.length===t.length&&e.every((e,r)=>n(e,t[r]))}class ju{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new gu(mu.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new gu(mu.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new gu(mu.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new gu(mu.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ju.fromMillis(Date.now())}static fromDate(e){return ju.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new ju(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Cu(this.nanoseconds,e.nanoseconds):Cu(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Au{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Au(e)}static min(){return new Au(new ju(0,0))}static max(){return new Au(new ju(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Du{constructor(e,t,n){void 0===t?t=0:t>e.length&&hu(),void 0===n?n=e.length-t:n>e.length-t&&hu(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===Du.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Du?e.forEach(e=>{t.push(e)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Ou extends Du{construct(e,t,n){return new Ou(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new gu(mu.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter(e=>e.length>0))}return new Ou(e)}static emptyPath(){return new Ou([])}}const Pu=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ru extends Du{construct(e,t,n){return new Ru(e,t,n)}static isValidIdentifier(e){return Pu.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ru.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Ru(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new gu(mu.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let s=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new gu(mu.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new gu(mu.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(s=!s,r++):"."!==t||s?(n+=t,r++):(i(),r++)}if(i(),s)throw new gu(mu.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ru(t)}static emptyPath(){return new Ru([])}}class Lu{constructor(e){this.path=e}static fromPath(e){return new Lu(Ou.fromString(e))}static fromName(e){return new Lu(Ou.fromString(e).popFirst(5))}static empty(){return new Lu(Ou.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Ou.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Ou.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Lu(new Ou(e.slice()))}}class Mu{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}Mu.UNKNOWN_ID=-1;function Fu(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Au.fromTimestamp(1e9===r?new ju(n+1,0):new ju(n,r));return new Vu(i,Lu.empty(),t)}function Uu(e){return new Vu(e.readTime,e.key,-1)}class Vu{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new Vu(Au.min(),Lu.empty(),-1)}static max(){return new Vu(Au.max(),Lu.empty(),-1)}}function zu(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=Lu.comparator(e.documentKey,t.documentKey),0!==n?n:Cu(e.largestBatchId,t.largestBatchId))}const Bu="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class qu{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}async function $u(e){if(e.code!==mu.FAILED_PRECONDITION||e.message!==Bu)throw e;lu("LocalStore","Unexpectedly lost primary lease")}class Wu{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&hu(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Wu((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Wu?t:Wu.resolve(t)}catch(e){return Wu.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Wu.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Wu.reject(t)}static resolve(e){return new Wu((t,n)=>{t(e)})}static reject(e){return new Wu((t,n)=>{n(e)})}static waitFor(e){return new Wu((t,n)=>{let r=0,i=0,s=!1;e.forEach(e=>{++r,e.next(()=>{++i,s&&i===r&&t()},e=>n(e))}),s=!0,i===r&&t()})}static or(e){let t=Wu.resolve(!1);for(const n of e)t=t.next(e=>e?Wu.resolve(e):n());return t}static forEach(e,t){const n=[];return e.forEach((e,r)=>{n.push(t.call(this,e,r))}),this.waitFor(n)}static mapArray(e,t){return new Wu((n,r)=>{const i=e.length,s=new Array(i);let a=0;for(let o=0;o<i;o++){const l=o;t(e[l]).next(e=>{s[l]=e,++a,a===i&&n(s)},e=>r(e))}})}static doWhile(e,t){return new Wu((n,r)=>{const i=()=>{!0===e()?t().next(()=>{i()},r):n()};i()})}}function Hu(e){return"IndexedDbTransactionError"===e.name}class Ku{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ot(e),this.ut=e=>t.writeSequenceNumber(e))}ot(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ut&&this.ut(e),e}}function Gu(e){return null==e}function Qu(e){return 0===e&&1/e==-1/0}function Yu(e){return"number"==typeof e&&Number.isInteger(e)&&!Qu(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}Ku.ct=-1;const Ju=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Xu=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Zu=Xu;function ed(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function td(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function nd(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class rd{constructor(e,t){this.comparator=e,this.root=t||sd.EMPTY}insert(e,t){return new rd(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,sd.BLACK,null,null))}remove(e){return new rd(this.comparator,this.root.remove(e,this.comparator).copy(null,null,sd.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){const e=[];return this.inorderTraversal((t,n)=>(e.push(`${t}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new id(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new id(this.root,e,this.comparator,!1)}getReverseIterator(){return new id(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new id(this.root,e,this.comparator,!0)}}class id{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class sd{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:sd.RED,this.left=null!=r?r:sd.EMPTY,this.right=null!=i?i:sd.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new sd(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return sd.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return sd.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,sd.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,sd.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw hu();if(this.right.isRed())throw hu();const e=this.left.check();if(e!==this.right.check())throw hu();return e+(this.isRed()?0:1)}}sd.EMPTY=null,sd.RED=!0,sd.BLACK=!1,sd.EMPTY=new class{constructor(){this.size=0}get key(){throw hu()}get value(){throw hu()}get color(){throw hu()}get left(){throw hu()}get right(){throw hu()}copy(e,t,n,r,i){return this}insert(e,t,n){return new sd(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ad{constructor(e){this.comparator=e,this.data=new rd(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new od(this.data.getIterator())}getIteratorFrom(e){return new od(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(e=>{t=t.add(e)}),t}isEqual(e){if(!(e instanceof ad))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new ad(this.comparator);return t.data=e,t}}class od{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class ld{constructor(e){this.fields=e,e.sort(Ru.comparator)}static empty(){return new ld([])}unionWith(e){let t=new ad(Ru.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new ld(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Iu(this.fields,e.fields,(e,t)=>e.isEqual(t))}}class cd extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class ud{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new cd("Invalid base64 string: "+e):e}}(e);return new ud(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new ud(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Cu(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ud.EMPTY_BYTE_STRING=new ud("");const dd=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function hd(e){if(fu(!!e),"string"==typeof e){let t=0;const n=dd.exec(e);if(fu(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:fd(e.seconds),nanos:fd(e.nanos)}}function fd(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function pd(e){return"string"==typeof e?ud.fromBase64String(e):ud.fromUint8Array(e)}function md(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function gd(e){const t=e.mapValue.fields.__previous_value__;return md(t)?gd(t):t}function vd(e){const t=hd(e.mapValue.fields.__local_write_time__.timestampValue);return new ju(t.seconds,t.nanos)}class yd{constructor(e,t,n,r,i,s,a,o,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=o,this.useFetchStreams=l}}class bd{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new bd("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof bd&&e.projectId===this.projectId&&e.database===this.database}}const wd={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function xd(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?md(e)?4:Rd(e)?9007199254740991:10:hu()}function kd(e,t){if(e===t)return!0;const n=xd(e);if(n!==xd(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return vd(e).isEqual(vd(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=hd(e.timestampValue),r=hd(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return pd(e.bytesValue).isEqual(pd(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return fd(e.geoPointValue.latitude)===fd(t.geoPointValue.latitude)&&fd(e.geoPointValue.longitude)===fd(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return fd(e.integerValue)===fd(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=fd(e.doubleValue),r=fd(t.doubleValue);return n===r?Qu(n)===Qu(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Iu(e.arrayValue.values||[],t.arrayValue.values||[],kd);case 10:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(ed(n)!==ed(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!kd(n[i],r[i])))return!1;return!0}(e,t);default:return hu()}}function Ed(e,t){return void 0!==(e.values||[]).find(e=>kd(e,t))}function Sd(e,t){if(e===t)return 0;const n=xd(e),r=xd(t);if(n!==r)return Cu(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Cu(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=fd(e.integerValue||e.doubleValue),r=fd(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return _d(e.timestampValue,t.timestampValue);case 4:return _d(vd(e),vd(t));case 5:return Cu(e.stringValue,t.stringValue);case 6:return function(e,t){const n=pd(e),r=pd(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=Cu(n[i],r[i]);if(0!==e)return e}return Cu(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=Cu(fd(e.latitude),fd(t.latitude));return 0!==n?n:Cu(fd(e.longitude),fd(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=Sd(n[i],r[i]);if(e)return e}return Cu(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===wd.mapValue&&t===wd.mapValue)return 0;if(e===wd.mapValue)return 1;if(t===wd.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},s=Object.keys(i);r.sort(),s.sort();for(let a=0;a<r.length&&a<s.length;++a){const e=Cu(r[a],s[a]);if(0!==e)return e;const t=Sd(n[r[a]],i[s[a]]);if(0!==t)return t}return Cu(r.length,s.length)}(e.mapValue,t.mapValue);default:throw hu()}}function _d(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Cu(e,t);const n=hd(e),r=hd(t),i=Cu(n.seconds,r.seconds);return 0!==i?i:Cu(n.nanos,r.nanos)}function Nd(e){return Td(e)}function Td(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=hd(e);return`time(${t.seconds},${t.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?pd(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,Lu.fromName(n).toString()):"geoPointValue"in e?`geo(${(t=e.geoPointValue).latitude},${t.longitude})`:"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=Td(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+=`${i}:${Td(e.fields[i])}`;return n+"}"}(e.mapValue):hu();var t,n}function Cd(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function Id(e){return!!e&&"integerValue"in e}function jd(e){return!!e&&"arrayValue"in e}function Ad(e){return!!e&&"nullValue"in e}function Dd(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Od(e){return!!e&&"mapValue"in e}function Pd(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return td(e.mapValue.fields,(e,n)=>t.mapValue.fields[e]=Pd(n)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Pd(e.arrayValue.values[n]);return t}return Object.assign({},e)}function Rd(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}class Ld{constructor(e){this.value=e}static empty(){return new Ld({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Od(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Pd(t)}setAll(e){let t=Ru.emptyPath(),n={},r=[];e.forEach((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=Pd(e):r.push(i.lastSegment())});const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());Od(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return kd(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];Od(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){td(t,(t,n)=>e[t]=n);for(const r of n)delete e[r]}clone(){return new Ld(Pd(this.value))}}function Md(e){const t=[];return td(e.fields,(e,n)=>{const r=new Ru([e]);if(Od(n)){const e=Md(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)}),new ld(t)}class Fd{constructor(e,t,n,r,i,s,a){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=s,this.documentState=a}static newInvalidDocument(e){return new Fd(e,0,Au.min(),Au.min(),Au.min(),Ld.empty(),0)}static newFoundDocument(e,t,n,r){return new Fd(e,1,t,Au.min(),n,r,0)}static newNoDocument(e,t){return new Fd(e,2,t,Au.min(),Au.min(),Ld.empty(),0)}static newUnknownDocument(e,t){return new Fd(e,3,t,Au.min(),Au.min(),Ld.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Au.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ld.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ld.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Au.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Fd&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Fd(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Ud{constructor(e,t){this.position=e,this.inclusive=t}}function Vd(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],a=e.position[i];if(r=s.field.isKeyField()?Lu.comparator(Lu.fromName(a.referenceValue),n.key):Sd(a,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function zd(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!kd(e.position[n],t.position[n]))return!1;return!0}class Bd{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function qd(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class $d{}class Wd extends $d{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new Zd(e,t,n):"array-contains"===t?new rh(e,n):"in"===t?new ih(e,n):"not-in"===t?new sh(e,n):"array-contains-any"===t?new ah(e,n):new Wd(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new eh(e,n):new th(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Sd(t,this.value)):null!==t&&xd(this.value)===xd(t)&&this.matchesComparison(Sd(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return hu()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Hd extends $d{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new Hd(e,t)}matches(e){return Kd(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(e=>e.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function Kd(e){return"and"===e.op}function Gd(e){return Qd(e)&&Kd(e)}function Qd(e){for(const t of e.filters)if(t instanceof Hd)return!1;return!0}function Yd(e){if(e instanceof Wd)return e.field.canonicalString()+e.op.toString()+Nd(e.value);if(Gd(e))return e.filters.map(e=>Yd(e)).join(",");{const t=e.filters.map(e=>Yd(e)).join(",");return`${e.op}(${t})`}}function Jd(e,t){return e instanceof Wd?function(e,t){return t instanceof Wd&&e.op===t.op&&e.field.isEqual(t.field)&&kd(e.value,t.value)}(e,t):e instanceof Hd?function(e,t){return t instanceof Hd&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((e,n,r)=>e&&Jd(n,t.filters[r]),!0)}(e,t):void hu()}function Xd(e){return e instanceof Wd?function(e){return`${e.field.canonicalString()} ${e.op} ${Nd(e.value)}`}(e):e instanceof Hd?function(e){return e.op.toString()+" {"+e.getFilters().map(Xd).join(" ,")+"}"}(e):"Filter"}class Zd extends Wd{constructor(e,t,n){super(e,t,n),this.key=Lu.fromName(n.referenceValue)}matches(e){const t=Lu.comparator(e.key,this.key);return this.matchesComparison(t)}}class eh extends Wd{constructor(e,t){super(e,"in",t),this.keys=nh("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class th extends Wd{constructor(e,t){super(e,"not-in",t),this.keys=nh("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function nh(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map(e=>Lu.fromName(e.referenceValue))}class rh extends Wd{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return jd(t)&&Ed(t.arrayValue,this.value)}}class ih extends Wd{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Ed(this.value.arrayValue,t)}}class sh extends Wd{constructor(e,t){super(e,"not-in",t)}matches(e){if(Ed(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Ed(this.value.arrayValue,t)}}class ah extends Wd{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!jd(t)||!t.arrayValue.values)&&t.arrayValue.values.some(e=>Ed(this.value.arrayValue,e))}}class oh{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=a,this.dt=null}}function lh(e){return new oh(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function ch(e){const t=pu(e);if(null===t.dt){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(e=>Yd(e)).join(","),e+="|ob:",e+=t.orderBy.map(e=>function(e){return e.field.canonicalString()+e.dir}(e)).join(","),Gu(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(e=>Nd(e)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(e=>Nd(e)).join(",")),t.dt=e}return t.dt}function uh(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!qd(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!Jd(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!zd(e.startAt,t.startAt)&&zd(e.endAt,t.endAt)}function dh(e){return Lu.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class hh{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=a,this.endAt=o,this.wt=null,this._t=null,this.startAt,this.endAt}}function fh(e,t,n,r,i,s,a,o){return new hh(e,t,n,r,i,s,a,o)}function ph(e){return new hh(e)}function mh(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function gh(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function vh(e){for(const t of e.filters){const e=t.getFirstInequalityField();if(null!==e)return e}return null}function yh(e){return null!==e.collectionGroup}function bh(e){const t=pu(e);if(null===t.wt){t.wt=[];const e=vh(t),n=gh(t);if(null!==e&&null===n)e.isKeyField()||t.wt.push(new Bd(e)),t.wt.push(new Bd(Ru.keyField(),"asc"));else{let e=!1;for(const n of t.explicitOrderBy)t.wt.push(n),n.field.isKeyField()&&(e=!0);if(!e){const e=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.wt.push(new Bd(Ru.keyField(),e))}}}return t.wt}function wh(e){const t=pu(e);if(!t._t)if("F"===t.limitType)t._t=lh(t.path,t.collectionGroup,bh(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const i of bh(t)){const t="desc"===i.dir?"asc":"desc";e.push(new Bd(i.field,t))}const n=t.endAt?new Ud(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Ud(t.startAt.position,t.startAt.inclusive):null;t._t=lh(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}return t._t}function xh(e,t){t.getFirstInequalityField(),vh(e);const n=e.filters.concat([t]);return new hh(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function kh(e,t,n){return new hh(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Eh(e,t){return uh(wh(e),wh(t))&&e.limitType===t.limitType}function Sh(e){return`${ch(wh(e))}|lt:${e.limitType}`}function _h(e){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(e=>Xd(e)).join(", ")}]`),Gu(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(e=>function(e){return`${e.field.canonicalString()} (${e.dir})`}(e)).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(e=>Nd(e)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(e=>Nd(e)).join(",")),`Target(${t})`}(wh(e))}; limitType=${e.limitType})`}function Nh(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Lu.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of bh(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=Vd(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,bh(e),t))&&!(e.endAt&&!function(e,t,n){const r=Vd(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,bh(e),t))}(e,t)}function Th(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Ch(e){return(t,n)=>{let r=!1;for(const i of bh(e)){const e=Ih(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function Ih(e,t,n){const r=e.field.isKeyField()?Lu.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Sd(r,i):hu()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return hu()}}class jh{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){td(this.inner,(t,n)=>{for(const[r,i]of n)e(r,i)})}isEmpty(){return nd(this.inner)}size(){return this.innerSize}}const Ah=new rd(Lu.comparator);function Dh(){return Ah}const Oh=new rd(Lu.comparator);function Ph(){let e=Oh;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function Rh(e){let t=Oh;return e.forEach((e,n)=>t=t.insert(e,n.overlayedDocument)),t}function Lh(){return Fh()}function Mh(){return Fh()}function Fh(){return new jh(e=>e.toString(),(e,t)=>e.isEqual(t))}const Uh=new rd(Lu.comparator),Vh=new ad(Lu.comparator);function zh(){let e=Vh;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const Bh=new ad(Cu);function qh(){return Bh}function $h(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Qu(t)?"-0":t}}function Wh(e){return{integerValue:""+e}}function Hh(e,t){return Yu(t)?Wh(t):$h(e,t)}class Kh{constructor(){this._=void 0}}function Gh(e,t,n){return e instanceof Jh?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&md(t)&&(t=gd(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Xh?Zh(e,t):e instanceof ef?tf(e,t):function(e,t){const n=Yh(e,t),r=rf(n)+rf(e.gt);return Id(n)&&Id(e.gt)?Wh(r):$h(e.serializer,r)}(e,t)}function Qh(e,t,n){return e instanceof Xh?Zh(e,t):e instanceof ef?tf(e,t):n}function Yh(e,t){return e instanceof nf?Id(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}class Jh extends Kh{}class Xh extends Kh{constructor(e){super(),this.elements=e}}function Zh(e,t){const n=sf(t);for(const r of e.elements)n.some(e=>kd(e,r))||n.push(r);return{arrayValue:{values:n}}}class ef extends Kh{constructor(e){super(),this.elements=e}}function tf(e,t){let n=sf(t);for(const r of e.elements)n=n.filter(e=>!kd(e,r));return{arrayValue:{values:n}}}class nf extends Kh{constructor(e,t){super(),this.serializer=e,this.gt=t}}function rf(e){return fd(e.integerValue||e.doubleValue)}function sf(e){return jd(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class af{constructor(e,t){this.version=e,this.transformResults=t}}class of{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new of}static exists(e){return new of(void 0,e)}static updateTime(e){return new of(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function lf(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class cf{}function uf(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new wf(e.key,of.none()):new mf(e.key,e.data,of.none());{const n=e.data,r=Ld.empty();let i=new ad(Ru.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new gf(e.key,r,new ld(i.toArray()),of.none())}}function df(e,t,n){e instanceof mf?function(e,t,n){const r=e.value.clone(),i=yf(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof gf?function(e,t,n){if(!lf(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=yf(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(vf(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function hf(e,t,n,r){return e instanceof mf?function(e,t,n,r){if(!lf(e.precondition,t))return n;const i=e.value.clone(),s=bf(e.fieldTransforms,r,t);return i.setAll(s),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof gf?function(e,t,n,r){if(!lf(e.precondition,t))return n;const i=bf(e.fieldTransforms,r,t),s=t.data;return s.setAll(vf(e)),s.setAll(i),t.convertToFoundDocument(t.version,s).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map(e=>e.field))}(e,t,n,r):function(e,t,n){return lf(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function ff(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=Yh(r.transform,e||null);null!=i&&(null===n&&(n=Ld.empty()),n.set(r.field,i))}return n||null}function pf(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Iu(e,t,(e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Xh&&t instanceof Xh||e instanceof ef&&t instanceof ef?Iu(e.elements,t.elements,kd):e instanceof nf&&t instanceof nf?kd(e.gt,t.gt):e instanceof Jh&&t instanceof Jh}(e.transform,t.transform)}(e,t))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class mf extends cf{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class gf extends cf{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function vf(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function yf(e,t,n){const r=new Map;fu(e.length===n.length);for(let i=0;i<n.length;i++){const s=e[i],a=s.transform,o=t.data.field(s.field);r.set(s.field,Qh(a,o,n[i]))}return r}function bf(e,t,n){const r=new Map;for(const i of e){const e=i.transform,s=n.data.field(i.field);r.set(i.field,Gh(e,s,t))}return r}class wf extends cf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class xf extends cf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class kf{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&df(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=hf(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=hf(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=Mh();return this.mutations.forEach(r=>{const i=e.get(r.key),s=i.overlayedDocument;let a=this.applyToLocalView(s,i.mutatedFields);a=t.has(r.key)?null:a;const o=uf(s,a);null!==o&&n.set(r.key,o),s.isValidDocument()||s.convertToNoDocument(Au.min())}),n}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),zh())}isEqual(e){return this.batchId===e.batchId&&Iu(this.mutations,e.mutations,(e,t)=>pf(e,t))&&Iu(this.baseMutations,e.baseMutations,(e,t)=>pf(e,t))}}class Ef{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){fu(e.mutations.length===n.length);let r=Uh;const i=e.mutations;for(let s=0;s<i.length;s++)r=r.insert(i[s].key,n[s].version);return new Ef(e,t,n,r)}}class Sf{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class _f{constructor(e,t){this.count=e,this.unchangedNames=t}}var Nf,Tf;function Cf(e){switch(e){default:return hu();case mu.CANCELLED:case mu.UNKNOWN:case mu.DEADLINE_EXCEEDED:case mu.RESOURCE_EXHAUSTED:case mu.INTERNAL:case mu.UNAVAILABLE:case mu.UNAUTHENTICATED:return!1;case mu.INVALID_ARGUMENT:case mu.NOT_FOUND:case mu.ALREADY_EXISTS:case mu.PERMISSION_DENIED:case mu.FAILED_PRECONDITION:case mu.ABORTED:case mu.OUT_OF_RANGE:case mu.UNIMPLEMENTED:case mu.DATA_LOSS:return!0}}function If(e){if(void 0===e)return cu("GRPC error has no .code"),mu.UNKNOWN;switch(e){case Nf.OK:return mu.OK;case Nf.CANCELLED:return mu.CANCELLED;case Nf.UNKNOWN:return mu.UNKNOWN;case Nf.DEADLINE_EXCEEDED:return mu.DEADLINE_EXCEEDED;case Nf.RESOURCE_EXHAUSTED:return mu.RESOURCE_EXHAUSTED;case Nf.INTERNAL:return mu.INTERNAL;case Nf.UNAVAILABLE:return mu.UNAVAILABLE;case Nf.UNAUTHENTICATED:return mu.UNAUTHENTICATED;case Nf.INVALID_ARGUMENT:return mu.INVALID_ARGUMENT;case Nf.NOT_FOUND:return mu.NOT_FOUND;case Nf.ALREADY_EXISTS:return mu.ALREADY_EXISTS;case Nf.PERMISSION_DENIED:return mu.PERMISSION_DENIED;case Nf.FAILED_PRECONDITION:return mu.FAILED_PRECONDITION;case Nf.ABORTED:return mu.ABORTED;case Nf.OUT_OF_RANGE:return mu.OUT_OF_RANGE;case Nf.UNIMPLEMENTED:return mu.UNIMPLEMENTED;case Nf.DATA_LOSS:return mu.DATA_LOSS;default:return hu()}}(Tf=Nf||(Nf={}))[Tf.OK=0]="OK",Tf[Tf.CANCELLED=1]="CANCELLED",Tf[Tf.UNKNOWN=2]="UNKNOWN",Tf[Tf.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Tf[Tf.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Tf[Tf.NOT_FOUND=5]="NOT_FOUND",Tf[Tf.ALREADY_EXISTS=6]="ALREADY_EXISTS",Tf[Tf.PERMISSION_DENIED=7]="PERMISSION_DENIED",Tf[Tf.UNAUTHENTICATED=16]="UNAUTHENTICATED",Tf[Tf.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Tf[Tf.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Tf[Tf.ABORTED=10]="ABORTED",Tf[Tf.OUT_OF_RANGE=11]="OUT_OF_RANGE",Tf[Tf.UNIMPLEMENTED=12]="UNIMPLEMENTED",Tf[Tf.INTERNAL=13]="INTERNAL",Tf[Tf.UNAVAILABLE=14]="UNAVAILABLE",Tf[Tf.DATA_LOSS=15]="DATA_LOSS";class jf{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Af}static getOrCreateInstance(){return null===Af&&(Af=new jf),Af}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let Af=null;function Df(){return new TextEncoder}const Of=new nu([4294967295,4294967295],0);function Pf(e){const t=Df().encode(e),n=new tu;return n.update(t),new Uint8Array(n.digest())}function Rf(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new nu([n,r],0),new nu([i,s],0)]}class Lf{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new Mf(`Invalid padding: ${t}`);if(n<0)throw new Mf(`Invalid hash count: ${n}`);if(e.length>0&&0===this.hashCount)throw new Mf(`Invalid hash count: ${n}`);if(0===e.length&&0!==t)throw new Mf(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=nu.fromNumber(this.It)}Et(e,t,n){let r=e.add(t.multiply(nu.fromNumber(n)));return 1===r.compare(Of)&&(r=new nu([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=Pf(e),[n,r]=Rf(t);for(let i=0;i<this.hashCount;i++){const e=this.Et(n,r,i);if(!this.At(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),s=new Lf(i,r,t);return n.forEach(e=>s.insert(e)),s}insert(e){if(0===this.It)return;const t=Pf(e),[n,r]=Rf(t);for(let i=0;i<this.hashCount;i++){const e=this.Et(n,r,i);this.Rt(e)}}Rt(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class Mf extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Ff{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,Uf.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new Ff(Au.min(),r,new rd(Cu),Dh(),zh())}}class Uf{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new Uf(n,t,zh(),zh(),zh())}}class Vf{constructor(e,t,n,r){this.Pt=e,this.removedTargetIds=t,this.key=n,this.bt=r}}class zf{constructor(e,t){this.targetId=e,this.Vt=t}}class Bf{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ud.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class qf{constructor(){this.St=0,this.Dt=Hf(),this.Ct=ud.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=zh(),t=zh(),n=zh();return this.Dt.forEach((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:hu()}}),new Uf(this.Ct,this.xt,e,t,n)}Ft(){this.Nt=!1,this.Dt=Hf()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class $f{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=Dh(),this.zt=Wf(),this.Wt=new rd(Cu)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const n=this.Zt(t);switch(e.state){case 0:this.te(t)&&n.$t(e.resumeToken);break;case 1:n.Ut(),n.kt||n.Ft(),n.$t(e.resumeToken);break;case 2:n.Ut(),n.kt||this.removeTarget(t);break;case 3:this.te(t)&&(n.Kt(),n.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),n.$t(e.resumeToken));break;default:hu()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((e,n)=>{this.te(n)&&t(n)})}ne(e){var t;const n=e.targetId,r=e.Vt.count,i=this.se(n);if(i){const s=i.target;if(dh(s))if(0===r){const e=new Lu(s.path);this.Yt(n,e,Fd.newNoDocument(e,Au.min()))}else fu(1===r);else{const i=this.ie(n);if(i!==r){const r=this.re(e,i);if(0!==r){this.ee(n);const e=2===r?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Wt=this.Wt.insert(n,e)}null===(t=jf.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(e,t,n){var r,i,s,a,o,l;const c={localCacheCount:t,existenceFilterCount:n.count},u=n.unchangedNames;return u&&(c.bloomFilter={applied:0===e,hashCount:null!==(r=null==u?void 0:u.hashCount)&&void 0!==r?r:0,bitmapLength:null!==(a=null===(s=null===(i=null==u?void 0:u.bits)||void 0===i?void 0:i.bitmap)||void 0===s?void 0:s.length)&&void 0!==a?a:0,padding:null!==(l=null===(o=null==u?void 0:u.bits)||void 0===o?void 0:o.padding)&&void 0!==l?l:0}),c}(r,i,e.Vt))}}}}re(e,t){const{unchangedNames:n,count:r}=e.Vt;if(!n||!n.bits)return 1;const{bits:{bitmap:i="",padding:s=0},hashCount:a=0}=n;let o,l;try{o=pd(i).toUint8Array()}catch(e){if(e instanceof cd)return uu("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw e}try{l=new Lf(o,s,a)}catch(e){return uu(e instanceof Mf?"BloomFilter error: ":"Applying bloom filter failed: ",e),1}return 0===l.It?1:r!==t-this.oe(e.targetId,l)?2:0}oe(e,t){const n=this.Gt.getRemoteKeysForTarget(e);let r=0;return n.forEach(n=>{const i=this.Gt.ue(),s=`projects/${i.projectId}/databases/${i.database}/documents/${n.path.canonicalString()}`;t.vt(s)||(this.Yt(e,n,null),r++)}),r}ce(e){const t=new Map;this.Qt.forEach((n,r)=>{const i=this.se(r);if(i){if(n.current&&dh(i.target)){const t=new Lu(i.target.path);null!==this.jt.get(t)||this.ae(r,t)||this.Yt(r,t,Fd.newNoDocument(t,e))}n.Mt&&(t.set(r,n.Ot()),n.Ft())}});let n=zh();this.zt.forEach((e,t)=>{let r=!0;t.forEachWhile(e=>{const t=this.se(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)}),r&&(n=n.add(e))}),this.jt.forEach((t,n)=>n.setReadTime(e));const r=new Ff(e,t,this.Wt,this.jt,n);return this.jt=Dh(),this.zt=Wf(),this.Wt=new rd(Cu),r}Jt(e,t){if(!this.te(e))return;const n=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,n),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,n){if(!this.te(e))return;const r=this.Zt(e);this.ae(e,t)?r.Bt(t,1):r.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),n&&(this.jt=this.jt.insert(t,n))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new qf,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new ad(Cu),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||lu("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new qf),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function Wf(){return new rd(Lu.comparator)}function Hf(){return new rd(Lu.comparator)}const Kf={asc:"ASCENDING",desc:"DESCENDING"},Gf={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Qf={and:"AND",or:"OR"};class Yf{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Jf(e,t){return e.useProto3Json||Gu(t)?t:{value:t}}function Xf(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Zf(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function ep(e,t){return Xf(e,t.toTimestamp())}function tp(e){return fu(!!e),Au.fromTimestamp(function(e){const t=hd(e);return new ju(t.seconds,t.nanos)}(e))}function np(e,t){return function(e){return new Ou(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function rp(e){const t=Ou.fromString(e);return fu(Ep(t)),t}function ip(e,t){return np(e.databaseId,t.path)}function sp(e,t){const n=rp(t);if(n.get(1)!==e.databaseId.projectId)throw new gu(mu.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new gu(mu.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Lu(cp(n))}function ap(e,t){return np(e.databaseId,t)}function op(e){const t=rp(e);return 4===t.length?Ou.emptyPath():cp(t)}function lp(e){return new Ou(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function cp(e){return fu(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function up(e,t,n){return{name:ip(e,t),fields:n.value.mapValue.fields}}function dp(e,t){let n;if(t instanceof mf)n={update:up(e,t.key,t.value)};else if(t instanceof wf)n={delete:ip(e,t.key)};else if(t instanceof gf)n={update:up(e,t.key,t.data),updateMask:kp(t.fieldMask)};else{if(!(t instanceof xf))return hu();n={verify:ip(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(e=>function(e,t){const n=t.transform;if(n instanceof Jh)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Xh)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof ef)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof nf)return{fieldPath:t.field.canonicalString(),increment:n.gt};throw hu()}(0,e))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:ep(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:hu()}(e,t.precondition)),n}function hp(e,t){return{documents:[ap(e,t.path)]}}function fp(e,t){const n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=ap(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=ap(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(e){if(0!==e.length)return xp(Hd.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);const s=function(e){if(0!==e.length)return e.map(e=>function(e){return{field:bp(e.field),direction:gp(e.dir)}}(e))}(t.orderBy);s&&(n.structuredQuery.orderBy=s);const a=Jf(e,t.limit);var o;return null!==a&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function pp(e){let t=op(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){fu(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let s=[];n.where&&(s=function(e){const t=mp(e);return t instanceof Hd&&Gd(t)?t.getFilters():[t]}(n.where));let a=[];n.orderBy&&(a=n.orderBy.map(e=>function(e){return new Bd(wp(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)));let o=null;n.limit&&(o=function(e){let t;return t="object"==typeof e?e.value:e,Gu(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new Ud(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new Ud(n,t)}(n.endAt)),fh(t,i,a,s,o,"F",l,c)}function mp(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=wp(e.unaryFilter.field);return Wd.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=wp(e.unaryFilter.field);return Wd.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=wp(e.unaryFilter.field);return Wd.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=wp(e.unaryFilter.field);return Wd.create(i,"!=",{nullValue:"NULL_VALUE"});default:return hu()}}(e):void 0!==e.fieldFilter?function(e){return Wd.create(wp(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return hu()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return Hd.create(e.compositeFilter.filters.map(e=>mp(e)),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return hu()}}(e.compositeFilter.op))}(e):hu()}function gp(e){return Kf[e]}function vp(e){return Gf[e]}function yp(e){return Qf[e]}function bp(e){return{fieldPath:e.canonicalString()}}function wp(e){return Ru.fromServerFormat(e.fieldPath)}function xp(e){return e instanceof Wd?function(e){if("=="===e.op){if(Dd(e.value))return{unaryFilter:{field:bp(e.field),op:"IS_NAN"}};if(Ad(e.value))return{unaryFilter:{field:bp(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Dd(e.value))return{unaryFilter:{field:bp(e.field),op:"IS_NOT_NAN"}};if(Ad(e.value))return{unaryFilter:{field:bp(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:bp(e.field),op:vp(e.op),value:e.value}}}(e):e instanceof Hd?function(e){const t=e.getFilters().map(e=>xp(e));return 1===t.length?t[0]:{compositeFilter:{op:yp(e.op),filters:t}}}(e):hu()}function kp(e){const t=[];return e.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function Ep(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class Sp{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Au.min(),s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Au.min(),a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:ud.EMPTY_BYTE_STRING,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=o}withSequenceNumber(e){return new Sp(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Sp(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Sp(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Sp(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class _p{constructor(e){this.fe=e}}function Np(e){const t=pp({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?kh(t,t.limit,"L"):t}class Tp{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(fd(e.integerValue));else if("doubleValue"in e){const n=fd(e.doubleValue);isNaN(n)?this.ye(t,13):(this.ye(t,15),Qu(n)?t.pe(0):t.pe(n))}else if("timestampValue"in e){const n=e.timestampValue;this.ye(t,20),"string"==typeof n?t.Ie(n):(t.Ie(`${n.seconds||""}`),t.pe(n.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(pd(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.ye(t,45),t.pe(n.latitude||0),t.pe(n.longitude||0)}else"mapValue"in e?Rd(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):hu()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const n=e.fields||{};this.ye(t,55);for(const r of Object.keys(n))this.Te(r,t),this.me(n[r],t)}Pe(e,t){const n=e.values||[];this.ye(t,50);for(const r of n)this.me(r,t)}ve(e,t){this.ye(t,37),Lu.fromName(e).path.forEach(e=>{this.ye(t,60),this.be(e,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}Tp.Ve=new Tp;class Cp{constructor(){this.rn=new Ip}addToCollectionParentIndex(e,t){return this.rn.add(t),Wu.resolve()}getCollectionParents(e,t){return Wu.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return Wu.resolve()}deleteFieldIndex(e,t){return Wu.resolve()}getDocumentsMatchingTarget(e,t){return Wu.resolve(null)}getIndexType(e,t){return Wu.resolve(0)}getFieldIndexes(e,t){return Wu.resolve([])}getNextCollectionGroupToUpdate(e){return Wu.resolve(null)}getMinOffset(e,t){return Wu.resolve(Vu.min())}getMinOffsetFromCollectionGroup(e,t){return Wu.resolve(Vu.min())}updateCollectionGroup(e,t,n){return Wu.resolve()}updateIndexEntries(e,t){return Wu.resolve()}}class Ip{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new ad(Ou.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new ad(Ou.comparator)).toArray()}}new Uint8Array(0);class jp{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new jp(e,jp.DEFAULT_COLLECTION_PERCENTILE,jp.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}jp.DEFAULT_COLLECTION_PERCENTILE=10,jp.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,jp.DEFAULT=new jp(41943040,jp.DEFAULT_COLLECTION_PERCENTILE,jp.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),jp.DISABLED=new jp(-1,0,0);class Ap{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new Ap(0)}static Mn(){return new Ap(-1)}}class Dp{constructor(){this.changes=new jh(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Fd.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?Wu.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Op{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Pp{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(n=r,this.remoteDocumentCache.getEntry(e,t))).next(e=>(null!==n&&hf(n.mutation,e,ld.empty(),ju.now()),e))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.getLocalViewOfDocuments(e,t,zh()).next(()=>t))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:zh();const r=Lh();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,n).next(e=>{let t=Ph();return e.forEach((e,n)=>{t=t.insert(e,n.overlayedDocument)}),t}))}getOverlayedDocuments(e,t){const n=Lh();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,zh()))}populateOverlays(e,t,n){const r=[];return n.forEach(e=>{t.has(e)||r.push(e)}),this.documentOverlayCache.getOverlays(e,r).next(e=>{e.forEach((e,n)=>{t.set(e,n)})})}computeViews(e,t,n,r){let i=Dh();const s=Fh(),a=Fh();return t.forEach((e,t)=>{const a=n.get(t.key);r.has(t.key)&&(void 0===a||a.mutation instanceof gf)?i=i.insert(t.key,t):void 0!==a?(s.set(t.key,a.mutation.getFieldMask()),hf(a.mutation,t,a.mutation.getFieldMask(),ju.now())):s.set(t.key,ld.empty())}),this.recalculateAndSaveOverlays(e,i).next(e=>(e.forEach((e,t)=>s.set(e,t)),t.forEach((e,t)=>{var n;return a.set(e,new Op(t,null!==(n=s.get(e))&&void 0!==n?n:null))}),a))}recalculateAndSaveOverlays(e,t){const n=Fh();let r=new rd((e,t)=>e-t),i=zh();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(e=>{for(const i of e)i.keys().forEach(e=>{const s=t.get(e);if(null===s)return;let a=n.get(e)||ld.empty();a=i.applyToLocalView(s,a),n.set(e,a);const o=(r.get(i.batchId)||zh()).add(e);r=r.insert(i.batchId,o)})}).next(()=>{const s=[],a=r.getReverseIterator();for(;a.hasNext();){const r=a.getNext(),o=r.key,l=r.value,c=Mh();l.forEach(e=>{if(!i.has(e)){const r=uf(t.get(e),n.get(e));null!==r&&c.set(e,r),i=i.add(e)}}),s.push(this.documentOverlayCache.saveOverlays(e,o,c))}return Wu.waitFor(s)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.recalculateAndSaveOverlays(e,t))}getDocumentsMatchingQuery(e,t,n){return function(e){return Lu.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):yh(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next(i=>{const s=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):Wu.resolve(Lh());let a=-1,o=i;return s.next(t=>Wu.forEach(t,(t,n)=>(a<n.largestBatchId&&(a=n.largestBatchId),i.get(t)?Wu.resolve():this.remoteDocumentCache.getEntry(e,t).next(e=>{o=o.insert(t,e)}))).next(()=>this.populateOverlays(e,t,i)).next(()=>this.computeViews(e,o,t,zh())).next(e=>({batchId:a,changes:Rh(e)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Lu(t)).next(e=>{let t=Ph();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t})}getDocumentsMatchingCollectionGroupQuery(e,t,n){const r=t.collectionGroup;let i=Ph();return this.indexManager.getCollectionParents(e,r).next(s=>Wu.forEach(s,s=>{const a=function(e,t){return new hh(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,s.child(r));return this.getDocumentsMatchingCollectionQuery(e,a,n).next(e=>{e.forEach((e,t)=>{i=i.insert(e,t)})})}).next(()=>i))}getDocumentsMatchingCollectionQuery(e,t,n){let r;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next(i=>(r=i,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,r))).next(e=>{r.forEach((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,Fd.newInvalidDocument(r)))});let n=Ph();return e.forEach((e,i)=>{const s=r.get(e);void 0!==s&&hf(s.mutation,i,ld.empty(),ju.now()),Nh(t,i)&&(n=n.insert(e,i))}),n})}}class Rp{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return Wu.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var n;return this.cs.set(t.id,{id:(n=t).id,version:n.version,createTime:tp(n.createTime)}),Wu.resolve()}getNamedQuery(e,t){return Wu.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,function(e){return{name:e.name,query:Np(e.bundledQuery),readTime:tp(e.readTime)}}(t)),Wu.resolve()}}class Lp{constructor(){this.overlays=new rd(Lu.comparator),this.ls=new Map}getOverlay(e,t){return Wu.resolve(this.overlays.get(t))}getOverlays(e,t){const n=Lh();return Wu.forEach(t,t=>this.getOverlay(e,t).next(e=>{null!==e&&n.set(t,e)})).next(()=>n)}saveOverlays(e,t,n){return n.forEach((n,r)=>{this.we(e,t,r)}),Wu.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.ls.get(n);return void 0!==r&&(r.forEach(e=>this.overlays=this.overlays.remove(e)),this.ls.delete(n)),Wu.resolve()}getOverlaysForCollection(e,t,n){const r=Lh(),i=t.length+1,s=new Lu(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const e=a.getNext().value,s=e.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return Wu.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new rd((e,t)=>e-t);const s=this.overlays.getIterator();for(;s.hasNext();){const e=s.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=Lh(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const a=Lh(),o=i.getIterator();for(;o.hasNext()&&(o.getNext().value.forEach((e,t)=>a.set(e,t)),!(a.size()>=r)););return Wu.resolve(a)}we(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.ls.get(r.largestBatchId).delete(n.key);this.ls.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new Sf(t,n));let i=this.ls.get(t);void 0===i&&(i=zh(),this.ls.set(t,i)),this.ls.set(t,i.add(n.key))}}class Mp{constructor(){this.fs=new ad(Fp.ds),this.ws=new ad(Fp._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const n=new Fp(e,t);this.fs=this.fs.add(n),this.ws=this.ws.add(n)}gs(e,t){e.forEach(e=>this.addReference(e,t))}removeReference(e,t){this.ys(new Fp(e,t))}ps(e,t){e.forEach(e=>this.removeReference(e,t))}Is(e){const t=new Lu(new Ou([])),n=new Fp(t,e),r=new Fp(t,e+1),i=[];return this.ws.forEachInRange([n,r],e=>{this.ys(e),i.push(e.key)}),i}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new Lu(new Ou([])),n=new Fp(t,e),r=new Fp(t,e+1);let i=zh();return this.ws.forEachInRange([n,r],e=>{i=i.add(e.key)}),i}containsKey(e){const t=new Fp(e,0),n=this.fs.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class Fp{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return Lu.comparator(e.key,t.key)||Cu(e.As,t.As)}static _s(e,t){return Cu(e.As,t.As)||Lu.comparator(e.key,t.key)}}class Up{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new ad(Fp.ds)}checkEmpty(e){return Wu.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.vs;this.vs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new kf(i,t,n,r);this.mutationQueue.push(s);for(const a of r)this.Rs=this.Rs.add(new Fp(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return Wu.resolve(s)}lookupMutationBatch(e,t){return Wu.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.bs(n),i=r<0?0:r;return Wu.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return Wu.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return Wu.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new Fp(t,0),r=new Fp(t,Number.POSITIVE_INFINITY),i=[];return this.Rs.forEachInRange([n,r],e=>{const t=this.Ps(e.As);i.push(t)}),Wu.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new ad(Cu);return t.forEach(e=>{const t=new Fp(e,0),r=new Fp(e,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([t,r],e=>{n=n.add(e.As)})}),Wu.resolve(this.Vs(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;Lu.isDocumentKey(i)||(i=i.child(""));const s=new Fp(new Lu(i),0);let a=new ad(Cu);return this.Rs.forEachWhile(e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e.As)),!0)},s),Wu.resolve(this.Vs(a))}Vs(e){const t=[];return e.forEach(e=>{const n=this.Ps(e);null!==n&&t.push(n)}),t}removeMutationBatch(e,t){fu(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let n=this.Rs;return Wu.forEach(t.mutations,r=>{const i=new Fp(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Rs=n})}Cn(e){}containsKey(e,t){const n=new Fp(t,0),r=this.Rs.firstAfterOrEqual(n);return Wu.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,Wu.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Vp{constructor(e){this.Ds=e,this.docs=new rd(Lu.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,s=this.Ds(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:s}),this.size+=s-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return Wu.resolve(n?n.document.mutableCopy():Fd.newInvalidDocument(t))}getEntries(e,t){let n=Dh();return t.forEach(e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():Fd.newInvalidDocument(e))}),Wu.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=Dh();const s=t.path,a=new Lu(s.child("")),o=this.docs.getIteratorFrom(a);for(;o.hasNext();){const{key:e,value:{document:a}}=o.getNext();if(!s.isPrefixOf(e.path))break;e.path.length>s.length+1||zu(Uu(a),n)<=0||(r.has(a.key)||Nh(t,a))&&(i=i.insert(a.key,a.mutableCopy()))}return Wu.resolve(i)}getAllFromCollectionGroup(e,t,n,r){hu()}Cs(e,t){return Wu.forEach(this.docs,e=>t(e))}newChangeBuffer(e){return new zp(this)}getSize(e){return Wu.resolve(this.size)}}class zp extends Dp{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((n,r)=>{r.isValidDocument()?t.push(this.os.addEntry(e,r)):this.os.removeEntry(n)}),Wu.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class Bp{constructor(e){this.persistence=e,this.xs=new jh(e=>ch(e),uh),this.lastRemoteSnapshotVersion=Au.min(),this.highestTargetId=0,this.Ns=0,this.ks=new Mp,this.targetCount=0,this.Ms=Ap.kn()}forEachTarget(e,t){return this.xs.forEach((e,n)=>t(n)),Wu.resolve()}getLastRemoteSnapshotVersion(e){return Wu.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Wu.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),Wu.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Ns&&(this.Ns=t),Wu.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new Ap(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,Wu.resolve()}updateTargetData(e,t){return this.Fn(t),Wu.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,Wu.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.xs.forEach((s,a)=>{a.sequenceNumber<=t&&null===n.get(a.targetId)&&(this.xs.delete(s),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)}),Wu.waitFor(i).next(()=>r)}getTargetCount(e){return Wu.resolve(this.targetCount)}getTargetData(e,t){const n=this.xs.get(t)||null;return Wu.resolve(n)}addMatchingKeys(e,t,n){return this.ks.gs(t,n),Wu.resolve()}removeMatchingKeys(e,t,n){this.ks.ps(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach(t=>{i.push(r.markPotentiallyOrphaned(e,t))}),Wu.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),Wu.resolve()}getMatchingKeysForTargetId(e,t){const n=this.ks.Es(t);return Wu.resolve(n)}containsKey(e,t){return Wu.resolve(this.ks.containsKey(t))}}class qp{constructor(e,t){this.$s={},this.overlays={},this.Os=new Ku(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new Bp(this),this.indexManager=new Cp,this.remoteDocumentCache=function(e){return new Vp(e)}(e=>this.referenceDelegate.Ls(e)),this.serializer=new _p(t),this.qs=new Rp(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Lp,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.$s[e.toKey()];return n||(n=new Up(t,this.referenceDelegate),this.$s[e.toKey()]=n),n}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,n){lu("MemoryPersistence","Starting transaction:",e);const r=new $p(this.Os.next());return this.referenceDelegate.Us(),n(r).next(e=>this.referenceDelegate.Ks(r).next(()=>e)).toPromise().then(e=>(r.raiseOnCommittedEvent(),e))}Gs(e,t){return Wu.or(Object.values(this.$s).map(n=>()=>n.containsKey(e,t)))}}class $p extends qu{constructor(e){super(),this.currentSequenceNumber=e}}class Wp{constructor(e){this.persistence=e,this.Qs=new Mp,this.js=null}static zs(e){return new Wp(e)}get Ws(){if(this.js)return this.js;throw hu()}addReference(e,t,n){return this.Qs.addReference(n,t),this.Ws.delete(n.toString()),Wu.resolve()}removeReference(e,t,n){return this.Qs.removeReference(n,t),this.Ws.add(n.toString()),Wu.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),Wu.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(e=>this.Ws.add(e.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(e=>{e.forEach(e=>this.Ws.add(e.toString()))}).next(()=>n.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Wu.forEach(this.Ws,n=>{const r=Lu.fromPath(n);return this.Hs(e,r).next(e=>{e||t.removeEntry(r,Au.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(e=>{e?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return Wu.or([()=>Wu.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class Hp{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Fi=n,this.Bi=r}static Li(e,t){let n=zh(),r=zh();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new Hp(e,t.fromCache,n,r)}}class Kp{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,n,r){return this.Ki(e,t).next(i=>i||this.Gi(e,t,r,n)).next(n=>n||this.Qi(e,t))}Ki(e,t){if(mh(t))return Wu.resolve(null);let n=wh(t);return this.indexManager.getIndexType(e,n).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=kh(t,null,"F"),n=wh(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next(r=>{const i=zh(...r);return this.Ui.getDocuments(e,i).next(r=>this.indexManager.getMinOffset(e,n).next(n=>{const s=this.ji(t,r);return this.zi(t,s,i,n.readTime)?this.Ki(e,kh(t,null,"F")):this.Wi(e,s,t,n)}))})))}Gi(e,t,n,r){return mh(t)||r.isEqual(Au.min())?this.Qi(e,t):this.Ui.getDocuments(e,n).next(i=>{const s=this.ji(t,i);return this.zi(t,s,n,r)?this.Qi(e,t):(ou()<=dt.DEBUG&&lu("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),_h(t)),this.Wi(e,s,t,Fu(r,-1)))})}ji(e,t){let n=new ad(Ch(e));return t.forEach((t,r)=>{Nh(e,r)&&(n=n.add(r))}),n}zi(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Qi(e,t){return ou()<=dt.DEBUG&&lu("QueryEngine","Using full collection scan to execute query:",_h(t)),this.Ui.getDocumentsMatchingQuery(e,t,Vu.min())}Wi(e,t,n,r){return this.Ui.getDocumentsMatchingQuery(e,n,r).next(e=>(t.forEach(t=>{e=e.insert(t.key,t)}),e))}}class Gp{constructor(e,t,n,r){this.persistence=e,this.Hi=t,this.serializer=r,this.Ji=new rd(Cu),this.Yi=new jh(e=>ch(e),uh),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(n)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Pp(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function Qp(e,t,n,r){return new Gp(e,t,n,r)}async function Yp(e,t){const n=pu(e);return await n.persistence.runTransaction("Handle user change","readonly",e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next(i=>(r=i,n.tr(t),n.mutationQueue.getAllMutationBatches(e))).next(t=>{const i=[],s=[];let a=zh();for(const e of r){i.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}for(const e of t){s.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}return n.localDocuments.getDocuments(e,a).next(e=>({er:e,removedBatchIds:i,addedBatchIds:s}))})})}function Jp(e){const t=pu(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Bs.getLastRemoteSnapshotVersion(e))}function Xp(e,t,n){let r=zh(),i=zh();return n.forEach(e=>r=r.add(e)),t.getEntries(e,r).next(e=>{let r=Dh();return n.forEach((n,s)=>{const a=e.get(n);s.isFoundDocument()!==a.isFoundDocument()&&(i=i.add(n)),s.isNoDocument()&&s.version.isEqual(Au.min())?(t.removeEntry(n,s.readTime),r=r.insert(n,s)):!a.isValidDocument()||s.version.compareTo(a.version)>0||0===s.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(s),r=r.insert(n,s)):lu("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",s.version)}),{nr:r,sr:i}})}function Zp(e,t){const n=pu(e);return n.persistence.runTransaction("Get next mutation batch","readonly",e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)))}function em(e,t){const n=pu(e);return n.persistence.runTransaction("Allocate target","readwrite",e=>{let r;return n.Bs.getTargetData(e,t).next(i=>i?(r=i,Wu.resolve(r)):n.Bs.allocateTargetId(e).next(i=>(r=new Sp(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Bs.addTargetData(e,r).next(()=>r))))}).then(e=>{const r=n.Ji.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(e.targetId,e),n.Yi.set(t,e.targetId)),e})}async function tm(e,t,n){const r=pu(e),i=r.Ji.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,e=>r.persistence.referenceDelegate.removeTarget(e,i))}catch(e){if(!Hu(e))throw e;lu("LocalStore",`Failed to update sequence numbers for target ${t}: ${e}`)}r.Ji=r.Ji.remove(t),r.Yi.delete(i.target)}function nm(e,t,n){const r=pu(e);let i=Au.min(),s=zh();return r.persistence.runTransaction("Execute query","readonly",e=>function(e,t,n){const r=pu(e),i=r.Yi.get(n);return void 0!==i?Wu.resolve(r.Ji.get(i)):r.Bs.getTargetData(t,n)}(r,e,wh(t)).next(t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(e,t.targetId).next(e=>{s=e})}).next(()=>r.Hi.getDocumentsMatchingQuery(e,t,n?i:Au.min(),n?s:zh())).next(e=>(rm(r,Th(t),e),{documents:e,ir:s})))}function rm(e,t,n){let r=e.Xi.get(t)||Au.min();n.forEach((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)}),e.Xi.set(t,r)}class im{constructor(){this.activeTargetIds=qh()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class sm{constructor(){this.Hr=new im,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,n){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new im,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class am{Yr(e){}shutdown(){}}class om{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){lu("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){lu("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let lm=null;function cm(){return null===lm?lm=268435456+Math.round(2147483648*Math.random()):lm++,"0x"+lm.toString(16)}const um={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class dm{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const hm="WebChannelConnection";class fm extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http";this.mo=t+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,n,r,i){const s=cm(),a=this.To(e,t);lu("RestConnection",`Sending RPC '${e}' ${s}:`,a,n);const o={};return this.Eo(o,r,i),this.Ao(e,a,o,n).then(t=>(lu("RestConnection",`Received RPC '${e}' ${s}: `,t),t),t=>{throw uu("RestConnection",`RPC '${e}' ${s} failed with error: `,t,"url: ",a,"request:",n),t})}vo(e,t,n,r,i,s){return this.Io(e,t,n,r,i)}Eo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+su,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((t,n)=>e[n]=t),n&&n.headers.forEach((t,n)=>e[n]=t)}To(e,t){const n=um[e];return`${this.mo}/v1/${t}:${n}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,n,r){const i=cm();return new Promise((s,a)=>{const o=new eu;o.setWithCredentials(!0),o.listenOnce(Qc.COMPLETE,()=>{try{switch(o.getLastErrorCode()){case Gc.NO_ERROR:const t=o.getResponseJson();lu(hm,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(t)),s(t);break;case Gc.TIMEOUT:lu(hm,`RPC '${e}' ${i} timed out`),a(new gu(mu.DEADLINE_EXCEEDED,"Request time out"));break;case Gc.HTTP_ERROR:const n=o.getStatus();if(lu(hm,`RPC '${e}' ${i} failed with status:`,n,"response text:",o.getResponseText()),n>0){let e=o.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(mu).indexOf(t)>=0?t:mu.UNKNOWN}(t.status);a(new gu(e,t.message))}else a(new gu(mu.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new gu(mu.UNAVAILABLE,"Connection failed."));break;default:hu()}}finally{lu(hm,`RPC '${e}' ${i} completed.`)}});const l=JSON.stringify(r);lu(hm,`RPC '${e}' ${i} sending request:`,r),o.send(t,"POST",l,n,15)})}Ro(e,t,n){const r=cm(),i=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=Hc(),a=Kc(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(o.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(o.xmlHttpFactory=new Xc({})),this.Eo(o.initMessageHeaders,t,n),o.encodeInitMessageHeaders=!0;const c=i.join("");lu(hm,`Creating RPC '${e}' stream ${r}: ${c}`,o);const u=s.createWebChannel(c,o);let d=!1,h=!1;const f=new dm({ro:t=>{h?lu(hm,`Not sending because RPC '${e}' stream ${r} is closed:`,t):(d||(lu(hm,`Opening RPC '${e}' stream ${r} transport.`),u.open(),d=!0),lu(hm,`RPC '${e}' stream ${r} sending:`,t),u.send(t))},oo:()=>u.close()}),p=(e,t,n)=>{e.listen(t,e=>{try{n(e)}catch(e){setTimeout(()=>{throw e},0)}})};return p(u,Zc.EventType.OPEN,()=>{h||lu(hm,`RPC '${e}' stream ${r} transport opened.`)}),p(u,Zc.EventType.CLOSE,()=>{h||(h=!0,lu(hm,`RPC '${e}' stream ${r} transport closed`),f.wo())}),p(u,Zc.EventType.ERROR,t=>{h||(h=!0,uu(hm,`RPC '${e}' stream ${r} transport errored:`,t),f.wo(new gu(mu.UNAVAILABLE,"The operation could not be completed")))}),p(u,Zc.EventType.MESSAGE,t=>{var n;if(!h){const i=t.data[0];fu(!!i);const s=i,a=s.error||(null===(n=s[0])||void 0===n?void 0:n.error);if(a){lu(hm,`RPC '${e}' stream ${r} received error:`,a);const t=a.status;let n=function(e){const t=Nf[e];if(void 0!==t)return If(t)}(t),i=a.message;void 0===n&&(n=mu.INTERNAL,i="Unknown error status: "+t+" with message "+a.message),h=!0,f.wo(new gu(n,i)),u.close()}else lu(hm,`RPC '${e}' stream ${r} received:`,i),f._o(i)}}),p(a,Yc.STAT_EVENT,t=>{t.stat===Jc.PROXY?lu(hm,`RPC '${e}' stream ${r} detected buffering proxy`):t.stat===Jc.NOPROXY&&lu(hm,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{f.fo()},0),f}}function pm(){return"undefined"!=typeof document?document:null}function mm(e){return new Yf(e,!0)}class gm{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.ii=e,this.timerId=t,this.Po=n,this.bo=r,this.Vo=i,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),n=Math.max(0,Date.now()-this.Co),r=Math.max(0,t-n);r>0&&lu("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,r,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class vm{constructor(e,t,n,r,i,s,a,o){this.ii=e,this.$o=n,this.Oo=r,this.connection=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=o,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new gm(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}async stop(){this.Uo()&&await this.close(0)}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}async zo(){if(this.Ko())return this.close(0)}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}async close(e,t){this.Ho(),this.Jo(),this.qo.cancel(),this.Fo++,4!==e?this.qo.reset():t&&t.code===mu.RESOURCE_EXHAUSTED?(cu(t.toString()),cu("Using maximum backoff delay to prevent overloading the backend."),this.qo.xo()):t&&t.code===mu.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Yo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.ao(t)}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(e=>{let[n,r]=e;this.Fo===t&&this.Zo(n,r)},t=>{e(()=>{const e=new gu(mu.UNKNOWN,"Fetching auth token failed: "+t.message);return this.tu(e)})})}Zo(e,t){const n=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{n(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(e=>{n(()=>this.tu(e))}),this.stream.onMessage(e=>{n(()=>this.onMessage(e))})}Go(){this.state=5,this.qo.No(async()=>{this.state=0,this.start()})}tu(e){return lu("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(lu("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class ym extends vm{constructor(e,t,n,r,i,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:hu()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(e,t){return e.useProto3Json?(fu(void 0===t||"string"==typeof t),ud.fromBase64String(t||"")):(fu(void 0===t||t instanceof Uint8Array),ud.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),a=t.targetChange.cause,o=a&&function(e){const t=void 0===e.code?mu.UNKNOWN:If(e.code);return new gu(t,e.message||"")}(a);n=new Bf(r,i,s,o||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=sp(e,r.document.name),s=tp(r.document.updateTime),a=r.document.createTime?tp(r.document.createTime):Au.min(),o=new Ld({mapValue:{fields:r.document.fields}}),l=Fd.newFoundDocument(i,s,a,o),c=r.targetIds||[],u=r.removedTargetIds||[];n=new Vf(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=sp(e,r.document),s=r.readTime?tp(r.readTime):Au.min(),a=Fd.newNoDocument(i,s),o=r.removedTargetIds||[];n=new Vf([],o,a.key,a)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=sp(e,r.document),s=r.removedTargetIds||[];n=new Vf([],s,i,null)}else{if(!("filter"in t))return hu();{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,s=new _f(r,i),a=e.targetId;n=new zf(a,s)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return Au.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?Au.min():t.readTime?tp(t.readTime):Au.min()}(e);return this.listener.nu(t,n)}su(e){const t={};t.database=lp(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=dh(r)?{documents:hp(e,r)}:{query:fp(e,r)},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=Zf(e,t.resumeToken);const r=Jf(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(Au.min())>0){n.readTime=Xf(e,t.snapshotVersion.toTimestamp());const r=Jf(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return hu()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.Wo(t)}iu(e){const t={};t.database=lp(this.serializer),t.removeTarget=e,this.Wo(t)}}class bm extends vm{constructor(e,t,n,r,i,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(fu(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function(e,t){return e&&e.length>0?(fu(void 0!==t),e.map(e=>function(e,t){let n=e.updateTime?tp(e.updateTime):tp(t);return n.isEqual(Au.min())&&(n=tp(t)),new af(n,e.transformResults||[])}(e,t))):[]}(e.writeResults,e.commitTime),n=tp(e.commitTime);return this.listener.cu(n,t)}return fu(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=lp(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(e=>dp(this.serializer,e))};this.Wo(t)}}class wm extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.lu=!1}fu(){if(this.lu)throw new gu(mu.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,n){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(r=>{let[i,s]=r;return this.connection.Io(e,t,n,i,s)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===mu.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new gu(mu.UNKNOWN,e.toString())})}vo(e,t,n,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(i=>{let[s,a]=i;return this.connection.vo(e,t,n,s,a,r)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===mu.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new gu(mu.UNKNOWN,e.toString())})}terminate(){this.lu=!0}}class xm{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(cu(t),this.mu=!1):lu("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class km{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=i,this.Pu.Yr(e=>{n.enqueueAndForget(async()=>{Am(this)&&(lu("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=pu(e);t.vu.add(4),await Sm(t),t.bu.set("Unknown"),t.vu.delete(4),await Em(t)}(this))})}),this.bu=new xm(n,r)}}async function Em(e){if(Am(e))for(const t of e.Ru)await t(!0)}async function Sm(e){for(const t of e.Ru)await t(!1)}function _m(e,t){const n=pu(e);n.Au.has(t.targetId)||(n.Au.set(t.targetId,t),jm(n)?Im(n):Qm(n).Ko()&&Tm(n,t))}function Nm(e,t){const n=pu(e),r=Qm(n);n.Au.delete(t),r.Ko()&&Cm(n,t),0===n.Au.size&&(r.Ko()?r.jo():Am(n)&&n.bu.set("Unknown"))}function Tm(e,t){if(e.Vu.qt(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Au.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Qm(e).su(t)}function Cm(e,t){e.Vu.qt(t),Qm(e).iu(t)}function Im(e){e.Vu=new $f({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),le:t=>e.Au.get(t)||null,ue:()=>e.datastore.serializer.databaseId}),Qm(e).start(),e.bu.gu()}function jm(e){return Am(e)&&!Qm(e).Uo()&&e.Au.size>0}function Am(e){return 0===pu(e).vu.size}function Dm(e){e.Vu=void 0}async function Om(e){e.Au.forEach((t,n)=>{Tm(e,t)})}async function Pm(e,t){Dm(e),jm(e)?(e.bu.Iu(t),Im(e)):e.bu.set("Unknown")}async function Rm(e,t,n){if(e.bu.set("Online"),t instanceof Bf&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.Au.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.Au.delete(r),e.Vu.removeTarget(r))}(e,t)}catch(n){lu("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await Lm(e,n)}else if(t instanceof Vf?e.Vu.Ht(t):t instanceof zf?e.Vu.ne(t):e.Vu.Xt(t),!n.isEqual(Au.min()))try{const t=await Jp(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.Vu.ce(t);return n.targetChanges.forEach((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.Au.get(r);i&&e.Au.set(r,i.withResumeToken(n.resumeToken,t))}}),n.targetMismatches.forEach((t,n)=>{const r=e.Au.get(t);if(!r)return;e.Au.set(t,r.withResumeToken(ud.EMPTY_BYTE_STRING,r.snapshotVersion)),Cm(e,t);const i=new Sp(r.target,t,n,r.sequenceNumber);Tm(e,i)}),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){lu("RemoteStore","Failed to raise snapshot:",t),await Lm(e,t)}}async function Lm(e,t,n){if(!Hu(t))throw t;e.vu.add(1),await Sm(e),e.bu.set("Offline"),n||(n=()=>Jp(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{lu("RemoteStore","Retrying IndexedDB access"),await n(),e.vu.delete(1),await Em(e)})}function Mm(e,t){return t().catch(n=>Lm(e,n,t))}async function Fm(e){const t=pu(e),n=Ym(t);let r=t.Eu.length>0?t.Eu[t.Eu.length-1].batchId:-1;for(;Um(t);)try{const e=await Zp(t.localStore,r);if(null===e){0===t.Eu.length&&n.jo();break}r=e.batchId,Vm(t,e)}catch(e){await Lm(t,e)}zm(t)&&Bm(t)}function Um(e){return Am(e)&&e.Eu.length<10}function Vm(e,t){e.Eu.push(t);const n=Ym(e);n.Ko()&&n.ou&&n.uu(t.mutations)}function zm(e){return Am(e)&&!Ym(e).Uo()&&e.Eu.length>0}function Bm(e){Ym(e).start()}async function qm(e){Ym(e).hu()}async function $m(e){const t=Ym(e);for(const n of e.Eu)t.uu(n.mutations)}async function Wm(e,t,n){const r=e.Eu.shift(),i=Ef.from(r,t,n);await Mm(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await Fm(e)}async function Hm(e,t){t&&Ym(e).ou&&await async function(e,t){if(Cf(n=t.code)&&n!==mu.ABORTED){const n=e.Eu.shift();Ym(e).Qo(),await Mm(e,()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t)),await Fm(e)}var n}(e,t),zm(e)&&Bm(e)}async function Km(e,t){const n=pu(e);n.asyncQueue.verifyOperationInProgress(),lu("RemoteStore","RemoteStore received new credentials");const r=Am(n);n.vu.add(3),await Sm(n),r&&n.bu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.vu.delete(3),await Em(n)}async function Gm(e,t){const n=pu(e);t?(n.vu.delete(2),await Em(n)):t||(n.vu.add(2),await Sm(n),n.bu.set("Unknown"))}function Qm(e){return e.Su||(e.Su=function(e,t,n){const r=pu(e);return r.fu(),new ym(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{uo:Om.bind(null,e),ao:Pm.bind(null,e),nu:Rm.bind(null,e)}),e.Ru.push(async t=>{t?(e.Su.Qo(),jm(e)?Im(e):e.bu.set("Unknown")):(await e.Su.stop(),Dm(e))})),e.Su}function Ym(e){return e.Du||(e.Du=function(e,t,n){const r=pu(e);return r.fu(),new bm(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{uo:qm.bind(null,e),ao:Hm.bind(null,e),au:$m.bind(null,e),cu:Wm.bind(null,e)}),e.Ru.push(async t=>{t?(e.Du.Qo(),await Fm(e)):(await e.Du.stop(),e.Eu.length>0&&(lu("RemoteStore",`Stopping write stream with ${e.Eu.length} pending writes`),e.Eu=[]))})),e.Du}class Jm{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new vu,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(e=>{})}static createAndSchedule(e,t,n,r,i){const s=Date.now()+n,a=new Jm(e,t,s,r,i);return a.start(n),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new gu(mu.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Xm(e,t){if(cu("AsyncQueue",`${t}: ${e}`),Hu(e))return new gu(mu.UNAVAILABLE,`${t}: ${e}`);throw e}class Zm{constructor(e){this.comparator=e?(t,n)=>e(t,n)||Lu.comparator(t.key,n.key):(e,t)=>Lu.comparator(e.key,t.key),this.keyedMap=Ph(),this.sortedSet=new rd(this.comparator)}static emptySet(e){return new Zm(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Zm))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new Zm;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class eg{constructor(){this.Cu=new rd(Lu.comparator)}track(e){const t=e.doc.key,n=this.Cu.get(t);n?0!==e.type&&3===n.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==n.type?this.Cu=this.Cu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Cu=this.Cu.remove(t):1===e.type&&2===n.type?this.Cu=this.Cu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):hu():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,n)=>{e.push(n)}),e}}class tg{constructor(e,t,n,r,i,s,a,o,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=o,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const s=[];return t.forEach(e=>{s.push({type:0,doc:e})}),new tg(e,t,Zm.emptySet(t),s,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Eh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class ng{constructor(){this.Nu=void 0,this.listeners=[]}}class rg{constructor(){this.queries=new jh(e=>Sh(e),Eh),this.onlineState="Unknown",this.ku=new Set}}async function ig(e,t){const n=pu(e),r=t.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new ng),i)try{s.Nu=await n.onListen(r)}catch(e){const n=Xm(e,`Initialization of query '${_h(t.query)}' failed`);return void t.onError(n)}n.queries.set(r,s),s.listeners.push(t),t.Mu(n.onlineState),s.Nu&&t.$u(s.Nu)&&lg(n)}async function sg(e,t){const n=pu(e),r=t.query;let i=!1;const s=n.queries.get(r);if(s){const e=s.listeners.indexOf(t);e>=0&&(s.listeners.splice(e,1),i=0===s.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function ag(e,t){const n=pu(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.listeners)e.$u(i)&&(r=!0);t.Nu=i}}r&&lg(n)}function og(e,t,n){const r=pu(e),i=r.queries.get(t);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(t)}function lg(e){e.ku.forEach(e=>{e.next()})}class cg{constructor(e,t,n){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=n||{}}$u(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new tg(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){if(!e.fromCache)return!0;const n="Offline"!==t;return(!this.options.Ku||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){if(e.docChanges.length>0)return!0;const t=this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}Uu(e){e=tg.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class ug{constructor(e){this.key=e}}class dg{constructor(e){this.key=e}}class hg{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=zh(),this.mutatedKeys=zh(),this.tc=Ch(e),this.ec=new Zm(this.tc)}get nc(){return this.Yu}sc(e,t){const n=t?t.ic:new eg,r=t?t.ec:this.ec;let i=t?t.mutatedKeys:this.mutatedKeys,s=r,a=!1;const o="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((e,t)=>{const c=r.get(e),u=Nh(this.query,t)?t:null,d=!!c&&this.mutatedKeys.has(c.key),h=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?d!==h&&(n.track({type:3,doc:u}),f=!0):this.rc(c,u)||(n.track({type:2,doc:u}),f=!0,(o&&this.tc(u,o)>0||l&&this.tc(u,l)<0)&&(a=!0)):!c&&u?(n.track({type:0,doc:u}),f=!0):c&&!u&&(n.track({type:1,doc:c}),f=!0,(o||l)&&(a=!0)),f&&(u?(s=s.add(u),i=h?i.add(e):i.delete(e)):(s=s.delete(e),i=i.delete(e)))}),null!==this.query.limit)for(;s.size>this.query.limit;){const e="F"===this.query.limitType?s.last():s.first();s=s.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{ec:s,ic:n,zi:a,mutatedKeys:i}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n){const r=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const i=e.ic.xu();i.sort((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return hu()}};return n(e)-n(t)}(e.type,t.type)||this.tc(e.doc,t.doc)),this.oc(n);const s=t?this.uc():[],a=0===this.Zu.size&&this.current?1:0,o=a!==this.Xu;return this.Xu=a,0!==i.length||o?{snapshot:new tg(this.query,e.ec,r,i,e.mutatedKeys,0===a,o,!1,!!n&&n.resumeToken.approximateByteSize()>0),cc:s}:{cc:s}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new eg,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(e=>this.Yu=this.Yu.add(e)),e.modifiedDocuments.forEach(e=>{}),e.removedDocuments.forEach(e=>this.Yu=this.Yu.delete(e)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=zh(),this.ec.forEach(e=>{this.ac(e.key)&&(this.Zu=this.Zu.add(e.key))});const t=[];return e.forEach(e=>{this.Zu.has(e)||t.push(new dg(e))}),this.Zu.forEach(n=>{e.has(n)||t.push(new ug(n))}),t}hc(e){this.Yu=e.ir,this.Zu=zh();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return tg.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class fg{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class pg{constructor(e){this.key=e,this.fc=!1}}class mg{constructor(e,t,n,r,i,s){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.dc={},this.wc=new jh(e=>Sh(e),Eh),this._c=new Map,this.mc=new Set,this.gc=new rd(Lu.comparator),this.yc=new Map,this.Ic=new Mp,this.Tc={},this.Ec=new Map,this.Ac=Ap.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}async function gg(e,t){const n=Pg(e);let r,i;const s=n.wc.get(t);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.lc();else{const e=await em(n.localStore,wh(t)),s=n.sharedClientState.addLocalQueryTarget(e.targetId);r=e.targetId,i=await vg(n,t,r,"current"===s,e.resumeToken),n.isPrimaryClient&&_m(n.remoteStore,e)}return i}async function vg(e,t,n,r,i){e.Rc=(t,n,r)=>async function(e,t,n,r){let i=t.view.sc(n);i.zi&&(i=await nm(e.localStore,t.query,!1).then(e=>{let{documents:n}=e;return t.view.sc(n,i)}));const s=r&&r.targetChanges.get(t.targetId),a=t.view.applyChanges(i,e.isPrimaryClient,s);return Cg(e,t.targetId,a.cc),a.snapshot}(e,t,n,r);const s=await nm(e.localStore,t,!0),a=new hg(t,s.ir),o=a.sc(s.documents),l=Uf.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),c=a.applyChanges(o,e.isPrimaryClient,l);Cg(e,n,c.cc);const u=new fg(t,n,a);return e.wc.set(t,u),e._c.has(n)?e._c.get(n).push(t):e._c.set(n,[t]),c.snapshot}async function yg(e,t){const n=pu(e),r=n.wc.get(t),i=n._c.get(r.targetId);if(i.length>1)return n._c.set(r.targetId,i.filter(e=>!Eh(e,t))),void n.wc.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await tm(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),Nm(n.remoteStore,r.targetId),Ng(n,r.targetId)}).catch($u)):(Ng(n,r.targetId),await tm(n.localStore,r.targetId,!0))}async function bg(e,t){const n=pu(e);try{const e=await function(e,t){const n=pu(e),r=t.snapshotVersion;let i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",e=>{const s=n.Zi.newChangeBuffer({trackRemovals:!0});i=n.Ji;const a=[];t.targetChanges.forEach((s,o)=>{const l=i.get(o);if(!l)return;a.push(n.Bs.removeMatchingKeys(e,s.removedDocuments,o).next(()=>n.Bs.addMatchingKeys(e,s.addedDocuments,o)));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(o)?c=c.withResumeToken(ud.EMPTY_BYTE_STRING,Au.min()).withLastLimboFreeSnapshotVersion(Au.min()):s.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(s.resumeToken,r)),i=i.insert(o,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(l,c,s)&&a.push(n.Bs.updateTargetData(e,c))});let o=Dh(),l=zh();if(t.documentUpdates.forEach(r=>{t.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))}),a.push(Xp(e,s,t.documentUpdates).next(e=>{o=e.nr,l=e.sr})),!r.isEqual(Au.min())){const t=n.Bs.getLastRemoteSnapshotVersion(e).next(t=>n.Bs.setTargetsMetadata(e,e.currentSequenceNumber,r));a.push(t)}return Wu.waitFor(a).next(()=>s.apply(e)).next(()=>n.localDocuments.getLocalViewOfDocuments(e,o,l)).next(()=>o)}).then(e=>(n.Ji=i,e))}(n.localStore,t);t.targetChanges.forEach((e,t)=>{const r=n.yc.get(t);r&&(fu(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.fc=!0:e.modifiedDocuments.size>0?fu(r.fc):e.removedDocuments.size>0&&(fu(r.fc),r.fc=!1))}),await Ag(n,e,t)}catch(e){await $u(e)}}function wg(e,t,n){const r=pu(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.wc.forEach((n,r)=>{const i=r.view.Mu(t);i.snapshot&&e.push(i.snapshot)}),function(e,t){const n=pu(e);n.onlineState=t;let r=!1;n.queries.forEach((e,n)=>{for(const i of n.listeners)i.Mu(t)&&(r=!0)}),r&&lg(n)}(r.eventManager,t),e.length&&r.dc.nu(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function xg(e,t,n){const r=pu(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.yc.get(t),s=i&&i.key;if(s){let e=new rd(Lu.comparator);e=e.insert(s,Fd.newNoDocument(s,Au.min()));const n=zh().add(s),i=new Ff(Au.min(),new Map,new rd(Cu),e,n);await bg(r,i),r.gc=r.gc.remove(s),r.yc.delete(t),jg(r)}else await tm(r.localStore,t,!1).then(()=>Ng(r,t,n)).catch($u)}async function kg(e,t){const n=pu(e),r=t.batch.batchId;try{const e=await function(e,t){const n=pu(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",e=>{const r=t.batch.keys(),i=n.Zi.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,s=i.keys();let a=Wu.resolve();return s.forEach(e=>{a=a.next(()=>r.getEntry(t,e)).next(t=>{const s=n.docVersions.get(e);fu(null!==s),t.version.compareTo(s)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))})}),a.next(()=>e.mutationQueue.removeMutationBatch(t,i))}(n,e,t,i).next(()=>i.apply(e)).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=zh();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))).next(()=>n.localDocuments.getDocuments(e,r))})}(n.localStore,t);_g(n,r,null),Sg(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Ag(n,e)}catch(e){await $u(e)}}async function Eg(e,t,n){const r=pu(e);try{const e=await function(e,t){const n=pu(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next(t=>(fu(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t))).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)).next(()=>n.localDocuments.getDocuments(e,r))})}(r.localStore,t);_g(r,t,n),Sg(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await Ag(r,e)}catch(n){await $u(n)}}function Sg(e,t){(e.Ec.get(t)||[]).forEach(e=>{e.resolve()}),e.Ec.delete(t)}function _g(e,t,n){const r=pu(e);let i=r.Tc[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Tc[r.currentUser.toKey()]=i}}function Ng(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e._c.get(t))e.wc.delete(r),n&&e.dc.Pc(r,n);e._c.delete(t),e.isPrimaryClient&&e.Ic.Is(t).forEach(t=>{e.Ic.containsKey(t)||Tg(e,t)})}function Tg(e,t){e.mc.delete(t.path.canonicalString());const n=e.gc.get(t);null!==n&&(Nm(e.remoteStore,n),e.gc=e.gc.remove(t),e.yc.delete(n),jg(e))}function Cg(e,t,n){for(const r of n)r instanceof ug?(e.Ic.addReference(r.key,t),Ig(e,r)):r instanceof dg?(lu("SyncEngine","Document no longer in limbo: "+r.key),e.Ic.removeReference(r.key,t),e.Ic.containsKey(r.key)||Tg(e,r.key)):hu()}function Ig(e,t){const n=t.key,r=n.path.canonicalString();e.gc.get(n)||e.mc.has(r)||(lu("SyncEngine","New document in limbo: "+n),e.mc.add(r),jg(e))}function jg(e){for(;e.mc.size>0&&e.gc.size<e.maxConcurrentLimboResolutions;){const t=e.mc.values().next().value;e.mc.delete(t);const n=new Lu(Ou.fromString(t)),r=e.Ac.next();e.yc.set(r,new pg(n)),e.gc=e.gc.insert(n,r),_m(e.remoteStore,new Sp(wh(ph(n.path)),r,"TargetPurposeLimboResolution",Ku.ct))}}async function Ag(e,t,n){const r=pu(e),i=[],s=[],a=[];r.wc.isEmpty()||(r.wc.forEach((e,o)=>{a.push(r.Rc(o,t,n).then(e=>{if((e||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(o.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){i.push(e);const t=Hp.Li(o.targetId,e);s.push(t)}}))}),await Promise.all(a),r.dc.nu(i),await async function(e,t){const n=pu(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",e=>Wu.forEach(t,t=>Wu.forEach(t.Fi,r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r)).next(()=>Wu.forEach(t.Bi,r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))}catch(e){if(!Hu(e))throw e;lu("LocalStore","Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.Ji.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.Ji=n.Ji.insert(e,i)}}}(r.localStore,s))}async function Dg(e,t){const n=pu(e);if(!n.currentUser.isEqual(t)){lu("SyncEngine","User change. New user:",t.toKey());const e=await Yp(n.localStore,t);n.currentUser=t,function(e){e.Ec.forEach(e=>{e.forEach(e=>{e.reject(new gu(mu.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),e.Ec.clear()}(n),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await Ag(n,e.er)}}function Og(e,t){const n=pu(e),r=n.yc.get(t);if(r&&r.fc)return zh().add(r.key);{let e=zh();const r=n._c.get(t);if(!r)return e;for(const t of r){const r=n.wc.get(t);e=e.unionWith(r.view.nc)}return e}}function Pg(e){const t=pu(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=bg.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Og.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=xg.bind(null,t),t.dc.nu=ag.bind(null,t.eventManager),t.dc.Pc=og.bind(null,t.eventManager),t}function Rg(e){const t=pu(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=kg.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Eg.bind(null,t),t}class Lg{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=mm(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return Qp(this.persistence,new Kp,e.initialUser,this.serializer)}createPersistence(e){return new qp(Wp.zs,this.serializer)}createSharedClientState(e){return new sm}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class Mg{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>wg(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=Dg.bind(null,this.syncEngine),await Gm(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new rg}createDatastore(e){const t=mm(e.databaseInfo.databaseId),n=(r=e.databaseInfo,new fm(r));var r;return function(e,t,n,r){return new wm(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=e=>wg(this.syncEngine,e,0),s=om.D()?new om:new am,new km(t,n,r,i,s);var t,n,r,i,s}createSyncEngine(e,t){return function(e,t,n,r,i,s,a){const o=new mg(e,t,n,r,i,s);return a&&(o.vc=!0),o}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return async function(e){const t=pu(e);lu("RemoteStore","RemoteStore shutting down."),t.vu.add(5),await Sm(t),t.Pu.shutdown(),t.bu.set("Unknown")}(this.remoteStore)}}class Fg{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):cu("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class Ug{constructor(e,t,n,r){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=iu.UNAUTHENTICATED,this.clientId=Tu.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,async e=>{lu("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e}),this.appCheckCredentials.start(n,e=>(lu("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new gu(mu.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new vu;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(dk){const n=Xm(dk,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function Vg(e,t){e.asyncQueue.verifyOperationInProgress(),lu("FirestoreClient","Initializing OfflineComponentProvider");const n=await e.getConfiguration();await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async e=>{r.isEqual(e)||(await Yp(t.localStore,e),r=e)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function zg(e,t){e.asyncQueue.verifyOperationInProgress();const n=await qg(e);lu("FirestoreClient","Initializing OnlineComponentProvider");const r=await e.getConfiguration();await t.initialize(n,r),e.setCredentialChangeListener(e=>Km(t.remoteStore,e)),e.setAppCheckTokenChangeListener((e,n)=>Km(t.remoteStore,n)),e._onlineComponents=t}function Bg(e){return"FirebaseError"===e.name?e.code===mu.FAILED_PRECONDITION||e.code===mu.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}async function qg(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){lu("FirestoreClient","Using user provided OfflineComponentProvider");try{await Vg(e,e._uninitializedComponentsProvider._offline)}catch(dk){const n=dk;if(!Bg(n))throw n;uu("Error using user provided cache. Falling back to memory cache: "+n),await Vg(e,new Lg)}}else lu("FirestoreClient","Using default OfflineComponentProvider"),await Vg(e,new Lg);return e._offlineComponents}async function $g(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(lu("FirestoreClient","Using user provided OnlineComponentProvider"),await zg(e,e._uninitializedComponentsProvider._online)):(lu("FirestoreClient","Using default OnlineComponentProvider"),await zg(e,new Mg))),e._onlineComponents}function Wg(e){return $g(e).then(e=>e.syncEngine)}async function Hg(e){const t=await $g(e),n=t.eventManager;return n.onListen=gg.bind(null,t.syncEngine),n.onUnlisten=yg.bind(null,t.syncEngine),n}function Kg(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new vu;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,n,r,i){const s=new Fg({next:s=>{t.enqueueAndForget(()=>sg(e,a));const o=s.docs.has(n);!o&&s.fromCache?i.reject(new gu(mu.UNAVAILABLE,"Failed to get document because the client is offline.")):o&&s.fromCache&&r&&"server"===r.source?i.reject(new gu(mu.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(s)},error:e=>i.reject(e)}),a=new cg(ph(n.path),s,{includeMetadataChanges:!0,Ku:!0});return ig(e,a)}(await Hg(e),e.asyncQueue,t,n,r)),r.promise}function Gg(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new vu;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,n,r,i){const s=new Fg({next:n=>{t.enqueueAndForget(()=>sg(e,a)),n.fromCache&&"server"===r.source?i.reject(new gu(mu.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),a=new cg(n,s,{includeMetadataChanges:!0,Ku:!0});return ig(e,a)}(await Hg(e),e.asyncQueue,t,n,r)),r.promise}function Qg(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const Yg=new Map;function Jg(e,t,n){if(!n)throw new gu(mu.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function Xg(e){if(!Lu.isDocumentKey(e))throw new gu(mu.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function Zg(e){if(Lu.isDocumentKey(e))throw new gu(mu.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function ev(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return"function"==typeof e?"a function":hu()}function tv(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new gu(mu.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ev(e);throw new gu(mu.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}class nv{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new gu(mu.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new gu(mu.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new gu(mu.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Qg(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new gu(mu.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (must not be NaN)`);if(e.timeoutSeconds<5)throw new gu(mu.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (minimum allowed value is 5)`);if(e.timeoutSeconds>30)throw new gu(mu.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(t=this.experimentalLongPollingOptions,n=e.experimentalLongPollingOptions,t.timeoutSeconds===n.timeoutSeconds)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams;var t,n}}class rv{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new nv({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new gu(mu.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new gu(mu.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new nv(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new bu;switch(e.type){case"firstParty":return new Eu(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new gu(mu.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Yg.get(e);t&&(lu("ComponentProvider","Removing Datastore"),Yg.delete(e),t.terminate())}(this),Promise.resolve()}}function iv(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i;const s=(e=tv(e,rv))._getSettings(),a=`${t}:${n}`;if("firestore.googleapis.com"!==s.host&&s.host!==a&&uu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},s),{host:a,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=iu.MOCK_USER;else{t=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Ue(JSON.stringify({alg:"none",type:"JWT"})),Ue(JSON.stringify(s)),""].join(".")}(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new gu(mu.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new iu(s)}e._authCredentials=new wu(new yu(t,n))}}class sv{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ov(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new sv(this.firestore,e,this._key)}}class av{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new av(this.firestore,e,this._query)}}class ov extends av{constructor(e,t,n){super(e,t,ph(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new sv(this.firestore,null,new Lu(e))}withConverter(e){return new ov(this.firestore,e,this._path)}}function lv(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=st(e),Jg("collection","path",t),e instanceof rv){const n=Ou.fromString(t,...r);return Zg(n),new ov(e,null,n)}{if(!(e instanceof sv||e instanceof ov))throw new gu(mu.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Ou.fromString(t,...r));return Zg(n),new ov(e.firestore,null,n)}}function cv(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=st(e),1===arguments.length&&(t=Tu.A()),Jg("doc","path",t),e instanceof rv){const n=Ou.fromString(t,...r);return Xg(n),new sv(e,null,new Lu(n))}{if(!(e instanceof sv||e instanceof ov))throw new gu(mu.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Ou.fromString(t,...r));return Xg(n),new sv(e.firestore,e instanceof ov?e.converter:null,new Lu(n))}}class uv{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new gm(this,"async_queue_retry"),this.Xc=()=>{const e=pm();e&&lu("AsyncQueue","Visibility state changed to "+e.visibilityState),this.qo.Mo()};const e=pm();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=pm();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new vu;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}async ea(){if(0!==this.Qc.length){try{await this.Qc[0](),this.Qc.shift(),this.qo.reset()}catch(e){if(!Hu(e))throw e;lu("AsyncQueue","Operation failed with retryable error: "+e)}this.Qc.length>0&&this.qo.No(()=>this.ea())}}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(e=>{this.Wc=e,this.Hc=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw cu("INTERNAL UNHANDLED ERROR: ",t),e}).then(e=>(this.Hc=!1,e))));return this.Gc=t,t}enqueueAfterDelay(e,t,n){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const r=Jm.createAndSchedule(this,e,t,n,e=>this.na(e));return this.zc.push(r),r}Zc(){this.Wc&&hu()}verifyOperationInProgress(){}async sa(){let e;do{e=this.Gc,await e}while(e!==this.Gc)}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((e,t)=>e.targetTimeMs-t.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}class dv extends rv{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new uv,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||fv(this),this._firestoreClient.terminate()}}function hv(e){return e._firestoreClient||fv(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function fv(e){var t,n,r;const i=e._freezeSettings(),s=function(e,t,n,r){return new yd(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,Qg(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new Ug(e._authCredentials,e._appCheckCredentials,e._queue,s),(null===(n=i.cache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.cache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}class pv{constructor(e){this._byteString=e}static fromBase64String(e){try{return new pv(ud.fromBase64String(e))}catch(e){throw new gu(mu.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new pv(ud.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class mv{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new gu(mu.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ru(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class gv{constructor(e){this._methodName=e}}class vv{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new gu(mu.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new gu(mu.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Cu(this._lat,e._lat)||Cu(this._long,e._long)}}const yv=/^__.*__$/;class bv{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new gf(e,this.data,this.fieldMask,t,this.fieldTransforms):new mf(e,this.data,t,this.fieldTransforms)}}class wv{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new gf(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function xv(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw hu()}}class kv{constructor(e,t,n,r,i,s){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.ua(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new kv(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.aa({path:n,la:!1});return r.fa(e),r}da(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.aa({path:n,la:!1});return r.ua(),r}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return Mv(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(xv(this.ca)&&yv.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class Ev{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||mm(e)}ya(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new kv({ca:e,methodName:t,ga:n,path:Ru.emptyPath(),la:!1,ma:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Sv(e){const t=e._freezeSettings(),n=mm(e._databaseId);return new Ev(e._databaseId,!!t.ignoreUndefinedProperties,n)}function _v(e,t,n,r,i){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const a=e.ya(s.merge||s.mergeFields?2:0,t,n,i);Ov("Data must be an object, but it was:",a,r);const o=Av(r,a);let l,c;if(s.merge)l=new ld(a.fieldMask),c=a.fieldTransforms;else if(s.mergeFields){const e=[];for(const r of s.mergeFields){const i=Pv(t,r,n);if(!a.contains(i))throw new gu(mu.INVALID_ARGUMENT,`Field '${i}' is specified in your field mask but missing from your input data.`);Fv(e,i)||e.push(i)}l=new ld(e),c=a.fieldTransforms.filter(e=>l.covers(e.field))}else l=null,c=a.fieldTransforms;return new bv(new Ld(o),l,c)}class Nv extends gv{_toFieldTransform(e){if(2!==e.ca)throw 1===e.ca?e._a(`${this._methodName}() can only appear at the top level of your update data`):e._a(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Nv}}function Tv(e,t,n,r){const i=e.ya(1,t,n);Ov("Data must be an object, but it was:",i,r);const s=[],a=Ld.empty();td(r,(e,r)=>{const o=Lv(t,e,n);r=st(r);const l=i.da(o);if(r instanceof Nv)s.push(o);else{const e=jv(r,l);null!=e&&(s.push(o),a.set(o,e))}});const o=new ld(s);return new wv(a,o,i.fieldTransforms)}function Cv(e,t,n,r,i,s){const a=e.ya(1,t,n),o=[Pv(t,r,n)],l=[i];if(s.length%2!=0)throw new gu(mu.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<s.length;h+=2)o.push(Pv(t,s[h])),l.push(s[h+1]);const c=[],u=Ld.empty();for(let h=o.length-1;h>=0;--h)if(!Fv(c,o[h])){const e=o[h];let t=l[h];t=st(t);const n=a.da(e);if(t instanceof Nv)c.push(e);else{const r=jv(t,n);null!=r&&(c.push(e),u.set(e,r))}}const d=new ld(c);return new wv(u,d,a.fieldTransforms)}function Iv(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return jv(n,e.ya(r?4:3,t))}function jv(e,t){if(Dv(e=st(e)))return Ov("Unsupported field value:",t,e),Av(e,t);if(e instanceof gv)return function(e,t){if(!xv(t.ca))throw t._a(`${e._methodName}() can only be used with update() and set()`);if(!t.path)throw t._a(`${e._methodName}() is not currently supported inside arrays`);const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.la&&4!==t.ca)throw t._a("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=jv(i,t.wa(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=st(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Hh(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=ju.fromDate(e);return{timestampValue:Xf(t.serializer,n)}}if(e instanceof ju){const n=new ju(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Xf(t.serializer,n)}}if(e instanceof vv)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof pv)return{bytesValue:Zf(t.serializer,e._byteString)};if(e instanceof sv){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t._a(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:np(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t._a(`Unsupported field value: ${ev(e)}`)}(e,t)}function Av(e,t){const n={};return nd(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):td(e,(e,r)=>{const i=jv(r,t.ha(e));null!=i&&(n[e]=i)}),{mapValue:{fields:n}}}function Dv(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof ju||e instanceof vv||e instanceof pv||e instanceof sv||e instanceof gv)}function Ov(e,t,n){if(!Dv(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=ev(n);throw"an object"===r?t._a(e+" a custom object"):t._a(e+" "+r)}}function Pv(e,t,n){if((t=st(t))instanceof mv)return t._internalPath;if("string"==typeof t)return Lv(e,t);throw Mv("Field path arguments must be of type string or ",e,!1,void 0,n)}const Rv=new RegExp("[~\\*/\\[\\]]");function Lv(e,t,n){if(t.search(Rv)>=0)throw Mv(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new mv(...t.split("."))._internalPath}catch(r){throw Mv(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function Mv(e,t,n,r,i){const s=r&&!r.isEmpty(),a=void 0!==i;let o=`Function ${t}() called with invalid data`;n&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(s||a)&&(l+=" (found",s&&(l+=` in field ${r}`),a&&(l+=` in document ${i}`),l+=")"),new gu(mu.INVALID_ARGUMENT,o+e+l)}function Fv(e,t){return e.some(e=>e.isEqual(t))}class Uv{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new sv(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Vv(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(zv("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Vv extends Uv{data(){return super.data()}}function zv(e,t){return"string"==typeof t?Lv(e,t):t instanceof mv?t._internalPath:t._delegate._internalPath}function Bv(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new gu(mu.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class qv{}class $v extends qv{}function Wv(e,t){let n=[];for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];t instanceof qv&&n.push(t),n=n.concat(i),function(e){const t=e.filter(e=>e instanceof Gv).length,n=e.filter(e=>e instanceof Hv).length;if(t>1||t>0&&n>0)throw new gu(mu.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const a of n)e=a._apply(e);return e}class Hv extends $v{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new Hv(e,t,n)}_apply(e){const t=this._parse(e);return Xv(e._query,t),new av(e.firestore,e.converter,xh(e._query,t))}_parse(e){const t=Sv(e.firestore),n=function(e,t,n,r,i,s,a){let o;if(i.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new gu(mu.INVALID_ARGUMENT,`Invalid Query. You can't perform '${s}' queries on documentId().`);if("in"===s||"not-in"===s){Jv(a,s);const t=[];for(const n of a)t.push(Yv(r,e,n));o={arrayValue:{values:t}}}else o=Yv(r,e,a)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||Jv(a,s),o=Iv(n,"where",a,"in"===s||"not-in"===s);return Wd.create(i,s,o)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value);return n}}function Kv(e,t,n){const r=t,i=zv("where",e);return Hv._create(i,r,n)}class Gv extends qv{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Gv(e,t)}_parse(e){const t=this._queryConstraints.map(t=>t._parse(e)).filter(e=>e.getFilters().length>0);return 1===t.length?t[0]:Hd.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const i of r)Xv(n,i),n=xh(n,i)}(e._query,t),new av(e.firestore,e.converter,xh(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class Qv extends $v{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Qv(e,t)}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new gu(mu.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new gu(mu.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const r=new Bd(t,n);return function(e,t){if(null===gh(e)){const n=vh(e);null!==n&&Zv(e,n,t.field)}}(e,r),r}(e._query,this._field,this._direction);return new av(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new hh(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}function Yv(e,t,n){if("string"==typeof(n=st(n))){if(""===n)throw new gu(mu.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!yh(t)&&-1!==n.indexOf("/"))throw new gu(mu.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(Ou.fromString(n));if(!Lu.isDocumentKey(r))throw new gu(mu.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Cd(e,new Lu(r))}if(n instanceof sv)return Cd(e,n._key);throw new gu(mu.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ev(n)}.`)}function Jv(e,t){if(!Array.isArray(e)||0===e.length)throw new gu(mu.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function Xv(e,t){if(t.isInequality()){const n=vh(e),r=t.field;if(null!==n&&!n.isEqual(r))throw new gu(mu.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${n.toString()}' and '${r.toString()}'`);const i=gh(e);null!==i&&Zv(e,r,i)}const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new gu(mu.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new gu(mu.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}function Zv(e,t,n){if(!n.isEqual(t))throw new gu(mu.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class ey{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(xd(e)){case 0:return null;case 1:return e.booleanValue;case 2:return fd(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(pd(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw hu()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return td(e,(e,r)=>{n[e]=this.convertValue(r,t)}),n}convertGeoPoint(e){return new vv(fd(e.latitude),fd(e.longitude))}convertArray(e,t){return(e.values||[]).map(e=>this.convertValue(e,t))}convertServerTimestamp(e,t){switch(t){case"previous":const n=gd(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(vd(e));default:return null}}convertTimestamp(e){const t=hd(e);return new ju(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=Ou.fromString(e);fu(Ep(n));const r=new bd(n.get(1),n.get(3)),i=new Lu(n.popFirst(5));return r.isEqual(t)||cu(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}}function ty(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class ny{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ry extends Uv{constructor(e,t,n,r,i,s){super(e,t,n,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new iy(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(zv("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class iy extends ry{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class sy{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new ny(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new iy(this._firestore,this._userDataWriter,n.key,n,new ny(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new gu(mu.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map(n=>{const r=new iy(e._firestore,e._userDataWriter,n.doc.key,n.doc,new ny(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}})}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter(e=>t||3!==e.type).map(t=>{const r=new iy(e._firestore,e._userDataWriter,t.doc.key,t.doc,new ny(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,s=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),s=n.indexOf(t.doc.key)),{type:ay(t.type),doc:r,oldIndex:i,newIndex:s}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function ay(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return hu()}}function oy(e){e=tv(e,sv);const t=tv(e.firestore,dv);return Kg(hv(t),e._key).then(n=>py(t,e,n))}class ly extends ey{constructor(e){super(),this.firestore=e}convertBytes(e){return new pv(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new sv(this.firestore,null,t)}}function cy(e){e=tv(e,av);const t=tv(e.firestore,dv),n=hv(t),r=new ly(t);return Bv(e._query),Gg(n,e._query).then(n=>new sy(t,r,e,n))}function uy(e,t,n){e=tv(e,sv);const r=tv(e.firestore,dv),i=Sv(r);let s;for(var a=arguments.length,o=new Array(a>3?a-3:0),l=3;l<a;l++)o[l-3]=arguments[l];return s="string"==typeof(t=st(t))||t instanceof mv?Cv(i,"updateDoc",e._key,t,n,o):Tv(i,"updateDoc",e._key,t),fy(r,[s.toMutation(e._key,of.exists(!0))])}function dy(e){return fy(tv(e.firestore,dv),[new wf(e._key,of.none())])}function hy(e,t){const n=tv(e.firestore,dv),r=cv(e),i=ty(e.converter,t);return fy(n,[_v(Sv(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,of.exists(!1))]).then(()=>r)}function fy(e,t){return function(e,t){const n=new vu;return e.asyncQueue.enqueueAndForget(async()=>async function(e,t,n){const r=Rg(e);try{const e=await function(e,t){const n=pu(e),r=ju.now(),i=t.reduce((e,t)=>e.add(t.key),zh());let s,a;return n.persistence.runTransaction("Locally write mutations","readwrite",e=>{let o=Dh(),l=zh();return n.Zi.getEntries(e,i).next(e=>{o=e,o.forEach((e,t)=>{t.isValidDocument()||(l=l.add(e))})}).next(()=>n.localDocuments.getOverlayedDocuments(e,o)).next(i=>{s=i;const a=[];for(const e of t){const t=ff(e,s.get(e.key).overlayedDocument);null!=t&&a.push(new gf(e.key,t,Md(t.value.mapValue),of.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,a,t)}).next(t=>{a=t;const r=t.applyToLocalDocumentSet(s,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)})}).then(()=>({batchId:a.batchId,changes:Rh(s)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Tc[e.currentUser.toKey()];r||(r=new rd(Cu)),r=r.insert(t,n),e.Tc[e.currentUser.toKey()]=r}(r,e.batchId,n),await Ag(r,e.changes),await Fm(r.remoteStore)}catch(e){const t=Xm(e,"Failed to persist write");n.reject(t)}}(await Wg(e),t,n)),n.promise}(hv(e),t)}function py(e,t,n){const r=n.docs.get(t._key),i=new ly(e);return new ry(e,i,t._key,r,new ny(n.hasPendingWrites,n.fromCache),t.converter)}!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){su=e}(vn),fn(new at("firestore",(e,n)=>{let{instanceIdentifier:r,options:i}=n;const s=e.getProvider("app").getImmediate(),a=new dv(new xu(e.getProvider("auth-internal")),new _u(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new gu(mu.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new bd(e.options.projectId,t)}(s,r),s);return i=Object.assign({useFetchStreams:t},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),wn(ru,"3.13.0",e),wn(ru,"3.13.0","esm2017")}();wn("firebase","9.23.0","app");const my=yn({apiKey:"AIzaSyC47lZOQWp0RuqmqwUGCsxKl5gBex2L2Xk",authDomain:"bowlling-ea83d.firebaseapp.com",projectId:"bowlling-ea83d",storageBucket:"bowlling-ea83d.firebasestorage.app",messagingSenderId:"422882323899",appId:"1:422882323899:web:93fbf080161902a871289e",measurementId:"G-26EY5Z4EFE"}),gy=function(e,t){const n="string"==typeof e?e:t||"(default)",r=pn("object"==typeof e?e:bn(),"firestore").getImmediate({identifier:n});if(!r._initialized){const e=(e=>{const t=qe(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]})("firestore");e&&iv(r,...e)}return r}(my),vy=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bn();const t=pn(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=pn(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(Xe(n.getOptions(),null!==t&&void 0!==t?t:{}))return e;Mn(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:Is,persistence:[Bi,_i,Ti]}),r=We("authTokenSyncURL");if(r){const e=(i=r,async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>Os)return;const r=null===t||void 0===t?void 0:t.token;Ps!==r&&(Ps=r,await fetch(i,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))});!function(e,t,n){st(e).beforeAuthStateChanged(t,n)}(n,e,()=>e(n.currentUser)),function(e,t,n,r){st(e).onIdTokenChanged(t,n,r)}(n,t=>e(t))}var i;const s=qe("auth");return s&&Wr(n,`http://${s}`),n}(my),yy=()=>{const[e,n]=(0,t.useState)(null),[r,i]=(0,t.useState)(null),[s,a]=(0,t.useState)(!1),[o,l]=(0,t.useState)(!1),[c,u]=(0,t.useState)(!1),d=ee(),h="/"===X().pathname;(0,t.useEffect)(()=>{const e=()=>{const e=window.scrollY;a(e>50)};return window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)},[]),(0,t.useEffect)(()=>{const e=xi(vy,async e=>{if(e){n(e);try{const t=await oy(cv(gy,"admins",e.uid));t.exists()&&i(t.data().role)}catch(t){console.error("Error fetching user role:",t)}}else n(null),i(null)});return()=>e()},[]);const f=async()=>{try{await function(e){return st(e).signOut()}(vy),n(null),i(null),d("/")}catch(e){console.error("Error logging out:",e)}},p=()=>{l(!1)};return(0,je.jsx)("nav",{className:"navbar "+(h&&!s?"navbar-transparent":"navbar-solid"),children:(0,je.jsxs)("div",{className:"nav-container",children:[(0,je.jsx)(Te,{to:"/",className:"nav-logo",onClick:p,children:(0,je.jsx)("img",{src:"/images/logo.png",alt:"Ignite Arcade",className:"nav-logo-img"})}),(0,je.jsxs)("button",{className:"mobile-menu-toggle",onClick:()=>{l(!o)},"aria-label":"Toggle menu",children:[(0,je.jsx)("span",{className:"hamburger-line "+(o?"open":"")}),(0,je.jsx)("span",{className:"hamburger-line "+(o?"open":"")}),(0,je.jsx)("span",{className:"hamburger-line "+(o?"open":"")})]}),(0,je.jsxs)("div",{className:"nav-menu "+(o?"mobile-open":""),children:[(0,je.jsx)(Te,{to:"/",className:"nav-link",onClick:p,children:"Home"}),(0,je.jsx)(Te,{to:"/menu",className:"nav-link",onClick:p,children:"Menu"}),(0,je.jsx)(Te,{to:"/offers",className:"nav-link",onClick:p,children:"Offers"}),(0,je.jsx)(Te,{to:"/booking",className:"nav-link",onClick:p,children:"Book Now"}),(0,je.jsxs)("div",{className:"support-dropdown",onMouseEnter:()=>u(!0),onMouseLeave:()=>u(!1),children:[(0,je.jsx)("button",{className:"nav-link support-toggle",onClick:()=>{u(!c)},children:(0,je.jsx)("span",{className:"dropdown-arrow",children:"\u25bc"})}),(0,je.jsxs)("div",{className:"dropdown-menu "+(c?"show":""),children:[(0,je.jsx)(Te,{to:"/feedback",className:"dropdown-item",onClick:p,children:"Feedback"}),(0,je.jsx)(Te,{to:"/faq",className:"dropdown-item",onClick:p,children:"FAQ"})]})]}),e?(0,je.jsx)("div",{className:"admin-section",children:(0,je.jsx)("button",{onClick:()=>{f(),p()},className:"nav-link logout-btn",type:"button",children:"\ud83d\udd13 Logout"})}):null]}),o&&(0,je.jsx)("div",{className:"mobile-overlay",onClick:p})]})})},by=e=>{let{children:n,requiredRole:r=null}=e;const[i,s]=(0,t.useState)(null),[a,o]=(0,t.useState)(null),[l,c]=(0,t.useState)(!0),u=X();return(0,t.useEffect)(()=>{const e=xi(vy,async e=>{if(e){s(e);try{const t=await oy(cv(gy,"admins",e.uid));t.exists()?o(t.data().role):o(null)}catch(t){console.error("Error fetching user role:",t),o(null)}}else s(null),o(null);c(!1)});return()=>e()},[]),l?(0,je.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",background:"linear-gradient(135deg, #0a0b1a, #1a1b2e)",color:"#ffffff",fontFamily:"Fredoka, sans-serif",fontSize:"1.2rem"},children:"Loading..."}):i?r&&a!==r?"jana"===a?(0,je.jsx)(me,{to:"/admin/dashboard",replace:!0}):"reception"===a?(0,je.jsx)(me,{to:"/admin/calendar",replace:!0}):(0,je.jsx)(me,{to:"/admin",replace:!0}):n:(0,je.jsx)(me,{to:"/admin",state:{from:u},replace:!0})},wy=e=>{let{children:n}=e;const[r,i]=(0,t.useState)(null),[s,a]=(0,t.useState)(null),[o,l]=(0,t.useState)(!0);return(0,t.useEffect)(()=>{const e=xi(vy,async e=>{if(e){i(e);try{const t=await oy(cv(gy,"admins",e.uid));t.exists()?a(t.data().role):a(null)}catch(t){console.error("Error fetching user role:",t),a(null)}}else i(null),a(null);l(!1)});return()=>e()},[]),o?(0,je.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",background:"linear-gradient(135deg, #0a0b1a, #1a1b2e)",color:"#ffffff",fontFamily:"Fredoka, sans-serif",fontSize:"1.2rem"},children:"Loading..."}):r?"jana"===s?(0,je.jsx)(me,{to:"/admin/dashboard",replace:!0}):"reception"===s?(0,je.jsx)(me,{to:"/admin/calendar",replace:!0}):(0,je.jsx)(me,{to:"/admin/dashboard",replace:!0}):n},xy=()=>{const[e,n]=(0,t.useState)(""),[r,i]=(0,t.useState)(""),[s,a]=(0,t.useState)(!1),[o,l]=(0,t.useState)(0),[c,u]=(0,t.useState)(!1),[d,h]=(0,t.useState)(!1),f=(0,t.useRef)(null),p=(0,t.useRef)(null),m=(0,t.useRef)([]),g=(0,t.useRef)(null),v="Welcome to Ignite Arcade",y=["Where Fun Meets Adventure!","Strike Up Some Fun!","Level Up Your Game Experience!","Create Unforgettable Memories!"];return(0,t.useEffect)(()=>{const e=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting?e.target.classList.add("animate-in"):e.target.classList.remove("animate-in")})},{threshold:.1,rootMargin:"0px 0px -50px 0px"});return[f.current,p.current,g.current,...m.current.filter(Boolean)].forEach(t=>{t&&e.observe(t)}),()=>e.disconnect()},[]),(0,t.useEffect)(()=>{let e=0;const t=()=>{e<24?(n(v.slice(0,e+1)),e++,setTimeout(t,100)):(a(!0),setTimeout(r,500))},r=()=>{h(!0),s(0)},s=e=>{const t=y[e];let n=0;u(!0),i("");const r=()=>{n<t.length?(i(t.slice(0,n+1)),n++,setTimeout(r,80)):(u(!1),setTimeout(()=>o(e),2e3))};r()},o=e=>{const t=y[e];let n=t.length;u(!0);const r=()=>{if(n>0)i(t.slice(0,n-1)),n--,setTimeout(r,50);else{u(!1);const t=(e+1)%y.length;l(t),setTimeout(()=>s(t),300)}};r()};setTimeout(t,1500)},[]),(0,je.jsxs)("div",{className:"home",children:[(0,je.jsx)("section",{className:"hero",children:(0,je.jsx)("div",{className:"hero-background",children:(0,je.jsxs)("div",{className:"hero-content",children:[(0,je.jsx)("div",{className:"logo-container",children:(0,je.jsx)("img",{src:"/images/logo.png",alt:"Ignite Arcade Logo",className:"hero-logo"})}),(0,je.jsxs)("h1",{className:"typing-title",children:[e,(0,je.jsx)("span",{className:"cursor",children:s?"":"|"})]}),(0,je.jsxs)("p",{className:"typing-subtitle",children:[r,(0,je.jsx)("span",{className:"cursor subtitle-cursor",children:d&&(c||r.length>0)?"|":""})]}),(0,je.jsx)("div",{className:"cta-container "+(s?"show":""),children:(0,je.jsx)(Te,{to:"/booking",className:"cta-button",children:"Book Your Session"})})]})})}),(0,je.jsx)("section",{className:"zones scroll-animate",ref:f,children:(0,je.jsxs)("div",{className:"container",children:[(0,je.jsx)("h2",{className:"scroll-animate-child",children:"Our Gaming Zones"}),(0,je.jsxs)("div",{className:"zone-card scroll-animate-child",ref:e=>m.current[0]=e,children:[(0,je.jsx)("div",{className:"zone-image",children:(0,je.jsx)("img",{src:"/images/VRhome.jpg",alt:"VR Games Zone"})}),(0,je.jsxs)("div",{className:"zone-content",children:[(0,je.jsx)("h3",{children:"\ud83e\udd7d VR Games Zone"}),(0,je.jsx)("p",{children:"Step into a world of fun and let your inner gamer roam free with our cleverly crafted arcade machines! Perfect for sparking joy and creating high-score memories with friends."})]})]}),(0,je.jsxs)("div",{className:"zone-card scroll-animate-child",ref:e=>m.current[1]=e,children:[(0,je.jsx)("div",{className:"zone-image",children:(0,je.jsx)("img",{src:"/images/bowlingHome.jpg",alt:"Bowling Zone"})}),(0,je.jsxs)("div",{className:"zone-content",children:[(0,je.jsx)("h3",{children:"\ud83c\udfb3 Bowling Zone"}),(0,je.jsx)("p",{children:"Dive into flashing lights and thrilling sounds where the fun never stops! Perfect for parties or casual hangouts, our Arcade Room brings back the classics for nonstop excitement."})]})]}),(0,je.jsxs)("div",{className:"zone-card scroll-animate-child",ref:e=>m.current[2]=e,children:[(0,je.jsx)("div",{className:"zone-image",children:(0,je.jsx)("img",{src:"/images/CafeHome.jpg",alt:"Grab & Giggle Caf\xe9"})}),(0,je.jsxs)("div",{className:"zone-content",children:[(0,je.jsx)("h3",{children:"\u2615 Grab & Giggle Caf\xe9"}),(0,je.jsx)("p",{children:"Need a break? Grab a refreshing drink while you play or sit back and relax in our cozy caf\xe9\u2014it's the perfect way to recharge between rounds!"})]})]})]})}),(0,je.jsx)("section",{className:"info scroll-animate",ref:p,children:(0,je.jsx)("div",{className:"container",children:(0,je.jsxs)("div",{className:"info-content",children:[(0,je.jsxs)("div",{className:"info-text scroll-animate-child",children:[(0,je.jsx)("h2",{children:"Get to Know Us"}),(0,je.jsx)("h3",{children:"Safety / Technology / Inclusion / Amusement"}),(0,je.jsx)("p",{children:"These are four key strengths that differentiate Ignite Arcade from other entertainment venues. If each communication message we develop leverages one or more of these strengths, our creative platform will come to life with depth, breadth and longevity."})]}),(0,je.jsx)("div",{className:"info-image scroll-animate-child",children:(0,je.jsx)("img",{src:"/images/gettoknowus.jpg",alt:"Get to Know Us"})})]})})}),(0,je.jsx)("footer",{className:"footer scroll-animate",ref:g,children:(0,je.jsxs)("div",{className:"container",children:[(0,je.jsxs)("div",{className:"footer-content",children:[(0,je.jsx)("div",{className:"footer-left scroll-animate-child",children:(0,je.jsx)("img",{src:"/images/logo.png",alt:"Ignite Arcade",className:"footer-logo"})}),(0,je.jsx)("div",{className:"footer-right scroll-animate-child",children:(0,je.jsxs)("div",{className:"footer-info",children:[(0,je.jsxs)("div",{className:"footer-contact",children:[(0,je.jsx)("h4",{children:"Contact Info"}),(0,je.jsxs)("p",{children:["\ud83d\udce7"," ",(0,je.jsx)("a",{href:"mailto:info@ignitearcade.com",className:"footer-link",children:"info@ignitearcade.com"})]}),(0,je.jsxs)("p",{children:["\ud83d\udcde"," ",(0,je.jsx)("a",{href:"tel:0566164488",className:"footer-link",children:"0566164488"})]}),(0,je.jsx)("p",{children:"\ud83d\udccd Ramallah - Al-Tireh, Al-Bazzar Building - Floor 2"})]}),(0,je.jsxs)("div",{className:"footer-hours",children:[(0,je.jsx)("h4",{children:"Opening Hours"}),(0,je.jsx)("p",{children:"Daily: 3:00 PM - 11:00 PM"})]})]})})]}),(0,je.jsx)("div",{className:"footer-bottom scroll-animate-child",children:(0,je.jsx)("p",{children:"\xa9 2025 Ignite Arcade. All rights reserved."})})]})})]})},ky=()=>(0,je.jsx)("div",{className:"dashboard",children:(0,je.jsxs)("div",{className:"container",children:[(0,je.jsx)("h1",{children:"Dashboard"}),(0,je.jsxs)("div",{className:"dashboard-grid",children:[(0,je.jsxs)(Te,{to:"/menu",className:"dashboard-card",children:[(0,je.jsx)("h3",{children:"\u2615 Menu Caf\xe9"}),(0,je.jsx)("p",{children:"Explore our delicious food and drinks"})]}),(0,je.jsxs)(Te,{to:"/offers",className:"dashboard-card",children:[(0,je.jsx)("h3",{children:"\ud83c\udf81 Offers"}),(0,je.jsx)("p",{children:"Check out our bundles, points, and prices"})]}),(0,je.jsxs)(Te,{to:"/booking",className:"dashboard-card",children:[(0,je.jsx)("h3",{children:"\ud83c\udfb3 Bowling Booking"}),(0,je.jsx)("p",{children:"Reserve your bowling session"})]}),(0,je.jsxs)(Te,{to:"/birthday-packages",className:"dashboard-card",children:[(0,je.jsx)("h3",{children:"\ud83c\udf89 Birthday Packages"}),(0,je.jsx)("p",{children:"Celebrate your special day with us"})]}),(0,je.jsxs)(Te,{to:"/feedback",className:"dashboard-card",children:[(0,je.jsx)("h3",{children:"\ud83d\udcac Feedback"}),(0,je.jsx)("p",{children:"Share your experience"})]}),(0,je.jsxs)(Te,{to:"/faq",className:"dashboard-card",children:[(0,je.jsx)("h3",{children:"\u2753 FAQ"}),(0,je.jsx)("p",{children:"Frequently asked questions"})]})]})]})}),Ey=()=>{const[e,n]=(0,t.useState)([]),[r,i]=(0,t.useState)(!0);(0,t.useEffect)(()=>{s()},[]);const s=async()=>{try{const e=await cy(lv(gy,"menu"));n(e.docs.map(e=>({id:e.id,...e.data()})))}catch(e){console.error("Error fetching menu items:",e)}i(!1)};return(0,je.jsx)("div",{className:"menu",children:(0,je.jsxs)("div",{className:"container",children:[(0,je.jsx)("h1",{children:" Menu Caf\xe9"}),(0,je.jsx)("p",{children:"Delicious food and refreshing drinks to fuel your gaming session!"}),r?(0,je.jsx)("div",{className:"loading",children:"Loading menu..."}):0===e.length?(0,je.jsx)("div",{className:"no-items",children:(0,je.jsx)("p",{children:"No menu items available at the moment."})}):(0,je.jsx)("div",{className:"menu-grid",children:e.map(e=>(0,je.jsxs)("div",{className:"menu-item",children:[(0,je.jsx)("div",{className:"item-image",children:e.image.startsWith("http")?(0,je.jsx)("img",{src:e.image,alt:e.name,style:{width:"100%",height:"auto",objectFit:"cover",borderRadius:"8px"}}):(0,je.jsx)("span",{children:e.image})}),(0,je.jsx)("h3",{children:e.name})]},e.id))})]})})},Sy=()=>{const[e,n]=(0,t.useState)([]),[r,i]=(0,t.useState)(!0);(0,t.useEffect)(()=>{s()},[]);const s=async()=>{try{const e=(await cy(lv(gy,"offers"))).docs.map(e=>({id:e.id,buy:e.data().spend,get:e.data().get}));e.sort((e,t)=>e.buy-t.buy),n(e)}catch(e){console.error("Error fetching offers:",e)}i(!1)};return(0,je.jsxs)("div",{className:"offers-page",children:[(0,je.jsx)("div",{className:"offers-enzo-small"}),(0,je.jsxs)("div",{className:"offers-container",children:[(0,je.jsx)("h1",{children:"\ud83c\udf1f Special Offers & Loyalty Program"}),(0,je.jsxs)("div",{className:"characters-intro",children:[(0,je.jsxs)("div",{className:"character-card",children:[(0,je.jsx)("img",{src:"/images/Enzo1.png",alt:"Enzo",className:"character-img"}),(0,je.jsx)("h3",{children:"Meet Enzo!"}),(0,je.jsx)("p",{children:"Your bowling buddy who loves rewards!"})]}),(0,je.jsxs)("div",{className:"character-card",children:[(0,je.jsx)("img",{src:"/images/zoe1.png",alt:"Zoe",className:"character-img"}),(0,je.jsx)("h3",{children:"Meet Zoe!"}),(0,je.jsx)("p",{children:"She'll help you earn amazing points!"})]})]}),(0,je.jsxs)("div",{className:"points-system",children:[(0,je.jsx)("h2",{children:"\ud83d\udcb0 Spend Money, Earn More Points!"}),(0,je.jsx)("p",{className:"points-subtitle",children:"The more you spend, the more bonus points you get!"}),(0,je.jsx)("div",{className:"points-grid",children:r?(0,je.jsx)("div",{className:"loading",children:"Loading offers..."}):0===e.length?(0,je.jsx)("div",{className:"no-offers",children:(0,je.jsx)("p",{children:"No offers available at the moment."})}):e.map(e=>(0,je.jsxs)("div",{className:"points-card",children:[(0,je.jsxs)("div",{className:"spend-amount",children:[(0,je.jsx)("span",{className:"currency",children:"\u20aa"}),(0,je.jsx)("span",{className:"amount",children:e.buy}),(0,je.jsx)("span",{className:"label",children:"Spend"})]}),(0,je.jsx)("div",{className:"arrow",children:(0,je.jsx)("span",{children:"\u2192"})}),(0,je.jsxs)("div",{className:"get-amount",children:[(0,je.jsx)("span",{className:"points",children:e.get}),(0,je.jsx)("span",{className:"label",children:"Points"})]})]},e.id))}),(0,je.jsxs)("div",{className:"points-benefits",children:[(0,je.jsx)("h3",{children:"\ud83c\udfaf What can you do with points?"}),(0,je.jsxs)("div",{className:"benefits-grid",children:[(0,je.jsxs)("div",{className:"benefit-item",children:[(0,je.jsx)("span",{className:"benefit-icon",children:"\ud83c\udfb3"}),(0,je.jsx)("h4",{children:"Free Bowling"}),(0,je.jsx)("p",{children:"Use points for free games"})]}),(0,je.jsxs)("div",{className:"benefit-item",children:[(0,je.jsx)("span",{className:"benefit-icon",children:"\ud83e\udd7d"}),(0,je.jsx)("h4",{children:"VR Sessions"}),(0,je.jsx)("p",{children:"Unlock VR experiences"})]})]})]})]})]})]})},_y=()=>{const{showSuccess:e,showError:n,showWarning:r,showConfirm:i}=Pe(),[s,a]=(0,t.useState)("regular"),[o,l]=(0,t.useState)({name:"",phone:"",email:"",people:1,rounds:1,date:new Date,time:"",bundleId:"",bundleName:"",bundlePrice:"",duration:45}),[c,u]=(0,t.useState)({}),[d,h]=(0,t.useState)(new Date),[f,p]=(0,t.useState)([]),[m,g]=(0,t.useState)(!1),[v,y]=(0,t.useState)(null),b=["15:00","15:45","16:30","17:15","18:00","18:45","19:30","20:15","21:00","21:45","22:30"];(0,t.useEffect)(()=>{k(),E()},[o.date]);const w=e=>{const[t,n]=e.split(":").map(Number);return 60*t+n},x=(e,t)=>{const n=w(e),r=n+t,i=[];return b.forEach(e=>{const t=w(e);r<=t||n>=t+45||i.push(e)}),i},k=async()=>{const e=o.date.toDateString(),t=Wv(lv(gy,"bookings"),Kv("date","==",e)),n=await cy(t),r={};b.forEach(e=>{r[e]=0}),n.docs.forEach(e=>{const t=e.data(),n=t.time,i=t.duration||45;x(n,i).forEach(e=>{void 0!==r[e]&&(r[e]+=1)})}),u(r)},E=async()=>{try{const e=await cy(lv(gy,"birthdayPackages"));p(e.docs.map(e=>({id:e.id,...e.data()})))}catch(e){console.error("Error fetching birthday packages:",e)}},S=e=>6-(c[e]||0),_=(e,t)=>x(e,t).every(e=>S(e)>0),N=e=>{const t=new Date;return e.toDateString()===t.toDateString()},T=(e,t)=>e.toDateString()===t.toDateString(),C=e=>{const t=new Date;return t.setHours(0,0,0,0),e<t},I=e=>{h(new Date(d.getFullYear(),d.getMonth()+e,1))},j=e=>{const t=new Date(d.getFullYear(),d.getMonth(),e);C(t)||l({...o,date:t,time:""})},A=()=>m&&v?(0,je.jsx)("div",{className:"booking-modal-overlay",onClick:()=>g(!1),children:(0,je.jsxs)("div",{className:"booking-modal",onClick:e=>e.stopPropagation(),children:[(0,je.jsxs)("div",{className:"booking-modal-header",children:[(0,je.jsx)("div",{className:"success-icon",children:"\ud83c\udf89"}),(0,je.jsx)("h2",{children:"Booking Submitted Successfully!"})]}),(0,je.jsxs)("div",{className:"booking-modal-body",children:[(0,je.jsxs)("div",{className:"booking-summary",children:[(0,je.jsx)("h3",{children:"Booking Summary"}),(0,je.jsxs)("div",{className:"booking-detail",children:[(0,je.jsx)("span",{className:"label",children:"Name:"}),(0,je.jsx)("span",{className:"value",children:v.name})]}),(0,je.jsxs)("div",{className:"booking-detail",children:[(0,je.jsx)("span",{className:"label",children:"Date & Time:"}),(0,je.jsxs)("span",{className:"value",children:[v.date," at ",v.time]})]}),(0,je.jsxs)("div",{className:"booking-detail",children:[(0,je.jsx)("span",{className:"label",children:"People:"}),(0,je.jsx)("span",{className:"value",children:v.people})]}),"regular"===v.type?(0,je.jsxs)("div",{className:"booking-detail",children:[(0,je.jsx)("span",{className:"label",children:"Rounds:"}),(0,je.jsx)("span",{className:"value",children:v.rounds})]}):(0,je.jsxs)("div",{className:"booking-detail",children:[(0,je.jsx)("span",{className:"label",children:"Package:"}),(0,je.jsx)("span",{className:"value",children:v.bundleName})]}),(0,je.jsxs)("div",{className:"booking-detail",children:[(0,je.jsx)("span",{className:"label",children:"Phone:"}),(0,je.jsx)("span",{className:"value",children:v.phone})]})]}),(0,je.jsxs)("div",{className:"status-message",children:[(0,je.jsx)("div",{className:"status-icon",children:"\u23f3"}),(0,je.jsx)("h4",{children:"Your booking is pending confirmation"}),(0,je.jsxs)("p",{children:["We have received your booking request. Our team will contact you via WhatsApp at ",(0,je.jsx)("strong",{children:v.phone})," within the next few hours to confirm your booking details and availability."]}),(0,je.jsxs)("div",{className:"next-steps",children:[(0,je.jsx)("h5",{children:"What happens next?"}),(0,je.jsxs)("ul",{children:[(0,je.jsx)("li",{children:"\ud83d\udcde We'll call or WhatsApp you to confirm"}),(0,je.jsx)("li",{children:"\u2705 Once confirmed, your booking will be secured"}),(0,je.jsx)("li",{children:"\ud83d\udce7 You'll receive final confirmation details"})]})]})]})]}),(0,je.jsx)("div",{className:"booking-modal-footer",children:(0,je.jsx)("button",{className:"modal-close-btn",onClick:()=>g(!1),children:"Got it, thanks!"})})]})}):null;return(0,je.jsxs)("div",{className:"booking",children:[(0,je.jsxs)("div",{className:"container",children:[(0,je.jsx)("h1",{children:"\ud83c\udfb3 Bowling Booking"}),(0,je.jsxs)("div",{className:"booking-type-selector",children:[(0,je.jsx)("button",{type:"button",className:"type-btn "+("regular"===s?"active":""),onClick:()=>{a("regular"),l({...o,duration:45,bundleId:"",bundleName:"",bundlePrice:""})},children:"\ud83c\udfb3 Regular Booking"}),(0,je.jsx)("button",{type:"button",className:"type-btn "+("birthday"===s?"active":""),onClick:()=>{a("birthday"),l({...o,bundleId:"",bundleName:"",bundlePrice:""})},children:"\ud83c\udf89 Birthday Package"})]}),(0,je.jsxs)("div",{className:"booking-content",children:[(0,je.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),_(o.time,o.duration))try{const e={...o,date:o.date.toDateString(),createdAt:new Date,type:s,status:"pending",contactAttempts:0,notes:""},t=await hy(lv(gy,"bookings"),e);y({id:t.id,...e}),g(!0),l({name:"",phone:"",email:"",people:1,rounds:1,date:new Date,time:"",bundleId:"",bundleName:"",bundlePrice:"",duration:45}),a("regular")}catch(t){n("Error submitting booking: "+t.message)}else r("Sorry, this time slot conflicts with existing bookings. Please select another time.")},className:"booking-form",children:[(0,je.jsxs)("div",{className:"form-top-section",children:[(0,je.jsxs)("div",{className:"form-left-column",children:[(0,je.jsxs)("div",{className:"form-group",children:[(0,je.jsx)("label",{children:"Name:"}),(0,je.jsx)("input",{type:"text",value:o.name,onChange:e=>l({...o,name:e.target.value}),required:!0})]}),(0,je.jsxs)("div",{className:"form-group",children:[(0,je.jsx)("label",{children:"Email:"}),(0,je.jsx)("input",{type:"email",value:o.email,onChange:e=>l({...o,email:e.target.value}),placeholder:"your@email.com",required:!0}),(0,je.jsx)("small",{className:"field-note",children:"We'll send confirmation emails to this address"})]}),(0,je.jsxs)("div",{className:"form-group",children:[(0,je.jsx)("label",{children:"WhatsApp Phone:"}),(0,je.jsx)("input",{type:"tel",value:o.phone,onChange:e=>l({...o,phone:e.target.value}),required:!0})]})]}),(0,je.jsxs)("div",{className:"form-right-column",children:[(0,je.jsxs)("div",{className:"form-group",children:[(0,je.jsx)("label",{children:"Number of People (max 6):"}),(0,je.jsx)("div",{className:"number-selector",children:[1,2,3,4,5,6].map(e=>(0,je.jsx)("button",{type:"button",className:"number-box "+(o.people===e?"selected":""),onClick:()=>l({...o,people:e}),children:e},e))})]}),"regular"===s&&(0,je.jsxs)("div",{className:"form-group",children:[(0,je.jsx)("label",{children:"Number of Rounds (max 3):"}),(0,je.jsx)("div",{className:"number-selector",children:[1,2,3].map(e=>(0,je.jsx)("button",{type:"button",className:"number-box "+(o.rounds===e?"selected":""),onClick:()=>l({...o,rounds:e}),children:e},e))})]})]})]}),"birthday"===s&&(0,je.jsxs)("div",{className:"bundle-selection",children:[(0,je.jsx)("label",{children:"Select Birthday Package:"}),(0,je.jsx)("div",{className:"bundles-grid",children:f.map(e=>(0,je.jsxs)("div",{className:"bundle-option "+(o.bundleId===e.id?"selected":""),onClick:()=>(e=>{l({...o,bundleId:e.id,bundleName:e.title,bundlePrice:e.price,duration:e.duration})})(e),children:[(0,je.jsx)("h4",{children:e.title}),(0,je.jsx)("p",{className:"bundle-price",children:e.price}),(0,je.jsxs)("p",{className:"duration-info",children:["Duration: ",e.duration," minutes"]}),(0,je.jsx)("ul",{children:e.items.map((e,t)=>(0,je.jsx)("li",{children:e},t))}),(0,je.jsxs)("p",{className:"max-people",children:["Max: ",e.maxPeople," people"]})]},e.id))})]}),(0,je.jsxs)("div",{className:"date-time-section",children:[(0,je.jsxs)("div",{className:"calendar-section",children:[(0,je.jsx)("label",{children:"Select Date:"}),(()=>{const e=(t=d,new Date(t.getFullYear(),t.getMonth()+1,0).getDate());var t;const n=(e=>new Date(e.getFullYear(),e.getMonth(),1).getDay())(d),r=[];for(let i=0;i<n;i++)r.push((0,je.jsx)("div",{className:"calendar-day empty"},`empty-${i}`));for(let i=1;i<=e;i++){const e=new Date(d.getFullYear(),d.getMonth(),i),t=T(e,o.date),n=C(e),s=N(e);r.push((0,je.jsx)("div",{className:`calendar-day ${t?"selected":""} ${n?"past":""} ${s?"today":""}`,onClick:()=>j(i),children:i},i))}return(0,je.jsxs)("div",{className:"custom-calendar",children:[(0,je.jsxs)("div",{className:"calendar-header",children:[(0,je.jsx)("button",{type:"button",onClick:()=>I(-1),className:"month-nav",children:"\u2039"}),(0,je.jsxs)("h3",{children:[["January","February","March","April","May","June","July","August","September","October","November","December"][d.getMonth()]," ",d.getFullYear()]}),(0,je.jsx)("button",{type:"button",onClick:()=>I(1),className:"month-nav",children:"\u203a"})]}),(0,je.jsx)("div",{className:"calendar-weekdays",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(e=>(0,je.jsx)("div",{className:"weekday",children:e},e))}),(0,je.jsx)("div",{className:"calendar-days",children:r})]})})(),(0,je.jsxs)("p",{className:"selected-date",children:["Selected:"," ",o.date.toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"})]})]}),(0,je.jsxs)("div",{className:"time-slots",children:[(0,je.jsx)("label",{children:"Available Time Slots:"}),o.duration>45&&(0,je.jsxs)("p",{className:"duration-warning",children:["\u26a0\ufe0f This booking is ",o.duration," minutes long and may conflict with multiple time slots"]}),(0,je.jsx)("div",{className:"slots-grid",children:b.map(e=>{const t=_(e,o.duration),n=x(e,o.duration);return(0,je.jsxs)("button",{type:"button",className:`slot ${t?"":"conflicted"} ${o.time===e?"selected":""}`,disabled:!t,onClick:()=>l({...o,time:e}),title:o.duration>45?`Will occupy slots: ${n.join(", ")}`:"Single 45-minute slot",children:[(0,je.jsx)("div",{className:"slot-time",children:e}),(0,je.jsx)("div",{className:"slot-availability",children:t?"Available":"Conflicted"}),o.duration>45&&o.time===e&&(0,je.jsxs)("div",{className:"slot-duration",children:[o.duration,"min"]})]},e)})})]})]}),(0,je.jsx)("div",{className:"submit-section",children:(0,je.jsxs)("button",{type:"submit",className:"submit-btn",disabled:!o.time||"birthday"===s&&!o.bundleId,children:["Book ","birthday"===s?"Birthday Package":"Regular"]})})]}),(0,je.jsxs)("div",{className:"booking-info",children:[(0,je.jsx)("h3",{children:"Booking Information"}),"regular"===s?(0,je.jsxs)("ul",{children:[(0,je.jsx)("li",{children:"\ud83d\udcc5 Each session is 45 minutes"}),(0,je.jsx)("li",{children:"\ud83c\udfb3 6 lanes available per time slot"}),(0,je.jsx)("li",{children:"\ud83d\udc65 Maximum 6 people per booking"}),(0,je.jsx)("li",{children:"\ud83d\udd04 Maximum 3 rounds per booking"}),(0,je.jsx)("li",{children:"\ud83d\udcde For cancellation: 0566164488"})]}):(0,je.jsxs)("ul",{children:[(0,je.jsx)("li",{children:"\ud83c\udf89 Birthday packages include multiple activities"}),(0,je.jsx)("li",{children:"\ud83c\udfb3 Extended bowling sessions"}),(0,je.jsx)("li",{children:"\ud83e\udd7d VR gaming sessions included"}),(0,je.jsx)("li",{children:"\ud83c\udf55 Food & drinks included in some packages"}),(0,je.jsx)("li",{children:"\ud83d\udcde For cancellation: 0566164488"})]})]})]})]}),(0,je.jsx)(A,{}),(0,je.jsx)("style",{jsx:!0,children:"\n        .booking-modal-overlay {\n          position: fixed;\n          top: 0;\n          left: 0;\n          right: 0;\n          bottom: 0;\n          background-color: rgba(0, 0, 0, 0.5);\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          z-index: 10001;\n          animation: fadeIn 0.3s ease-out;\n        }\n\n        .booking-modal {\n          background: white;\n          border-radius: 16px;\n          box-shadow: 0 20px 60px rgba(0, 0, 0, 0.2);\n          max-width: 500px;\n          width: 90%;\n          max-height: 90vh;\n          overflow-y: auto;\n          animation: slideIn 0.3s ease-out;\n        }\n\n        .booking-modal-header {\n          text-align: center;\n          padding: 24px 24px 16px;\n          border-bottom: 1px solid #f0f0f0;\n        }\n\n        .success-icon {\n          font-size: 48px;\n          margin-bottom: 16px;\n        }\n\n        .booking-modal-header h2 {\n          margin: 0;\n          color: #22c55e;\n          font-size: 24px;\n        }\n\n        .booking-modal-body {\n          padding: 24px;\n        }\n\n        .booking-summary {\n          margin-bottom: 24px;\n          padding: 16px;\n          background: #f8fafc;\n          border-radius: 8px;\n        }\n\n        .booking-summary h3 {\n          margin: 0 0 16px 0;\n          color: #334155;\n        }\n\n        .booking-detail {\n          display: flex;\n          justify-content: space-between;\n          margin-bottom: 8px;\n        }\n\n        .booking-detail .label {\n          font-weight: 500;\n          color: #64748b;\n        }\n\n        .booking-detail .value {\n          color: #334155;\n        }\n\n        .status-message {\n          text-align: center;\n        }\n\n        .status-icon {\n          font-size: 32px;\n          margin-bottom: 16px;\n        }\n\n        .status-message h4 {\n          margin: 0 0 16px 0;\n          color: #f59e0b;\n        }\n\n        .status-message p {\n          margin-bottom: 24px;\n          line-height: 1.6;\n          color: #64748b;\n        }\n\n        .next-steps {\n          text-align: left;\n          background: #fefce8;\n          padding: 16px;\n          border-radius: 8px;\n          border-left: 4px solid #f59e0b;\n        }\n\n        .next-steps h5 {\n          margin: 0 0 12px 0;\n          color: #92400e;\n        }\n\n        .next-steps ul {\n          margin: 0;\n          padding-left: 20px;\n        }\n\n        .next-steps li {\n          margin-bottom: 8px;\n          color: #78716c;\n        }\n\n        .booking-modal-footer {\n          padding: 16px 24px 24px;\n          text-align: center;\n        }\n\n        .modal-close-btn {\n          background: linear-gradient(135deg, #22c55e, #16a34a);\n          color: white;\n          border: none;\n          border-radius: 8px;\n          padding: 12px 32px;\n          font-size: 16px;\n          font-weight: 500;\n          cursor: pointer;\n          transition: all 0.2s ease;\n        }\n\n        .modal-close-btn:hover {\n          transform: translateY(-1px);\n          box-shadow: 0 4px 12px rgba(34, 197, 94, 0.4);\n        }\n\n        @keyframes fadeIn {\n          from {\n            opacity: 0;\n          }\n          to {\n            opacity: 1;\n          }\n        }\n\n        @keyframes slideIn {\n          from {\n            transform: scale(0.9) translateY(-20px);\n            opacity: 0;\n          }\n          to {\n            transform: scale(1) translateY(0);\n            opacity: 1;\n          }\n        }\n\n        @media (max-width: 768px) {\n          .booking-modal {\n            margin: 20px;\n            width: calc(100% - 40px);\n          }\n        }\n\n        .field-note {\n          display: block;\n          font-size: 12px;\n          color: #6b7280;\n          margin-top: 4px;\n        }\n      "})]})},Ny=()=>{const{showSuccess:e,showError:n}=Pe(),[r,i]=(0,t.useState)({name:"",rating:5,comment:""}),[s,a]=(0,t.useState)([]),[o,l]=(0,t.useState)(0),[c,u]=(0,t.useState)(!1),[d,h]=(0,t.useState)({});(0,t.useEffect)(()=>{f();const e=localStorage.getItem("userFeedbackInteractions");e&&h(JSON.parse(e))},[]);const f=async()=>{try{const e=(await cy(lv(gy,"feedback"))).docs.map(e=>({id:e.id,...e.data(),likes:e.data().likes||0,dislikes:e.data().dislikes||0}));e.sort((e,t)=>{var n,r;const i=(null===(n=e.createdAt)||void 0===n?void 0:n.seconds)||0;return((null===(r=t.createdAt)||void 0===r?void 0:r.seconds)||0)-i}),a(e)}catch(e){console.error("Error fetching feedback:",e)}},p=()=>{l(0)},m=e=>{if(null===e||void 0===e||!e.seconds)return"Recently";return new Date(1e3*e.seconds).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})};return(0,je.jsx)("div",{className:"feedback-page",children:(0,je.jsxs)("div",{className:"container",children:[(0,je.jsx)("h1",{children:"\ud83d\udcac Feedback"}),(0,je.jsxs)("div",{className:"feedback-content",children:[(0,je.jsxs)("form",{onSubmit:async t=>{t.preventDefault();try{await hy(lv(gy,"feedback"),{...r,createdAt:new Date,likes:0,dislikes:0}),e("Thank you for your feedback! \ud83c\udf1f"),i({name:"",rating:5,comment:""}),l(0),f()}catch(s){n("Error submitting feedback: "+s.message)}},className:"feedback-form",children:[(0,je.jsx)("h2",{children:"Share Your Experience"}),(0,je.jsx)("input",{type:"text",placeholder:"Your Name",value:r.name,onChange:e=>i({...r,name:e.target.value}),required:!0}),(0,je.jsxs)("div",{className:"rating-section",children:[(0,je.jsx)("label",{children:"Rating:"}),(0,je.jsx)("div",{className:"star-rating",children:[1,2,3,4,5].map(e=>(0,je.jsx)("span",{className:`star ${(o||r.rating)>=e?"active":""} ${o>=e?"hover":""}`,onClick:()=>{return t=e,i({...r,rating:t}),void l(0);var t},onMouseEnter:()=>{l(e)},onMouseLeave:p,children:"\u2b50"},e))}),(0,je.jsxs)("div",{className:"rating-display",children:[o||r.rating," out of 5 stars"]})]}),(0,je.jsx)("textarea",{placeholder:"Tell us about your experience...",value:r.comment,onChange:e=>i({...r,comment:e.target.value}),required:!0}),(0,je.jsx)("button",{type:"submit",children:"Submit Feedback"})]}),(0,je.jsxs)("div",{className:"feedback-list",children:[(0,je.jsx)("h2",{children:"What Others Say"}),(0,je.jsxs)("div",{className:"feedback-container",children:[(c?s:s.slice(0,5)).map((e,t)=>{return(0,je.jsxs)("div",{className:"feedback-item",style:{animationDelay:.1*t+"s"},children:[(0,je.jsxs)("div",{className:"feedback-header",children:[(0,je.jsx)("strong",{children:e.name}),(0,je.jsx)("span",{className:"stars",children:(n=e.rating,"\u2b50".repeat(n)+"\u2606".repeat(5-n))})]}),(0,je.jsx)("p",{children:e.comment}),(0,je.jsxs)("div",{className:"feedback-actions",children:[(0,je.jsxs)("div",{className:"like-dislike",children:[(0,je.jsxs)("button",{className:"action-btn "+(d[`${e.id}_like`]?"liked":""),onClick:()=>(async e=>{const t=`${e}_like`,n=`${e}_dislike`;if(!d[t])try{const r=cv(gy,"feedback",e),i=s.find(t=>t.id===e);let a=(i.likes||0)+1,o=i.dislikes||0;d[n]&&(o=Math.max(0,o-1)),await uy(r,{likes:a,dislikes:o});const l={...d,[t]:!0};d[n]&&delete l[n],h(l),localStorage.setItem("userFeedbackInteractions",JSON.stringify(l)),f()}catch(r){console.error("Error updating like:",r)}})(e.id),disabled:d[`${e.id}_like`],title:d[`${e.id}_like`]?"You liked this":"Like this feedback",children:[(0,je.jsx)("span",{className:"icon",children:"\ud83d\udc4d"}),(0,je.jsx)("span",{children:e.likes||0})]}),(0,je.jsxs)("button",{className:"action-btn "+(d[`${e.id}_dislike`]?"disliked":""),onClick:()=>(async e=>{const t=`${e}_dislike`,n=`${e}_like`;if(!d[t])try{const r=cv(gy,"feedback",e),i=s.find(t=>t.id===e);let a=(i.dislikes||0)+1,o=i.likes||0;d[n]&&(o=Math.max(0,o-1)),await uy(r,{likes:o,dislikes:a});const l={...d,[t]:!0};d[n]&&delete l[n],h(l),localStorage.setItem("userFeedbackInteractions",JSON.stringify(l)),f()}catch(r){console.error("Error updating dislike:",r)}})(e.id),disabled:d[`${e.id}_dislike`],title:d[`${e.id}_dislike`]?"You disliked this":"Dislike this feedback",children:[(0,je.jsx)("span",{className:"icon",children:"\ud83d\udc4e"}),(0,je.jsx)("span",{children:e.dislikes||0})]})]}),(0,je.jsx)("span",{className:"feedback-date",children:m(e.createdAt)})]})]},e.id);var n}),0===s.length&&(0,je.jsx)("div",{className:"feedback-item",children:(0,je.jsx)("p",{style:{textAlign:"center",opacity:.7},children:"No feedback yet. Be the first to share your experience! \ud83c\udf1f"})})]}),s.length>5&&(0,je.jsx)("button",{className:"show-more-btn",onClick:()=>u(!c),children:c?"Show Less \u25b2":`Show More (${s.length-5} more) \u25bc`})]})]})]})})},Ty=()=>(0,je.jsx)("div",{className:"birthday-packages",children:(0,je.jsxs)("div",{className:"container",children:[(0,je.jsx)("h1",{children:"\ud83c\udf89 Birthday Packages"}),(0,je.jsx)("p",{className:"intro",children:"Celebrate your birthday at Ignite Arcade! \ud83c\udfb3"}),(0,je.jsx)("p",{children:"Enjoy bowling, VR games, and nonstop fun in a space full of lights and excitement."}),(0,je.jsx)("div",{className:"packages-grid",children:[{name:"\u2728 Spark Package",price:"80 ILS/person",features:["1 VR session","1 hour of bowling","Reserved seating","For up to 10 people"],color:"spark"},{name:"\ud83d\udd25 Blaze Package",price:"70 ILS/person",features:["1 VR session","1.5 hours of bowling","Reserved seating","For 11\u201325 people"],color:"blaze"},{name:"\ud83d\udd25 Inferno Package",price:"60 ILS/person",features:["2 VR sessions","1.5 hours of bowling","Reserved seating","For 26+ people"],color:"inferno"}].map((e,t)=>(0,je.jsxs)("div",{className:`package-card ${e.color}`,children:[(0,je.jsx)("h3",{children:e.name}),(0,je.jsx)("div",{className:"price",children:e.price}),(0,je.jsx)("ul",{className:"features",children:e.features.map((e,t)=>(0,je.jsxs)("li",{children:["\u2714 ",e]},t))})]},t))}),(0,je.jsxs)("div",{className:"additional-info",children:[(0,je.jsxs)("div",{className:"info-card",children:[(0,je.jsx)("h3",{children:"\ud83c\udf81 Extra Options"}),(0,je.jsx)("p",{children:"Add an extra bowling session for just 30 ILS/person!"})]}),(0,je.jsxs)("div",{className:"info-card",children:[(0,je.jsx)("h3",{children:"\ud83d\udcc5 Booking"}),(0,je.jsx)("p",{children:"Book now with a 200 ILS deposit."})]}),(0,je.jsxs)("div",{className:"info-card",children:[(0,je.jsx)("h3",{children:"\ud83d\udcde Contact"}),(0,je.jsx)("p",{children:"Call us at 0566164488 or email info@ignitearcade.com"})]})]}),(0,je.jsx)("div",{className:"cta",children:(0,je.jsx)("h2",{children:"Let's make your celebration unforgettable! \ud83e\udd73"})})]})}),Cy=()=>{const[e,n]=(0,t.useState)([]),[r,i]=(0,t.useState)(!0),[s,a]=(0,t.useState)(null);(0,t.useEffect)(()=>{o()},[]);const o=async()=>{try{const e=await cy(lv(gy,"faqs"));n(e.docs.map(e=>({id:e.id,...e.data()})))}catch(e){console.error("Error fetching FAQs:",e)}i(!1)};return(0,je.jsxs)("div",{className:"faq-page",children:[(0,je.jsx)("div",{className:"faq-zoe-main"}),(0,je.jsx)("div",{className:"faq-enzo-helper"}),(0,je.jsx)("div",{className:"faq-zoe-helper"}),(0,je.jsxs)("div",{className:"container",children:[(0,je.jsx)("h1",{children:"\u2753 Frequently Asked Questions"}),(0,je.jsx)("div",{className:"faq-list",children:r?(0,je.jsx)("div",{className:"loading",children:"Loading FAQs..."}):0===e.length?(0,je.jsx)("div",{className:"no-faqs",children:(0,je.jsx)("p",{children:"No FAQs available at the moment."})}):e.map((e,t)=>(0,je.jsxs)("div",{className:"faq-item",children:[(0,je.jsxs)("div",{className:"faq-question "+(s===t?"active":""),onClick:()=>(e=>{a(s===e?null:e)})(t),children:[(0,je.jsx)("h3",{children:e.question}),(0,je.jsx)("span",{className:"faq-toggle",children:s===t?"\u2212":"+"})]}),(0,je.jsx)("div",{className:"faq-answer "+(s===t?"open":""),children:(0,je.jsx)("p",{children:e.answer})})]},e.id))}),(0,je.jsxs)("div",{className:"contact-info",children:[(0,je.jsx)("h2",{children:"Still have questions?"}),(0,je.jsxs)("p",{children:["Contact us at ",(0,je.jsx)("strong",{children:"0566164488"})," or visit us during our operating hours!",(0,je.jsx)("br",{}),(0,je.jsx)("span",{style:{fontSize:"0.9em",opacity:"0.8"},children:"Our cosmic crew is always ready to help you plan the perfect arcade adventure! \ud83d\ude80"})]})]})]})]})},Iy=()=>{var e,n;const{showError:r}=Pe(),[i,s]=(0,t.useState)({email:"",password:""}),[a,o]=(0,t.useState)(!1),l=ee(),c=(null===(e=X().state)||void 0===e||null===(n=e.from)||void 0===n?void 0:n.pathname)||null;return(0,je.jsx)("div",{className:"admin-login",children:(0,je.jsxs)("div",{className:"login-container",children:[(0,je.jsx)("h2",{children:"Admin Login"}),(0,je.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),o(!0);try{const e=await function(e,t,n){return yi(st(e),ri.credential(t,n))}(vy,i.email,i.password),t=await oy(cv(gy,"admins",e.user.uid));if(t.exists()){const e=t.data();c&&c.startsWith("/admin/")?"/admin/jana"===c&&"jana"!==e.role?l("/admin/calendar"):"/admin/calendar"===c&&"reception"!==e.role?l("/admin/dashboard"):c.includes("/admin/add-user")&&"jana"!==e.role||c.includes("/admin/manage-users")&&"jana"!==e.role?l("/admin/calendar"):l(c):"jana"===e.role?l("/admin/dashboard"):l("/admin/calendar")}else l("/admin/dashboard")}catch(t){r("Login failed: "+t.message)}o(!1)},children:[(0,je.jsx)("input",{type:"email",placeholder:"Email",value:i.email,onChange:e=>s({...i,email:e.target.value}),required:!0}),(0,je.jsx)("input",{type:"password",placeholder:"Password",value:i.password,onChange:e=>s({...i,password:e.target.value}),required:!0}),(0,je.jsx)("button",{type:"submit",disabled:a,children:a?"Logging in...":"Login"})]})]})})},jy=()=>(0,je.jsx)("div",{className:"admin-dashboard",children:(0,je.jsxs)("div",{className:"container",children:[(0,je.jsx)("h1",{children:"Admin Dashboard"}),(0,je.jsxs)("div",{className:"admin-grid",children:[(0,je.jsxs)(Te,{to:"/admin/calendar",className:"admin-card",children:[(0,je.jsx)("h3",{children:"\ud83d\udcc5 Reception Calendar"}),(0,je.jsx)("p",{children:"View all bookings and manage schedule"})]}),(0,je.jsxs)(Te,{to:"/admin/jana",className:"admin-card",children:[(0,je.jsx)("h3",{children:"\ud83d\udc69\u200d\ud83d\udcbc Jana's Dashboard"}),(0,je.jsx)("p",{children:"Complete management access"})]}),(0,je.jsxs)(Te,{to:"/admin/add-user",className:"admin-card",children:[(0,je.jsx)("h3",{children:"\ud83d\udc64 Add User"}),(0,je.jsx)("p",{children:"Create new user accounts with roles"})]}),(0,je.jsxs)(Te,{to:"/admin/manage-users",className:"admin-card",children:[(0,je.jsx)("h3",{children:"\ud83d\udc65 Manage Users"}),(0,je.jsx)("p",{children:"View and manage existing user accounts"})]}),(0,je.jsxs)(Te,{to:"/admin/settings",className:"admin-card",children:[(0,je.jsx)("h3",{children:"\u2699\ufe0f Settings"}),(0,je.jsx)("p",{children:"System configuration"})]})]})]})});var Ay=n(173);function Dy(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=Dy(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}const Oy=function(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=Dy(e))&&(r&&(r+=" "),r+=t);return r};var Py=n(922);function Ry(e){return"string"===typeof e}function Ly(e,t,n){return n.indexOf(e)===t}function My(e){return-1===e.indexOf(",")?e:e.split(",")}function Fy(e){if(!e)return e;if("C"===e||"posix"===e||"POSIX"===e)return"en-US";if(-1!==e.indexOf(".")){var t=e.split(".")[0];return Fy(void 0===t?"":t)}if(-1!==e.indexOf("@")){var n=e.split("@")[0];return Fy(void 0===n?"":n)}if(-1===e.indexOf("-")||!function(e){return e.toLowerCase()===e}(e))return e;var r=e.split("-"),i=r[0],s=r[1],a=void 0===s?"":s;return"".concat(i,"-").concat(a.toUpperCase())}var Uy=Py(function(e){var t=void 0===e?{}:e,n=t.useFallbackLocale,r=void 0===n||n,i=t.fallbackLocale,s=void 0===i?"en-US":i,a=[];if("undefined"!==typeof navigator){for(var o=[],l=0,c=navigator.languages||[];l<c.length;l++){var u=c[l];o=o.concat(My(u))}var d=navigator.language,h=d?My(d):d;a=a.concat(o,h)}return r&&a.push(s),a.filter(Ry).map(Fy).filter(Ly)},{cacheKey:JSON.stringify});var Vy=Py(function(e){return Uy(e)[0]||null},{cacheKey:JSON.stringify});const zy=Vy;function By(e,t,n){return function(r,i){void 0===i&&(i=n);var s=e(r)+i;return t(s)}}function qy(e){return function(t){return new Date(e(t).getTime()-1)}}function $y(e,t){return function(n){return[e(n),t(n)]}}function Wy(e){if(e instanceof Date)return e.getFullYear();if("number"===typeof e)return e;var t=parseInt(e,10);if("string"===typeof e&&!isNaN(t))return t;throw new Error("Failed to get year from date: ".concat(e,"."))}function Hy(e){if(e instanceof Date)return e.getMonth();throw new Error("Failed to get month from date: ".concat(e,"."))}function Ky(e){if(e instanceof Date)return e.getDate();throw new Error("Failed to get year from date: ".concat(e,"."))}function Gy(e){var t=Wy(e),n=t+(1-t)%100,r=new Date;return r.setFullYear(n,0,1),r.setHours(0,0,0,0),r}var Qy=By(Wy,Gy,-100),Yy=By(Wy,Gy,100),Jy=qy(Yy),Xy=By(Wy,Jy,-100),Zy=(By(Wy,Jy,100),$y(Gy,Jy));function eb(e){var t=Wy(e),n=t+(1-t)%10,r=new Date;return r.setFullYear(n,0,1),r.setHours(0,0,0,0),r}var tb=By(Wy,eb,-10),nb=By(Wy,eb,10),rb=qy(nb),ib=By(Wy,rb,-10),sb=(By(Wy,rb,10),$y(eb,rb));function ab(e){var t=Wy(e),n=new Date;return n.setFullYear(t,0,1),n.setHours(0,0,0,0),n}var ob=By(Wy,ab,-1),lb=By(Wy,ab,1),cb=qy(lb),ub=By(Wy,cb,-1),db=(By(Wy,cb,1),$y(ab,cb));function hb(e,t){return function(n,r){void 0===r&&(r=t);var i=Wy(n),s=Hy(n)+r,a=new Date;return a.setFullYear(i,s,1),a.setHours(0,0,0,0),e(a)}}function fb(e){var t=Wy(e),n=Hy(e),r=new Date;return r.setFullYear(t,n,1),r.setHours(0,0,0,0),r}var pb=hb(fb,-1),mb=hb(fb,1),gb=qy(mb),vb=hb(gb,-1),yb=(hb(gb,1),$y(fb,gb));function bb(e,t){return function(n,r){void 0===r&&(r=t);var i=Wy(n),s=Hy(n),a=Ky(n)+r,o=new Date;return o.setFullYear(i,s,a),o.setHours(0,0,0,0),e(o)}}function wb(e){var t=Wy(e),n=Hy(e),r=Ky(e),i=new Date;return i.setFullYear(t,n,r),i.setHours(0,0,0,0),i}bb(wb,-1);var xb,kb=qy(bb(wb,1)),Eb=(bb(kb,-1),bb(kb,1),$y(wb,kb));function Sb(e){return Ky(gb(e))}var _b={GREGORY:"gregory",HEBREW:"hebrew",ISLAMIC:"islamic",ISO_8601:"iso8601"},Nb={ARABIC:"Arabic",HEBREW:"Hebrew",ISO_8601:"ISO 8601",US:"US"},Tb=((xb={})[_b.GREGORY]=["en-CA","en-US","es-AR","es-BO","es-CL","es-CO","es-CR","es-DO","es-EC","es-GT","es-HN","es-MX","es-NI","es-PA","es-PE","es-PR","es-SV","es-VE","pt-BR"],xb[_b.HEBREW]=["he","he-IL"],xb[_b.ISLAMIC]=["ar","ar-AE","ar-BH","ar-DZ","ar-EG","ar-IQ","ar-JO","ar-KW","ar-LY","ar-OM","ar-QA","ar-SA","ar-SD","ar-SY","ar-YE","dv","dv-MV","ps","ps-AR"],xb),Cb=[0,1,2,3,4,5,6],Ib=new Map;function jb(e){return function(t,n){return function(e){return function(t,n){var r=t||zy();Ib.has(r)||Ib.set(r,new Map);var i=Ib.get(r);return i.has(e)||i.set(e,new Intl.DateTimeFormat(r||void 0,e).format),i.get(e)(n)}}(e)(t,function(e){var t=new Date(e);return new Date(t.setHours(12))}(n))}}jb({day:"numeric",month:"numeric",year:"numeric"});var Ab=jb({day:"numeric"}),Db=jb({day:"numeric",month:"long",year:"numeric"}),Ob=jb({month:"long"}),Pb=jb({month:"long",year:"numeric"}),Rb=jb({weekday:"short"}),Lb=jb({weekday:"long"}),Mb=jb({year:"numeric"}),Fb=Cb[0],Ub=Cb[5],Vb=Cb[6];function zb(e,t){void 0===t&&(t=_b.ISO_8601);var n=e.getDay();switch(t){case _b.ISO_8601:return(n+6)%7;case _b.ISLAMIC:return(n+1)%7;case _b.HEBREW:case _b.GREGORY:return n;default:throw new Error("Unsupported calendar type.")}}function Bb(e,t){void 0===t&&(t=_b.ISO_8601);var n=Wy(e),r=Hy(e),i=e.getDate()-zb(e,t);return new Date(n,r,i)}function qb(e,t){switch(e){case"century":return Gy(t);case"decade":return eb(t);case"year":return ab(t);case"month":return fb(t);case"day":return wb(t);default:throw new Error("Invalid rangeType: ".concat(e))}}function $b(e,t){switch(e){case"century":return Yy(t);case"decade":return nb(t);case"year":return lb(t);case"month":return mb(t);default:throw new Error("Invalid rangeType: ".concat(e))}}function Wb(e,t){switch(e){case"century":return Jy(t);case"decade":return rb(t);case"year":return cb(t);case"month":return gb(t);case"day":return kb(t);default:throw new Error("Invalid rangeType: ".concat(e))}}function Hb(e,t){switch(e){case"century":return Zy(t);case"decade":return sb(t);case"year":return db(t);case"month":return yb(t);case"day":return Eb(t);default:throw new Error("Invalid rangeType: ".concat(e))}}function Kb(e,t,n){return void 0===t&&(t=Mb),n.map(function(n){return t(e,n)}).join(" \u2013 ")}function Gb(e,t,n){return Kb(e,t,sb(n))}function Qb(e){return e.getDay()===(new Date).getDay()}function Yb(e,t){void 0===t&&(t=_b.ISO_8601);var n=e.getDay();switch(t){case _b.ISLAMIC:case _b.HEBREW:return n===Ub||n===Vb;case _b.ISO_8601:case _b.GREGORY:return n===Vb||n===Fb;default:throw new Error("Unsupported calendar type.")}}var Jb="react-calendar__navigation";function Xb(e){var n=e.activeStartDate,r=e.drillUp,i=e.formatMonthYear,s=void 0===i?Pb:i,a=e.formatYear,o=void 0===a?Mb:a,l=e.locale,c=e.maxDate,u=e.minDate,d=e.navigationAriaLabel,h=void 0===d?"":d,f=e.navigationAriaLive,p=e.navigationLabel,m=e.next2AriaLabel,g=void 0===m?"":m,v=e.next2Label,y=void 0===v?"\xbb":v,b=e.nextAriaLabel,w=void 0===b?"":b,x=e.nextLabel,k=void 0===x?"\u203a":x,E=e.prev2AriaLabel,S=void 0===E?"":E,_=e.prev2Label,N=void 0===_?"\xab":_,T=e.prevAriaLabel,C=void 0===T?"":T,I=e.prevLabel,j=void 0===I?"\u2039":I,A=e.setActiveStartDate,D=e.showDoubleView,O=e.view,P=e.views.indexOf(O)>0,R="century"!==O,L=function(e,t){switch(e){case"century":return Qy(t);case"decade":return tb(t);case"year":return ob(t);case"month":return pb(t);default:throw new Error("Invalid rangeType: ".concat(e))}}(O,n),M=R?function(e,t){switch(e){case"decade":return tb(t,-100);case"year":return ob(t,-10);case"month":return pb(t,-12);default:throw new Error("Invalid rangeType: ".concat(e))}}(O,n):void 0,F=$b(O,n),U=R?function(e,t){switch(e){case"decade":return nb(t,100);case"year":return lb(t,10);case"month":return mb(t,12);default:throw new Error("Invalid rangeType: ".concat(e))}}(O,n):void 0,V=function(){if(L.getFullYear()<0)return!0;var e=function(e,t){switch(e){case"century":return Xy(t);case"decade":return ib(t);case"year":return ub(t);case"month":return vb(t);default:throw new Error("Invalid rangeType: ".concat(e))}}(O,n);return u&&u>=e}(),z=R&&function(){if(M.getFullYear()<0)return!0;var e=function(e,t){switch(e){case"decade":return ib(t,-100);case"year":return ub(t,-10);case"month":return vb(t,-12);default:throw new Error("Invalid rangeType: ".concat(e))}}(O,n);return u&&u>=e}(),B=c&&c<F,q=R&&c&&c<U;function $(e){var t=function(){switch(O){case"century":return function(e,t,n){return Kb(e,t,Zy(n))}(l,o,e);case"decade":return Gb(l,o,e);case"year":return o(l,e);case"month":return s(l,e);default:throw new Error("Invalid view: ".concat(O,"."))}}();return p?p({date:e,label:t,locale:l||Vy()||void 0,view:O}):t}return t.createElement("div",{className:Jb},null!==N&&R?t.createElement("button",{"aria-label":S,className:"".concat(Jb,"__arrow ").concat(Jb,"__prev2-button"),disabled:z,onClick:function(){A(M,"prev2")},type:"button"},N):null,null!==j&&t.createElement("button",{"aria-label":C,className:"".concat(Jb,"__arrow ").concat(Jb,"__prev-button"),disabled:V,onClick:function(){A(L,"prev")},type:"button"},j),function(){var e="".concat(Jb,"__label");return t.createElement("button",{"aria-label":h,"aria-live":f,className:e,disabled:!P,onClick:r,style:{flexGrow:1},type:"button"},t.createElement("span",{className:"".concat(e,"__labelText ").concat(e,"__labelText--from")},$(n)),D?t.createElement(t.Fragment,null,t.createElement("span",{className:"".concat(e,"__divider")}," \u2013 "),t.createElement("span",{className:"".concat(e,"__labelText ").concat(e,"__labelText--to")},$(F))):null)}(),null!==k&&t.createElement("button",{"aria-label":w,className:"".concat(Jb,"__arrow ").concat(Jb,"__next-button"),disabled:B,onClick:function(){A(F,"next")},type:"button"},k),null!==y&&R?t.createElement("button",{"aria-label":g,className:"".concat(Jb,"__arrow ").concat(Jb,"__next2-button"),disabled:q,onClick:function(){A(U,"next2")},type:"button"},y):null)}var Zb=function(){return Zb=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Zb.apply(this,arguments)},ew=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function tw(e){return"".concat(e,"%")}function nw(e){var n=e.children,r=e.className,i=e.count,s=e.direction,a=e.offset,o=e.style,l=e.wrap,c=ew(e,["children","className","count","direction","offset","style","wrap"]);return t.createElement("div",Zb({className:r,style:Zb({display:"flex",flexDirection:s,flexWrap:l?"wrap":"nowrap"},o)},c),t.Children.map(n,function(e,n){var r=a&&0===n?tw(100*a/i):null;return t.cloneElement(e,Zb(Zb({},e.props),{style:{flexBasis:tw(100/i),flexShrink:0,flexGrow:0,overflow:"hidden",marginLeft:r,marginInlineStart:r,marginInlineEnd:0}}))}))}var rw,iw=n(440);function sw(e,t){return t[0]<=e&&t[1]>=e}function aw(e,t){return sw(e[0],t)||sw(e[1],t)}function ow(e,t,n){var r=[];if(aw(t,e)){r.push(n);var i=sw(e[0],t),s=sw(e[1],t);i&&r.push("".concat(n,"Start")),s&&r.push("".concat(n,"End")),i&&s&&r.push("".concat(n,"BothEnds"))}return r}function lw(e){if(!e)throw new Error("args is required");var t=e.value,n=e.date,r=e.hover,i="react-calendar__tile",s=[i];if(!n)return s;var a=new Date,o=function(){if(Array.isArray(n))return n;var t=e.dateType;if(!t)throw new Error("dateType is required when date is not an array of two dates");return Hb(t,n)}();if(sw(a,o)&&s.push("".concat(i,"--now")),!t||!function(e){return Array.isArray(e)?null!==e[0]&&null!==e[1]:null!==e}(t))return s;var l,c,u=function(){if(Array.isArray(t))return t;var n=e.valueType;if(!n)throw new Error("valueType is required when value is not an array of two dates");return Hb(n,t)}();c=o,(l=u)[0]<=c[0]&&l[1]>=c[1]?s.push("".concat(i,"--active")):aw(u,o)&&s.push("".concat(i,"--hasActive"));var d=ow(u,o,"".concat(i,"--range"));s.push.apply(s,d);var h=Array.isArray(t)?t:[t];if(r&&1===h.length){var f=ow(r>u[0]?[u[0],r]:[r,u[0]],o,"".concat(i,"--hover"));s.push.apply(s,f)}return s}var cw=((rw={})[Nb.ARABIC]=_b.ISLAMIC,rw[Nb.HEBREW]=_b.HEBREW,rw[Nb.ISO_8601]=_b.ISO_8601,rw[Nb.US]=_b.GREGORY,rw);var uw=!1;function dw(e){if(function(e){return void 0!==e&&e in Nb}(e)){var t=cw[e];return iw(uw,'Specifying calendarType="'.concat(e,'" is deprecated. Use calendarType="').concat(t,'" instead.')),uw=!0,t}return e}function hw(e){for(var n=e.className,r=e.count,i=void 0===r?3:r,s=e.dateTransform,a=e.dateType,o=e.end,l=e.hover,c=e.offset,u=e.renderTile,d=e.start,h=e.step,f=void 0===h?1:h,p=e.value,m=e.valueType,g=[],v=d;v<=o;v+=f){var y=s(v);g.push(u({classes:lw({date:y,dateType:a,hover:l,value:p,valueType:m}),date:y}))}return t.createElement(nw,{className:n,count:i,offset:c,wrap:!0},g)}function fw(e){var n=e.activeStartDate,r=e.children,i=e.classes,s=e.date,a=e.formatAbbr,o=e.locale,l=e.maxDate,c=e.maxDateTransform,u=e.minDate,d=e.minDateTransform,h=e.onClick,f=e.onMouseOver,p=e.style,m=e.tileClassName,g=e.tileContent,v=e.tileDisabled,y=e.view,b=(0,t.useMemo)(function(){return"function"===typeof m?m({activeStartDate:n,date:s,view:y}):m},[n,s,m,y]),w=(0,t.useMemo)(function(){return"function"===typeof g?g({activeStartDate:n,date:s,view:y}):g},[n,s,g,y]);return t.createElement("button",{className:Oy(i,b),disabled:u&&d(u)>s||l&&c(l)<s||v&&v({activeStartDate:n,date:s,view:y}),onClick:h?function(e){return h(s,e)}:void 0,onFocus:f?function(){return f(s)}:void 0,onMouseOver:f?function(){return f(s)}:void 0,style:p,type:"button"},a?t.createElement("abbr",{"aria-label":a(o,s)},r):r,w)}var pw=function(){return pw=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},pw.apply(this,arguments)},mw=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},gw="react-calendar__century-view__decades__decade";function vw(e){var n=e.classes,r=void 0===n?[]:n,i=e.currentCentury,s=e.formatYear,a=void 0===s?Mb:s,o=mw(e,["classes","currentCentury","formatYear"]),l=o.date,c=o.locale,u=[];return r&&u.push.apply(u,r),gw&&u.push(gw),Gy(l).getFullYear()!==i&&u.push("".concat(gw,"--neighboringCentury")),t.createElement(fw,pw({},o,{classes:u,maxDateTransform:rb,minDateTransform:eb,view:"century"}),Gb(c,a,l))}var yw=function(){return yw=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},yw.apply(this,arguments)},bw=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function ww(e){var n=e.activeStartDate,r=e.hover,i=e.showNeighboringCentury,s=e.value,a=e.valueType,o=bw(e,["activeStartDate","hover","showNeighboringCentury","value","valueType"]),l=Wy(Gy(n)),c=l+(i?119:99);return t.createElement(hw,{className:"react-calendar__century-view__decades",dateTransform:eb,dateType:"decade",end:c,hover:r,renderTile:function(e){var r=e.date,i=bw(e,["date"]);return t.createElement(vw,yw({key:r.getTime()},o,i,{activeStartDate:n,currentCentury:l,date:r}))},start:l,step:10,value:s,valueType:a})}var xw=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,s=t.length;i<s;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},kw=Object.values(_b),Ew=Object.values(Nb),Sw=["century","decade","year","month"],_w=Ay.oneOf(xw(xw([],kw,!0),Ew,!0)),Nw=Ay.oneOfType([Ay.string,Ay.arrayOf(Ay.string)]),Tw=function(e,t,n){var r=e[t];if(!r)return null;if(!(r instanceof Date))return new Error("Invalid prop `".concat(t,"` of type `").concat(typeof r,"` supplied to `").concat(n,"`, expected instance of `Date`."));var i=e.maxDate;return i&&r>i?new Error("Invalid prop `".concat(t,"` of type `").concat(typeof r,"` supplied to `").concat(n,"`, minDate cannot be larger than maxDate.")):null},Cw=function(e,t,n){var r=e[t];if(!r)return null;if(!(r instanceof Date))return new Error("Invalid prop `".concat(t,"` of type `").concat(typeof r,"` supplied to `").concat(n,"`, expected instance of `Date`."));var i=e.minDate;return i&&r<i?new Error("Invalid prop `".concat(t,"` of type `").concat(typeof r,"` supplied to `").concat(n,"`, maxDate cannot be smaller than minDate.")):null},Iw=Ay.oneOfType([Ay.func,Ay.exact({current:Ay.any})]),jw=Ay.arrayOf(Ay.oneOfType([Ay.instanceOf(Date),Ay.oneOf([null])]).isRequired),Aw=Ay.oneOfType([Ay.instanceOf(Date),Ay.oneOf([null]),jw]),Dw=(Ay.arrayOf(Ay.oneOf(Sw)),function(e,t,n){var r=e[t];return void 0===r||"string"===typeof r&&-1!==Sw.indexOf(r)?null:new Error("Invalid prop `".concat(t,"` of value `").concat(r,"` supplied to `").concat(n,"`, expected one of [").concat(Sw.map(function(e){return'"'.concat(e,'"')}).join(", "),"]."))});Dw.isRequired=function(e,t,n,r,i){var s=e[t];return s?Dw(e,t,n):new Error("The prop `".concat(t,"` is marked as required in `").concat(n,"`, but its value is `").concat(s,"`."))};var Ow={activeStartDate:Ay.instanceOf(Date).isRequired,hover:Ay.instanceOf(Date),locale:Ay.string,maxDate:Cw,minDate:Tw,onClick:Ay.func,onMouseOver:Ay.func,tileClassName:Ay.oneOfType([Ay.func,Nw]),tileContent:Ay.oneOfType([Ay.func,Ay.node]),value:Aw,valueType:Ay.oneOf(["century","decade","year","month","day"]).isRequired},Pw=(Ay.instanceOf(Date).isRequired,Ay.arrayOf(Ay.string.isRequired).isRequired,Ay.instanceOf(Date).isRequired,Ay.string,Ay.func,Ay.func,Ay.objectOf(Ay.oneOfType([Ay.string,Ay.number])),Ay.oneOfType([Ay.func,Nw]),Ay.oneOfType([Ay.func,Ay.node]),Ay.func,function(){return Pw=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Pw.apply(this,arguments)}),Rw=function(e){return t.createElement("div",{className:"react-calendar__century-view"},t.createElement(ww,Pw({},e)))};Rw.propTypes=Pw(Pw({},Ow),{showNeighboringCentury:Ay.bool});const Lw=Rw;var Mw=function(){return Mw=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Mw.apply(this,arguments)},Fw=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},Uw="react-calendar__decade-view__years__year";function Vw(e){var n=e.classes,r=void 0===n?[]:n,i=e.currentDecade,s=e.formatYear,a=void 0===s?Mb:s,o=Fw(e,["classes","currentDecade","formatYear"]),l=o.date,c=o.locale,u=[];return r&&u.push.apply(u,r),Uw&&u.push(Uw),eb(l).getFullYear()!==i&&u.push("".concat(Uw,"--neighboringDecade")),t.createElement(fw,Mw({},o,{classes:u,maxDateTransform:cb,minDateTransform:ab,view:"decade"}),a(c,l))}var zw=function(){return zw=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},zw.apply(this,arguments)},Bw=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function qw(e){var n=e.activeStartDate,r=e.hover,i=e.showNeighboringDecade,s=e.value,a=e.valueType,o=Bw(e,["activeStartDate","hover","showNeighboringDecade","value","valueType"]),l=Wy(eb(n)),c=l+(i?11:9);return t.createElement(hw,{className:"react-calendar__decade-view__years",dateTransform:ab,dateType:"year",end:c,hover:r,renderTile:function(e){var r=e.date,i=Bw(e,["date"]);return t.createElement(Vw,zw({key:r.getTime()},o,i,{activeStartDate:n,currentDecade:l,date:r}))},start:l,value:s,valueType:a})}var $w=function(){return $w=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},$w.apply(this,arguments)},Ww=function(e){return t.createElement("div",{className:"react-calendar__decade-view"},t.createElement(qw,$w({},e)))};Ww.propTypes=$w($w({},Ow),{showNeighboringDecade:Ay.bool});const Hw=Ww;var Kw=function(){return Kw=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Kw.apply(this,arguments)},Gw=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},Qw=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,s=t.length;i<s;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))};function Yw(e){var n=e.classes,r=void 0===n?[]:n,i=e.formatMonth,s=void 0===i?Ob:i,a=e.formatMonthYear,o=void 0===a?Pb:a,l=Gw(e,["classes","formatMonth","formatMonthYear"]),c=l.date,u=l.locale;return t.createElement(fw,Kw({},l,{classes:Qw(Qw([],r,!0),["react-calendar__year-view__months__month"],!1),formatAbbr:o,maxDateTransform:gb,minDateTransform:fb,view:"year"}),s(u,c))}var Jw=function(){return Jw=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Jw.apply(this,arguments)},Xw=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function Zw(e){var n=e.activeStartDate,r=e.hover,i=e.value,s=e.valueType,a=Xw(e,["activeStartDate","hover","value","valueType"]),o=Wy(n);return t.createElement(hw,{className:"react-calendar__year-view__months",dateTransform:function(e){var t=new Date;return t.setFullYear(o,e,1),fb(t)},dateType:"month",end:11,hover:r,renderTile:function(e){var r=e.date,i=Xw(e,["date"]);return t.createElement(Yw,Jw({key:r.getTime()},a,i,{activeStartDate:n,date:r}))},start:0,value:i,valueType:s})}var ex=function(){return ex=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},ex.apply(this,arguments)},tx=function(e){return t.createElement("div",{className:"react-calendar__year-view"},t.createElement(Zw,ex({},e)))};tx.propTypes=ex({},Ow);const nx=tx;var rx=function(){return rx=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},rx.apply(this,arguments)},ix=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},sx="react-calendar__month-view__days__day";function ax(e){var n=e.calendarType,r=e.classes,i=void 0===r?[]:r,s=e.currentMonthIndex,a=e.formatDay,o=void 0===a?Ab:a,l=e.formatLongDate,c=void 0===l?Db:l,u=ix(e,["calendarType","classes","currentMonthIndex","formatDay","formatLongDate"]),d=dw(n),h=u.date,f=u.locale,p=[];return i&&p.push.apply(p,i),sx&&p.push(sx),Yb(h,d)&&p.push("".concat(sx,"--weekend")),h.getMonth()!==s&&p.push("".concat(sx,"--neighboringMonth")),t.createElement(fw,rx({},u,{classes:p,formatAbbr:c,maxDateTransform:kb,minDateTransform:wb,view:"month"}),o(f,h))}var ox=function(){return ox=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},ox.apply(this,arguments)},lx=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function cx(e){var n=e.activeStartDate,r=e.calendarType,i=e.hover,s=e.showFixedNumberOfWeeks,a=e.showNeighboringMonth,o=e.value,l=e.valueType,c=lx(e,["activeStartDate","calendarType","hover","showFixedNumberOfWeeks","showNeighboringMonth","value","valueType"]),u=dw(r),d=Wy(n),h=Hy(n),f=s||a,p=zb(n,u),m=f?0:p,g=1+(f?-p:0),v=function(){if(s)return g+42-1;var e=Sb(n);if(a){var t=new Date;return t.setFullYear(d,h,e),t.setHours(0,0,0,0),e+(7-zb(t,u)-1)}return e}();return t.createElement(hw,{className:"react-calendar__month-view__days",count:7,dateTransform:function(e){var t=new Date;return t.setFullYear(d,h,e),wb(t)},dateType:"day",hover:i,end:v,renderTile:function(e){var i=e.date,s=lx(e,["date"]);return t.createElement(ax,ox({key:i.getTime()},c,s,{activeStartDate:n,calendarType:r,currentMonthIndex:h,date:i}))},offset:m,start:g,value:o,valueType:l})}var ux="react-calendar__month-view__weekdays",dx="".concat(ux,"__weekday");function hx(e){for(var n=e.calendarType,r=e.formatShortWeekday,i=void 0===r?Rb:r,s=e.formatWeekday,a=void 0===s?Lb:s,o=e.locale,l=e.onMouseLeave,c=dw(n),u=fb(new Date),d=Wy(u),h=Hy(u),f=[],p=1;p<=7;p+=1){var m=new Date(d,h,p-zb(u,c)),g=a(o,m);f.push(t.createElement("div",{key:p,className:Oy(dx,Qb(m)&&"".concat(dx,"--current"),Yb(m,c)&&"".concat(dx,"--weekend"))},t.createElement("abbr",{"aria-label":g,title:g},i(o,m).replace(".",""))))}return t.createElement(nw,{className:ux,count:7,onFocus:l,onMouseOver:l},f)}var fx=function(){return fx=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},fx.apply(this,arguments)},px=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},mx="react-calendar__tile";function gx(e){var n=e.onClickWeekNumber,r=e.weekNumber,i=t.createElement("span",null,r);if(n){var s=e.date,a=e.onClickWeekNumber,o=e.weekNumber,l=px(e,["date","onClickWeekNumber","weekNumber"]);return t.createElement("button",fx({},l,{className:mx,onClick:function(e){return a(o,s,e)},type:"button"}),i)}e.date,e.onClickWeekNumber,e.weekNumber,l=px(e,["date","onClickWeekNumber","weekNumber"]);return t.createElement("div",fx({},l,{className:mx}),i)}function vx(e){var n=e.activeStartDate,r=e.calendarType,i=e.onClickWeekNumber,s=e.onMouseLeave,a=e.showFixedNumberOfWeeks,o=dw(r),l=function(){if(a)return 6;var e=Sb(n)-(7-zb(n,o));return 1+Math.ceil(e/7)}(),c=function(){for(var e=Wy(n),t=Hy(n),r=Ky(n),i=[],s=0;s<l;s+=1)i.push(Bb(new Date(e,t,r+7*s),o));return i}(),u=c.map(function(e){return function(e,t){void 0===t&&(t=_b.ISO_8601);var n,r=t===_b.GREGORY?_b.GREGORY:_b.ISO_8601,i=Bb(e,t),s=Wy(e)+1;do{n=Bb(new Date(s,0,r===_b.ISO_8601?4:1),t),s-=1}while(e<n);return Math.round((i.getTime()-n.getTime())/6048e5)+1}(e,o)});return t.createElement(nw,{className:"react-calendar__month-view__weekNumbers",count:l,direction:"column",onFocus:s,onMouseOver:s,style:{flexBasis:"calc(100% * (1 / 8)",flexShrink:0}},u.map(function(e,n){var r=c[n];if(!r)throw new Error("date is not defined");return t.createElement(gx,{key:e,date:r,onClickWeekNumber:i,weekNumber:e})}))}var yx=function(){return yx=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},yx.apply(this,arguments)},bx=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};var wx=function(e){var n=e.activeStartDate,r=e.locale,i=e.onMouseLeave,s=e.showFixedNumberOfWeeks,a=e.calendarType,o=void 0===a?function(e){if(e)for(var t=0,n=Object.entries(Tb);t<n.length;t++){var r=n[t],i=r[0];if(r[1].includes(e))return i}return _b.ISO_8601}(r):a,l=e.formatShortWeekday,c=e.formatWeekday,u=e.onClickWeekNumber,d=e.showWeekNumbers,h=bx(e,["calendarType","formatShortWeekday","formatWeekday","onClickWeekNumber","showWeekNumbers"]);var f="react-calendar__month-view";return t.createElement("div",{className:Oy(f,d?"".concat(f,"--weekNumbers"):"")},t.createElement("div",{style:{display:"flex",alignItems:"flex-end"}},d?t.createElement(vx,{activeStartDate:n,calendarType:o,onClickWeekNumber:u,onMouseLeave:i,showFixedNumberOfWeeks:s}):null,t.createElement("div",{style:{flexGrow:1,width:"100%"}},t.createElement(hx,{calendarType:o,formatShortWeekday:l,formatWeekday:c,locale:r,onMouseLeave:i}),t.createElement(cx,yx({calendarType:o},h)))))};wx.propTypes=yx(yx({},Ow),{calendarType:_w,formatDay:Ay.func,formatLongDate:Ay.func,formatShortWeekday:Ay.func,formatWeekday:Ay.func,onClickWeekNumber:Ay.func,onMouseLeave:Ay.func,showFixedNumberOfWeeks:Ay.bool,showNeighboringMonth:Ay.bool,showWeekNumbers:Ay.bool});const xx=wx;var kx=function(){return kx=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},kx.apply(this,arguments)},Ex="react-calendar",Sx=["century","decade","year","month"],_x=["decade","year","month","day"],Nx=new Date;Nx.setFullYear(1,0,1),Nx.setHours(0,0,0,0);var Tx=new Date(864e13);function Cx(e){return e instanceof Date?e:new Date(e)}function Ix(e,t){return Sx.slice(Sx.indexOf(e),Sx.indexOf(t)+1)}function jx(e,t,n){return e&&function(e,t,n){return-1!==Ix(t,n).indexOf(e)}(e,t,n)?e:n}function Ax(e){var t=Sx.indexOf(e);return _x[t]}function Dx(e,t){var n=e.value,r=e.minDate,i=e.maxDate,s=e.maxDetail,a=function(e,t){var n=Array.isArray(e)?e[t]:e;if(!n)return null;var r=Cx(n);if(isNaN(r.getTime()))throw new Error("Invalid date: ".concat(e));return r}(n,t);if(!a)return null;var o=Ax(s);return function(e,t,n){return t&&t>e?t:n&&n<e?n:e}(function(){switch(t){case 0:return qb(o,a);case 1:return Wb(o,a);default:throw new Error("Invalid index value: ".concat(t))}}(),r,i)}var Ox=function(e){return Dx(e,0)},Px=function(e){return Dx(e,1)},Rx=function(e){return[Ox,Px].map(function(t){return t(e)})};function Lx(e){var t=e.maxDate,n=e.maxDetail,r=e.minDate,i=e.minDetail,s=e.value;return qb(jx(e.view,i,n),Ox({value:s,minDate:r,maxDate:t,maxDetail:n})||new Date)}function Mx(e){return e&&(!Array.isArray(e)||1===e.length)}function Fx(e,t){return e instanceof Date&&t instanceof Date&&e.getTime()===t.getTime()}var Ux,Vx=(0,t.forwardRef)(function(e,n){var r=e.activeStartDate,i=e.allowPartialRange,s=e.calendarType,a=e.className,o=e.defaultActiveStartDate,l=e.defaultValue,c=e.defaultView,u=e.formatDay,d=e.formatLongDate,h=e.formatMonth,f=e.formatMonthYear,p=e.formatShortWeekday,m=e.formatWeekday,g=e.formatYear,v=e.goToRangeStartOnSelect,y=void 0===v||v,b=e.inputRef,w=e.locale,x=e.maxDate,k=void 0===x?Tx:x,E=e.maxDetail,S=void 0===E?"month":E,_=e.minDate,N=void 0===_?Nx:_,T=e.minDetail,C=void 0===T?"century":T,I=e.navigationAriaLabel,j=e.navigationAriaLive,A=e.navigationLabel,D=e.next2AriaLabel,O=e.next2Label,P=e.nextAriaLabel,R=e.nextLabel,L=e.onActiveStartDateChange,M=e.onChange,F=e.onClickDay,U=e.onClickDecade,V=e.onClickMonth,z=e.onClickWeekNumber,B=e.onClickYear,q=e.onDrillDown,$=e.onDrillUp,W=e.onViewChange,H=e.prev2AriaLabel,K=e.prev2Label,G=e.prevAriaLabel,Q=e.prevLabel,Y=e.returnValue,J=void 0===Y?"start":Y,X=e.selectRange,Z=e.showDoubleView,ee=e.showFixedNumberOfWeeks,te=e.showNavigation,ne=void 0===te||te,re=e.showNeighboringCentury,ie=e.showNeighboringDecade,se=e.showNeighboringMonth,ae=void 0===se||se,oe=e.showWeekNumbers,le=e.tileClassName,ce=e.tileContent,ue=e.tileDisabled,de=e.value,he=e.view,fe=(0,t.useState)(o),pe=fe[0],me=fe[1],ge=(0,t.useState)(null),ve=ge[0],ye=ge[1],be=(0,t.useState)(Array.isArray(l)?l.map(function(e){return null!==e?Cx(e):null}):null!==l&&void 0!==l?Cx(l):null),we=be[0],xe=be[1],ke=(0,t.useState)(c),Ee=ke[0],Se=ke[1],_e=r||pe||function(e){var t=e.activeStartDate,n=e.defaultActiveStartDate,r=e.defaultValue,i=e.defaultView,s=e.maxDate,a=e.maxDetail,o=e.minDate,l=e.minDetail,c=e.value,u=e.view,d=jx(u,l,a),h=t||n;return h?qb(d,h):Lx({maxDate:s,maxDetail:a,minDate:o,minDetail:l,value:c||r,view:u||i})}({activeStartDate:r,defaultActiveStartDate:o,defaultValue:l,defaultView:c,maxDate:k,maxDetail:S,minDate:N,minDetail:C,value:de,view:he}),Ne=function(){var e=X&&Mx(we)?we:void 0!==de?de:we;return e?Array.isArray(e)?e.map(function(e){return null!==e?Cx(e):null}):null!==e?Cx(e):null:null}(),Te=Ax(S),Ce=jx(he||Ee,C,S),Ie=Ix(C,S),je=X?ve:null,Ae=Ie.indexOf(Ce)<Ie.length-1,De=Ie.indexOf(Ce)>0,Oe=(0,t.useCallback)(function(e){return function(){switch(J){case"start":return Ox;case"end":return Px;case"range":return Rx;default:throw new Error("Invalid returnValue.")}}()({maxDate:k,maxDetail:S,minDate:N,value:e})},[k,S,N,J]),Pe=(0,t.useCallback)(function(e,t){me(e);var n={action:t,activeStartDate:e,value:Ne,view:Ce};L&&!Fx(_e,e)&&L(n)},[_e,L,Ne,Ce]),Re=(0,t.useCallback)(function(e,t){var n=function(){switch(Ce){case"century":return U;case"decade":return B;case"year":return V;case"month":return F;default:throw new Error("Invalid view: ".concat(Ce,"."))}}();n&&n(e,t)},[F,U,V,B,Ce]),Le=(0,t.useCallback)(function(e,t){if(Ae){Re(e,t);var n=Ie[Ie.indexOf(Ce)+1];if(!n)throw new Error("Attempted to drill down from the lowest view.");me(e),Se(n);var r={action:"drillDown",activeStartDate:e,value:Ne,view:n};L&&!Fx(_e,e)&&L(r),W&&Ce!==n&&W(r),q&&q(r)}},[_e,Ae,L,Re,q,W,Ne,Ce,Ie]),Me=(0,t.useCallback)(function(){if(De){var e=Ie[Ie.indexOf(Ce)-1];if(!e)throw new Error("Attempted to drill up from the highest view.");var t=qb(e,_e);me(t),Se(e);var n={action:"drillUp",activeStartDate:t,value:Ne,view:e};L&&!Fx(_e,t)&&L(n),W&&Ce!==e&&W(n),$&&$(n)}},[_e,De,L,$,W,Ne,Ce,Ie]),Fe=(0,t.useCallback)(function(e,t){var n=Ne;Re(e,t);var r,s=X&&!Mx(n);if(X)if(s)r=qb(Te,e);else{if(!n)throw new Error("previousValue is required");if(Array.isArray(n))throw new Error("previousValue must not be an array");r=function(e,t,n){var r=[t,n].sort(function(e,t){return e.getTime()-t.getTime()});return[qb(e,r[0]),Wb(e,r[1])]}(Te,n,e)}else r=Oe(e);var a=!X||s||y?Lx({maxDate:k,maxDetail:S,minDate:N,minDetail:C,value:r,view:Ce}):null;t.persist(),me(a),xe(r);var o={action:"onChange",activeStartDate:a,value:r,view:Ce};if(L&&!Fx(_e,a)&&L(o),M)if(X)if(Mx(r)){if(i){if(Array.isArray(r))throw new Error("value must not be an array");M([r||null,null],t)}}else M(r||null,t);else M(r||null,t)},[_e,i,Oe,y,k,S,N,C,L,M,Re,X,Ne,Te,Ce]);function Ue(e){ye(e)}function Ve(){ye(null)}function ze(e){var n={activeStartDate:e?$b(Ce,_e):qb(Ce,_e),hover:je,locale:w,maxDate:k,minDate:N,onClick:Ae?Le:Fe,onMouseOver:X?Ue:void 0,tileClassName:le,tileContent:ce,tileDisabled:ue,value:Ne,valueType:Te};switch(Ce){case"century":return t.createElement(Lw,kx({formatYear:g,showNeighboringCentury:re},n));case"decade":return t.createElement(Hw,kx({formatYear:g,showNeighboringDecade:ie},n));case"year":return t.createElement(nx,kx({formatMonth:h,formatMonthYear:f},n));case"month":return t.createElement(xx,kx({calendarType:s,formatDay:u,formatLongDate:d,formatShortWeekday:p,formatWeekday:m,onClickWeekNumber:z,onMouseLeave:X?Ve:void 0,showFixedNumberOfWeeks:"undefined"!==typeof ee?ee:Z,showNeighboringMonth:ae,showWeekNumbers:oe},n));default:throw new Error("Invalid view: ".concat(Ce,"."))}}(0,t.useImperativeHandle)(n,function(){return{activeStartDate:_e,drillDown:Le,drillUp:Me,onChange:Fe,setActiveStartDate:Pe,value:Ne,view:Ce}},[_e,Le,Me,Fe,Pe,Ne,Ce]);var Be=Array.isArray(Ne)?Ne:[Ne];return t.createElement("div",{className:Oy(Ex,X&&1===Be.length&&"".concat(Ex,"--selectRange"),Z&&"".concat(Ex,"--doubleView"),a),ref:b},ne?t.createElement(Xb,{activeStartDate:_e,drillUp:Me,formatMonthYear:f,formatYear:g,locale:w,maxDate:k,minDate:N,navigationAriaLabel:I,navigationAriaLive:j,navigationLabel:A,next2AriaLabel:D,next2Label:O,nextAriaLabel:P,nextLabel:R,prev2AriaLabel:H,prev2Label:K,prevAriaLabel:G,prevLabel:Q,setActiveStartDate:Pe,showDoubleView:Z,view:Ce,views:Ie}):null,t.createElement("div",{className:"".concat(Ex,"__viewContainer"),onBlur:X?Ve:void 0,onMouseLeave:X?Ve:void 0},ze(),Z?ze(!0):null))}),zx=Ay.instanceOf(Date),Bx=Ay.oneOfType([Ay.string,Ay.instanceOf(Date)]),qx=Ay.oneOfType([Bx,(Ux=Bx,Ay.arrayOf(Ux))]);Vx.propTypes={activeStartDate:zx,allowPartialRange:Ay.bool,calendarType:_w,className:Nw,defaultActiveStartDate:zx,defaultValue:qx,defaultView:Dw,formatDay:Ay.func,formatLongDate:Ay.func,formatMonth:Ay.func,formatMonthYear:Ay.func,formatShortWeekday:Ay.func,formatWeekday:Ay.func,formatYear:Ay.func,goToRangeStartOnSelect:Ay.bool,inputRef:Iw,locale:Ay.string,maxDate:Cw,maxDetail:Ay.oneOf(Sx),minDate:Tw,minDetail:Ay.oneOf(Sx),navigationAriaLabel:Ay.string,navigationAriaLive:Ay.oneOf(["off","polite","assertive"]),navigationLabel:Ay.func,next2AriaLabel:Ay.string,next2Label:Ay.node,nextAriaLabel:Ay.string,nextLabel:Ay.node,onActiveStartDateChange:Ay.func,onChange:Ay.func,onClickDay:Ay.func,onClickDecade:Ay.func,onClickMonth:Ay.func,onClickWeekNumber:Ay.func,onClickYear:Ay.func,onDrillDown:Ay.func,onDrillUp:Ay.func,onViewChange:Ay.func,prev2AriaLabel:Ay.string,prev2Label:Ay.node,prevAriaLabel:Ay.string,prevLabel:Ay.node,returnValue:Ay.oneOf(["start","end","range"]),selectRange:Ay.bool,showDoubleView:Ay.bool,showFixedNumberOfWeeks:Ay.bool,showNavigation:Ay.bool,showNeighboringCentury:Ay.bool,showNeighboringDecade:Ay.bool,showNeighboringMonth:Ay.bool,showWeekNumbers:Ay.bool,tileClassName:Ay.oneOfType([Ay.func,Nw]),tileContent:Ay.oneOfType([Ay.func,Ay.node]),tileDisabled:Ay.func,value:qx,view:Dw};const $x=Vx,Wx=()=>{const[e,n]=(0,t.useState)(new Date),[r,i]=(0,t.useState)([]),[s,a]=(0,t.useState)("");(0,t.useEffect)(()=>{o()},[e]);const o=async()=>{const t=e.toDateString(),n=Wv(lv(gy,"bookings"),Kv("date","==",t)),r=(await cy(n)).docs.map(e=>({id:e.id,...e.data()}));i(r)},l=r.filter(e=>e.name.toLowerCase().includes(s.toLowerCase()));return(0,je.jsx)("div",{className:"reception-calendar",children:(0,je.jsxs)("div",{className:"container",children:[(0,je.jsx)("h1",{children:"Reception Calendar"}),(0,je.jsxs)("div",{className:"calendar-content",children:[(0,je.jsx)("div",{className:"calendar-section",children:(0,je.jsx)($x,{value:e,onChange:n})}),(0,je.jsxs)("div",{className:"bookings-section",children:[(0,je.jsxs)("h3",{children:["Bookings for ",e.toDateString()]}),(0,je.jsxs)("div",{className:"search-container",children:[(0,je.jsx)("input",{type:"text",placeholder:"Search by customer name...",value:s,onChange:e=>a(e.target.value),className:"search-input"}),(0,je.jsx)("div",{className:"search-icon",children:"\ud83d\udd0d"})]}),0===l.length?(0,je.jsx)("p",{children:s?`No bookings found for "${s}"`:"No bookings for this date"}):(0,je.jsx)("div",{className:"bookings-list",children:l.map(e=>(0,je.jsxs)("div",{className:"booking-item",children:[(0,je.jsx)("div",{className:"booking-time",children:e.time}),(0,je.jsxs)("div",{className:"booking-details",children:[(0,je.jsx)("strong",{children:e.name}),(0,je.jsxs)("p",{children:["People: ",e.people," | Rounds: ",e.rounds]}),(0,je.jsxs)("p",{children:["Phone: ",e.phone]})]})]},e.id))})]})]})]})})};class Hx{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Network Error";this.status=e,this.text=t}}const Kx={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:(()=>{if("undefined"!==typeof localStorage)return{get:e=>Promise.resolve(localStorage.getItem(e)),set:(e,t)=>Promise.resolve(localStorage.setItem(e,t)),remove:e=>Promise.resolve(localStorage.removeItem(e))}})()},Gx=e=>e?"string"===typeof e?{publicKey:e}:"[object Object]"===e.toString()?e:{}:{},Qx=async function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=await fetch(Kx.origin+e,{method:"POST",headers:n,body:t}),i=await r.text(),s=new Hx(r.status,i);if(r.ok)return s;throw s},Yx=(e,t,n)=>{if(!e||"string"!==typeof e)throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!t||"string"!==typeof t)throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!n||"string"!==typeof n)throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},Jx=e=>e.webdriver||!e.languages||0===e.languages.length,Xx=()=>new Hx(451,"Unavailable For Headless Browser"),Zx=(e,t)=>{if((e=>!e.list?.length||!e.watchVariable)(e))return!1;((e,t)=>{if(!Array.isArray(e))throw"The BlockList list has to be an array";if("string"!==typeof t)throw"The BlockList watchVariable has to be a string"})(e.list,e.watchVariable);const n=((e,t)=>e instanceof FormData?e.get(t):e[t])(t,e.watchVariable);return"string"===typeof n&&e.list.includes(n)},ek=()=>new Hx(403,"Forbidden"),tk=async(e,t,n)=>{if(!t.throttle||!n)return!1;((e,t)=>{if("number"!==typeof e||e<0)throw"The LimitRate throttle has to be a positive number";if(t&&"string"!==typeof t)throw"The LimitRate ID has to be a non-empty string"})(t.throttle,t.id);const r=t.id||e,i=await(async(e,t,n)=>{const r=Number(await n.get(e)||0);return t-Date.now()+r})(r,t.throttle,n);return i>0||(await n.set(r,Date.now().toString()),!1)},nk=()=>new Hx(429,"Too Many Requests"),rk=async(e,t,n,r)=>{const i=Gx(r),s=i.publicKey||Kx.publicKey,a=i.blockHeadless||Kx.blockHeadless,o=i.storageProvider||Kx.storageProvider,l={...Kx.blockList,...i.blockList},c={...Kx.limitRate,...i.limitRate};if(a&&Jx(navigator))return Promise.reject(Xx());if(Yx(s,e,t),(e=>{if(e&&"[object Object]"!==e.toString())throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"})(n),n&&Zx(l,n))return Promise.reject(ek());if(await tk(location.pathname,c,o))return Promise.reject(nk());const u={lib_version:"4.4.1",user_id:s,service_id:e,template_id:t,template_params:n};return Qx("/api/v1.0/email/send",JSON.stringify(u),{"Content-type":"application/json"})};(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"https://api.emailjs.com";if(!e)return;const n=Gx(e);Kx.publicKey=n.publicKey,Kx.blockHeadless=n.blockHeadless,Kx.storageProvider=n.storageProvider,Kx.blockList=n.blockList,Kx.limitRate=n.limitRate,Kx.origin=n.origin||t})("3AU1RwSSy_BN9h50e");const ik="service_khshse4",sk="template_6otg3tv",ak=()=>{const{showSuccess:e,showError:n,showWarning:r,showConfirm:i}=Pe(),[s,a]=(0,t.useState)("bookings"),[o,l]=(0,t.useState)([]),[c,u]=(0,t.useState)([]),[d,h]=(0,t.useState)([]),[f,p]=(0,t.useState)([]),[m,g]=(0,t.useState)([]),[v,y]=(0,t.useState)([]),[b,w]=(0,t.useState)(!1),[x,k]=(0,t.useState)("all"),[E,S]=(0,t.useState)({name:"",image:""}),[_,N]=(0,t.useState)(!1),[T,C]=(0,t.useState)({title:"",price:"",items:[""],maxPeople:"",duration:""}),[I,j]=(0,t.useState)({spend:"",get:""}),[A,D]=(0,t.useState)({question:"",answer:""}),[O,P]=(0,t.useState)(null),[R,L]=(0,t.useState)(null),[M,F]=(0,t.useState)({title:"",price:"",items:[""],maxPeople:"",duration:""}),[U,V]=(0,t.useState)(""),[z,B]=(0,t.useState)(!1),[q,$]=(0,t.useState)(null);(0,t.useEffect)(()=>{W()},[]);const W=async()=>{w(!0);try{const e=await cy(lv(gy,"bookings"));l(e.docs.map(e=>({id:e.id,...e.data()})));const t=await cy(lv(gy,"menu"));u(t.docs.map(e=>({id:e.id,...e.data()})));const n=await cy(Wv(lv(gy,"feedback"),function(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=zv("orderBy",e);return Qv._create(n,t)}("createdAt","desc")));h(n.docs.map(e=>({id:e.id,...e.data()})));const r=await cy(lv(gy,"birthdayPackages"));p(r.docs.map(e=>({id:e.id,...e.data()})));const i=await cy(lv(gy,"offers"));g(i.docs.map(e=>({id:e.id,...e.data()})));const s=await cy(lv(gy,"faqs"));y(s.docs.map(e=>({id:e.id,...e.data()})))}catch(e){console.error("Error fetching data:",e)}w(!1)},H=async()=>{if(M.title&&M.price)try{const t={...M,items:M.items.filter(e=>""!==e.trim()),maxPeople:M.maxPeople,duration:parseInt(M.duration)};await uy(cv(gy,"birthdayPackages",R),t),p(f.map(e=>e.id===R?{id:R,...t}:e)),L(null),F({title:"",price:"",items:[""],maxPeople:"",duration:""}),e("Birthday package updated successfully!")}catch(t){n("Error updating birthday package: "+t.message)}else r("Please fill all required fields")},K=()=>{L(null),F({title:"",price:"",items:[""],maxPeople:"",duration:""})},G=async t=>{if(await i({title:"Approve Booking",message:"Are you sure you want to approve this booking? The customer will be notified via email.",confirmText:"Approve & Send Email",cancelText:"Cancel",type:"info"}))try{const n=o.find(e=>e.id===t);if(n.email&&""!==n.email.trim()||r("This booking doesn't have an email address. Approving without sending email."),await uy(cv(gy,"bookings",t),{status:"approved",approvedAt:new Date,approvedBy:"admin"}),l(o.map(e=>e.id===t?{...e,status:"approved",approvedAt:new Date}:e)),n.email&&""!==n.email.trim()){console.log("Attempting to send approval email to:",n.email);const t=await(async e=>{try{if(!e.email||""===e.email.trim())throw new Error("No email address provided");const t={to_email:e.email.trim(),to_name:e.name,from_name:"Bowling Center Team",reply_to:"noreply@bowlingcenter.com",subject:`\u2705 Bowling Booking Confirmed - ${e.date}`,booking_date:e.date,booking_time:e.time,booking_people:e.people,booking_rounds:e.rounds||"N/A",booking_phone:e.phone,booking_type:e.type,booking_package:e.bundleName||"Regular Bowling",booking_id:e.id,message:"Great news! Your bowling booking has been confirmed.",user_name:e.name,user_email:e.email.trim()};return console.log("Sending approval email with params:",t),{success:!0,response:await rk(ik,sk,t)}}catch(t){return console.error("Error sending approval email:",t),{success:!1,error:t.message}}})(n);t.success?e("Booking approved and confirmation email sent!"):(console.error("Email sending failed:",t.error),r(`Booking approved but email failed to send: ${t.error}`))}else e("Booking approved! (No email on file)")}catch(s){n("Error approving booking: "+s.message)}},Q=()=>{B(!1),$(null),V("")},Y=e=>{switch(e){case"pending":return"#f59e0b";case"approved":return"#22c55e";case"rejected":return"#ef4444";default:return"#6b7280"}},J=e=>{switch(e){case"pending":return"\u23f3";case"approved":return"\u2705";case"rejected":return"\u274c";default:return"\u2753"}};return(0,je.jsxs)("div",{className:"jana-dashboard",children:[(0,je.jsxs)("div",{className:"container",children:[(0,je.jsx)("h1",{children:"Jana's Management Dashboard"}),(0,je.jsxs)("div",{className:"tab-navigation",children:[(0,je.jsx)("button",{className:"bookings"===s?"active":"",onClick:()=>a("bookings"),children:"\ud83d\udcc5 Manage Bookings"}),(0,je.jsx)("button",{className:"menu"===s?"active":"",onClick:()=>a("menu"),children:"\ud83c\udf7d\ufe0f Manage Menu"}),(0,je.jsx)("button",{className:"feedback"===s?"active":"",onClick:()=>a("feedback"),children:"\ud83d\udcac Manage Feedback"}),(0,je.jsx)("button",{className:"birthday"===s?"active":"",onClick:()=>a("birthday"),children:"\ud83c\udf89 Manage Birthday Packages"}),(0,je.jsx)("button",{className:"offers"===s?"active":"",onClick:()=>a("offers"),children:"\ud83d\udcb0 Manage Offers"}),(0,je.jsx)("button",{className:"faqs"===s?"active":"",onClick:()=>a("faqs"),children:"\u2753 Manage FAQs"})]}),b&&(0,je.jsx)("div",{className:"loading",children:"Loading..."}),"bookings"===s&&(0,je.jsxs)("div",{className:"tab-content",children:[(0,je.jsxs)("div",{className:"bookings-header",children:[(0,je.jsx)("h2",{children:"Manage Bookings"}),(0,je.jsxs)("div",{className:"booking-filters",children:[(0,je.jsxs)("button",{className:"filter-btn "+("all"===x?"active":""),onClick:()=>k("all"),children:["All (",o.length,")"]}),(0,je.jsxs)("button",{className:"filter-btn "+("pending"===x?"active":""),onClick:()=>k("pending"),children:["Pending (",o.filter(e=>"pending"===e.status).length,")"]}),(0,je.jsxs)("button",{className:"filter-btn "+("approved"===x?"active":""),onClick:()=>k("approved"),children:["Approved (",o.filter(e=>"approved"===e.status).length,")"]}),(0,je.jsxs)("button",{className:"filter-btn "+("rejected"===x?"active":""),onClick:()=>k("rejected"),children:["Rejected (",o.filter(e=>"rejected"===e.status).length,")"]})]})]}),(0,je.jsx)("div",{className:"bookings-list",children:("all"===x?o:o.filter(e=>e.status===x)).map(t=>{var r,s,a,c;return(0,je.jsx)("div",{className:"booking-card",children:O===t.id?(0,je.jsxs)("div",{className:"edit-form",children:[(0,je.jsx)("input",{type:"date",defaultValue:new Date(t.date).toISOString().split("T")[0],onChange:e=>t.newDate=e.target.value}),(0,je.jsx)("input",{type:"time",defaultValue:t.time,onChange:e=>t.newTime=e.target.value}),(0,je.jsx)("button",{onClick:()=>(async(t,r)=>{try{await uy(cv(gy,"bookings",t),r),l(o.map(e=>e.id===t?{...e,...r}:e)),P(null),e("Booking updated successfully!")}catch(i){n("Error updating booking: "+i.message)}})(t.id,{date:t.newDate||t.date,time:t.newTime||t.time}),children:"Save"}),(0,je.jsx)("button",{onClick:()=>P(null),children:"Cancel"})]}):(0,je.jsxs)("div",{className:"booking-info",children:[(0,je.jsxs)("div",{className:"booking-status-header",children:[(0,je.jsxs)("div",{className:"booking-status",style:{color:Y(t.status)},children:[J(t.status)," ",(null===(r=t.status)||void 0===r?void 0:r.toUpperCase())||"PENDING"]}),(0,je.jsxs)("div",{className:"booking-date-created",children:["Created:"," ",(null===(s=t.createdAt)||void 0===s||null===(a=s.toDate)||void 0===a||null===(c=a.call(s))||void 0===c?void 0:c.toLocaleDateString())||"N/A"]})]}),(0,je.jsx)("h3",{children:t.name}),(0,je.jsxs)("p",{children:["\ud83d\udcc5 ",t.date," at ",t.time]}),(0,je.jsxs)("p",{children:["\ud83d\udc65 ",t.people," people | \ud83c\udfb3 ",t.rounds," rounds"]}),(0,je.jsxs)("p",{children:["\ud83d\udcde ",t.phone]}),t.email&&(0,je.jsxs)("p",{children:["\ud83d\udce7 ",t.email]}),"birthday"===t.type&&t.bundleName&&(0,je.jsxs)("p",{children:["\ud83c\udf89 Package: ",t.bundleName]}),t.contactAttempts>0&&(0,je.jsxs)("p",{className:"contact-attempts",children:["\ud83d\udcde Contact attempts: ",t.contactAttempts]}),(0,je.jsxs)("div",{className:"booking-actions",children:["pending"===t.status&&(0,je.jsxs)(je.Fragment,{children:[(0,je.jsx)("button",{onClick:()=>(async t=>{try{const n=o.find(e=>e.id===t),r=(n.contactAttempts||0)+1;await uy(cv(gy,"bookings",t),{contactAttempts:r,lastContactAttempt:new Date}),l(o.map(e=>e.id===t?{...e,contactAttempts:r,lastContactAttempt:new Date}:e)),e(`Contact attempt #${r} recorded`)}catch(r){n("Error recording contact attempt: "+r.message)}})(t.id),className:"contact-btn",children:"Mark Contact Attempt"}),(0,je.jsx)("button",{onClick:()=>G(t.id),className:"approve-btn",children:"Approve & Email"}),(0,je.jsx)("button",{onClick:()=>{return e=t.id,$(e),V(""),void B(!0);var e},className:"reject-btn",children:"Reject & Email"})]}),"approved"===t.status&&(0,je.jsx)("button",{onClick:()=>P(t.id),children:"Edit"}),(0,je.jsx)("button",{onClick:()=>(async t=>{if(await i({title:"Cancel Booking",message:"Are you sure you want to cancel this booking? This action cannot be undone.",confirmText:"Cancel Booking",cancelText:"Keep Booking",type:"danger"}))try{await dy(cv(gy,"bookings",t)),l(o.filter(e=>e.id!==t)),e("Booking cancelled successfully!")}catch(r){n("Error cancelling booking: "+r.message)}})(t.id),className:"cancel",children:"Delete"})]})]})},t.id)})})]}),"menu"===s&&(0,je.jsxs)("div",{className:"tab-content",children:[(0,je.jsx)("h2",{children:"Manage Menu"}),(0,je.jsxs)("div",{className:"add-form",children:[(0,je.jsx)("h3",{children:"Add New Menu Item"}),(0,je.jsx)("input",{type:"text",placeholder:"Item Name",value:E.name,onChange:e=>S({...E,name:e.target.value})}),(0,je.jsxs)("div",{className:"image-upload-section",children:[(0,je.jsx)("label",{children:"Upload Image:"}),(0,je.jsx)("input",{type:"file",accept:"image/*",onChange:async e=>{const t=e.target.files[0];if(t)if(t.type.startsWith("image/")){N(!0);try{const e=await(async e=>{const t=new FormData;t.append("file",e),t.append("upload_preset","ignite");try{const e=await fetch("https://api.cloudinary.com/v1_1/dxfonorpp/image/upload",{method:"POST",body:t});return(await e.json()).secure_url}catch(n){throw console.error("Error uploading image:",n),n}})(t);S({...E,image:e})}catch(r){n("Error uploading image: "+r.message)}N(!1)}else n("Please select an image file")},disabled:_}),_&&(0,je.jsx)("p",{children:"Uploading image..."}),E.image&&(0,je.jsx)("div",{className:"image-preview",children:(0,je.jsx)("img",{src:E.image,alt:"Preview",style:{width:"100px",height:"100px",objectFit:"cover"}})})]}),(0,je.jsx)("button",{onClick:async()=>{if(E.name&&E.image)try{const t=await hy(lv(gy,"menu"),E);u([...c,{id:t.id,...E}]),S({name:"",image:""}),e("Menu item added successfully!")}catch(t){n("Error adding menu item: "+t.message)}else r("Please fill all fields and upload an image")},disabled:_,children:_?"Uploading...":"Add Item"})]}),(0,je.jsx)("div",{className:"menu-list",children:c.map(t=>(0,je.jsxs)("div",{className:"menu-card",children:[(0,je.jsx)("div",{className:"item-image",children:t.image.startsWith("http")?(0,je.jsx)("img",{src:t.image,alt:t.name,style:{width:"50px",height:"50px",objectFit:"cover"}}):(0,je.jsx)("span",{children:t.image})}),(0,je.jsx)("span",{className:"item-name",children:t.name}),(0,je.jsx)("button",{onClick:()=>(async t=>{if(await i({title:"Delete Menu Item",message:"Are you sure you want to delete this menu item? This action cannot be undone.",confirmText:"Delete Item",cancelText:"Cancel",type:"danger"}))try{await dy(cv(gy,"menu",t)),u(c.filter(e=>e.id!==t)),e("Menu item deleted successfully!")}catch(r){n("Error deleting menu item: "+r.message)}})(t.id),className:"delete",children:"Delete"})]},t.id))})]}),"feedback"===s&&(0,je.jsxs)("div",{className:"tab-content",children:[(0,je.jsx)("h2",{children:"Manage Feedback"}),(0,je.jsx)("div",{className:"feedback-list",children:d.map(t=>(0,je.jsxs)("div",{className:"feedback-card",children:[(0,je.jsxs)("div",{className:"feedback-header",children:[(0,je.jsx)("strong",{children:t.name}),(0,je.jsx)("span",{children:"\u2b50".repeat(t.rating)}),(0,je.jsx)("button",{onClick:()=>(async t=>{if(await i({title:"Delete Feedback",message:"Are you sure you want to delete this feedback? This action cannot be undone.",confirmText:"Delete Feedback",cancelText:"Cancel",type:"danger"}))try{await dy(cv(gy,"feedback",t)),h(d.filter(e=>e.id!==t)),e("Feedback deleted successfully!")}catch(r){n("Error deleting feedback: "+r.message)}})(t.id),className:"delete",children:"Delete"})]}),(0,je.jsx)("p",{children:t.comment})]},t.id))})]}),"birthday"===s&&(0,je.jsxs)("div",{className:"tab-content",children:[(0,je.jsx)("h2",{children:"Manage Birthday Packages"}),(0,je.jsxs)("div",{className:"add-form",children:[(0,je.jsx)("h3",{children:"Add New Birthday Package"}),(0,je.jsx)("input",{type:"text",placeholder:"Package Title (e.g., \u2728 Spark Package)",value:T.title,onChange:e=>C({...T,title:e.target.value})}),(0,je.jsx)("input",{type:"text",placeholder:"Price (e.g., 80 ILS/person)",value:T.price,onChange:e=>C({...T,price:e.target.value})}),(0,je.jsx)("input",{type:"text",placeholder:"Max People",value:T.maxPeople,onChange:e=>C({...T,maxPeople:e.target.value})}),(0,je.jsx)("input",{type:"text",placeholder:"Duration in minutes",value:T.duration,onChange:e=>C({...T,duration:e.target.value})}),(0,je.jsxs)("div",{className:"items-section",children:[(0,je.jsx)("label",{children:"Package Items:"}),T.items.map((e,t)=>(0,je.jsx)("input",{type:"text",placeholder:"Package item (e.g., 1 VR session)",value:e,onChange:e=>{const n=[...T.items];n[t]=e.target.value,C({...T,items:n})}},t)),(0,je.jsx)("button",{type:"button",onClick:()=>C({...T,items:[...T.items,""]}),children:"+ Add Item"})]}),(0,je.jsx)("button",{onClick:async()=>{if(T.title&&T.price)try{const t={...T,items:T.items.filter(e=>""!==e.trim()),maxPeople:T.maxPeople,duration:parseInt(T.duration)},n=await hy(lv(gy,"birthdayPackages"),t);p([...f,{id:n.id,...t}]),C({title:"",price:"",items:[""],maxPeople:"",duration:""}),e("Birthday package added successfully!")}catch(t){n("Error adding birthday package: "+t.message)}else r("Please fill all required fields")},children:"Add Birthday Package"})]}),(0,je.jsx)("div",{className:"packages-list",children:f.map(t=>(0,je.jsx)("div",{className:"package-card",children:R===t.id?(0,je.jsxs)("div",{className:"edit-package-form",children:[(0,je.jsx)("input",{type:"text",placeholder:"Package Title",value:M.title,onChange:e=>F({...M,title:e.target.value})}),(0,je.jsx)("input",{type:"text",placeholder:"Price",value:M.price,onChange:e=>F({...M,price:e.target.value})}),(0,je.jsx)("input",{type:"text",placeholder:"Max People",value:M.maxPeople,onChange:e=>F({...M,maxPeople:e.target.value})}),(0,je.jsx)("input",{type:"text",placeholder:"Duration in minutes",value:M.duration,onChange:e=>F({...M,duration:e.target.value})}),(0,je.jsxs)("div",{className:"edit-items-section",children:[(0,je.jsx)("label",{children:"Package Items:"}),M.items.map((e,t)=>(0,je.jsx)("input",{type:"text",placeholder:"Package item",value:e,onChange:e=>{const n=[...M.items];n[t]=e.target.value,F({...M,items:n})}},t)),(0,je.jsx)("button",{type:"button",onClick:()=>F({...M,items:[...M.items,""]}),children:"+ Add Item"})]}),(0,je.jsxs)("div",{className:"edit-package-actions",children:[(0,je.jsx)("button",{onClick:H,children:"Save"}),(0,je.jsx)("button",{onClick:K,children:"Cancel"})]})]}):(0,je.jsxs)(je.Fragment,{children:[(0,je.jsx)("h3",{children:t.title}),(0,je.jsx)("p",{className:"price",children:t.price}),(0,je.jsxs)("p",{className:"package-details",children:["\ud83d\udc65 Max: ",t.maxPeople," people | \u23f1\ufe0f Duration:"," ",t.duration," minutes"]}),(0,je.jsx)("ul",{children:t.items.map((e,t)=>(0,je.jsx)("li",{children:e},t))}),(0,je.jsxs)("div",{className:"package-actions",children:[(0,je.jsx)("button",{onClick:()=>(e=>{L(e.id),F({title:e.title,price:e.price,items:[...e.items],maxPeople:e.maxPeople,duration:e.duration})})(t),className:"edit",children:"Edit"}),(0,je.jsx)("button",{onClick:()=>(async t=>{if(await i({title:"Delete Birthday Package",message:"Are you sure you want to delete this birthday package? This action cannot be undone.",confirmText:"Delete Package",cancelText:"Cancel",type:"danger"}))try{await dy(cv(gy,"birthdayPackages",t)),p(f.filter(e=>e.id!==t)),e("Birthday package deleted successfully!")}catch(r){n("Error deleting birthday package: "+r.message)}})(t.id),className:"delete",children:"Delete"})]})]})},t.id))})]}),"offers"===s&&(0,je.jsxs)("div",{className:"tab-content",children:[(0,je.jsx)("h2",{children:"Manage Points Offers"}),(0,je.jsxs)("div",{className:"add-form",children:[(0,je.jsx)("h3",{children:"Add New Offer"}),(0,je.jsxs)("div",{className:"offer-input-group",children:[(0,je.jsx)("input",{type:"number",placeholder:"Spend Amount (ILS)",value:I.spend,onChange:e=>j({...I,spend:e.target.value}),min:"1"}),(0,je.jsx)("span",{className:"arrow-text",children:"\u2192"}),(0,je.jsx)("input",{type:"number",placeholder:"Points to Get",value:I.get,onChange:e=>j({...I,get:e.target.value}),min:"1"})]}),(0,je.jsx)("button",{onClick:async()=>{if(I.spend&&I.get)if(parseInt(I.spend)<=0||parseInt(I.get)<=0)r("Please enter valid positive numbers");else try{const t={spend:parseInt(I.spend),get:parseInt(I.get)},n=await hy(lv(gy,"offers"),t);g([...m,{id:n.id,...t}]),j({spend:"",get:""}),e("Offer added successfully!")}catch(t){n("Error adding offer: "+t.message)}else r("Please fill all required fields")},children:"Add Offer"})]}),(0,je.jsx)("div",{className:"offers-list",children:m.sort((e,t)=>e.spend-t.spend).map(t=>(0,je.jsxs)("div",{className:"offer-card",children:[(0,je.jsxs)("div",{className:"offer-display",children:[(0,je.jsxs)("div",{className:"spend-section",children:[(0,je.jsx)("span",{className:"currency",children:"\u20aa"}),(0,je.jsx)("span",{className:"amount",children:t.spend}),(0,je.jsx)("span",{className:"label",children:"Spend"})]}),(0,je.jsx)("div",{className:"arrow-section",children:(0,je.jsx)("span",{children:"\u2192"})}),(0,je.jsxs)("div",{className:"get-section",children:[(0,je.jsx)("span",{className:"points",children:t.get}),(0,je.jsx)("span",{className:"label",children:"Points"})]})]}),(0,je.jsx)("button",{onClick:()=>(async t=>{if(await i({title:"Delete Offer",message:"Are you sure you want to delete this offer? This action cannot be undone.",confirmText:"Delete Offer",cancelText:"Cancel",type:"danger"}))try{await dy(cv(gy,"offers",t)),g(m.filter(e=>e.id!==t)),e("Offer deleted successfully!")}catch(r){n("Error deleting offer: "+r.message)}})(t.id),className:"delete",children:"Delete"})]},t.id))})]}),"faqs"===s&&(0,je.jsxs)("div",{className:"tab-content",children:[(0,je.jsx)("h2",{children:"Manage Frequently Asked Questions"}),(0,je.jsxs)("div",{className:"add-form",children:[(0,je.jsx)("h3",{children:"Add New FAQ"}),(0,je.jsx)("input",{type:"text",placeholder:"Question",value:A.question,onChange:e=>D({...A,question:e.target.value})}),(0,je.jsx)("textarea",{placeholder:"Answer",value:A.answer,onChange:e=>D({...A,answer:e.target.value}),rows:"4"}),(0,je.jsx)("button",{onClick:async()=>{if(A.question&&A.answer)try{const t={question:A.question.trim(),answer:A.answer.trim(),createdAt:new Date},n=await hy(lv(gy,"faqs"),t);y([...v,{id:n.id,...t}]),D({question:"",answer:""}),e("FAQ added successfully!")}catch(t){n("Error adding FAQ: "+t.message)}else r("Please fill all required fields")},children:"Add FAQ"})]}),(0,je.jsx)("div",{className:"faqs-list",children:v.map(t=>(0,je.jsxs)("div",{className:"faq-card",children:[(0,je.jsx)("div",{className:"faq-question",children:(0,je.jsxs)("h4",{children:["\u2753 ",t.question]})}),(0,je.jsx)("div",{className:"faq-answer",children:(0,je.jsx)("p",{children:t.answer})}),(0,je.jsx)("button",{onClick:()=>(async t=>{if(await i({title:"Delete FAQ",message:"Are you sure you want to delete this FAQ? This action cannot be undone.",confirmText:"Delete FAQ",cancelText:"Cancel",type:"danger"}))try{await dy(cv(gy,"faqs",t)),y(v.filter(e=>e.id!==t)),e("FAQ deleted successfully!")}catch(r){n("Error deleting FAQ: "+r.message)}})(t.id),className:"delete",children:"Delete"})]},t.id))})]})]}),z&&(0,je.jsx)("div",{className:"rejection-modal-overlay",onClick:Q,children:(0,je.jsxs)("div",{className:"rejection-modal",onClick:e=>e.stopPropagation(),children:[(0,je.jsx)("div",{className:"rejection-modal-header",children:(0,je.jsx)("h3",{children:"Reject Booking"})}),(0,je.jsxs)("div",{className:"rejection-modal-body",children:[(0,je.jsx)("p",{children:"Please provide a reason for rejecting this booking. This will be included in the email to the customer."}),(0,je.jsx)("textarea",{value:U,onChange:e=>V(e.target.value),placeholder:"Enter rejection reason (e.g., 'The requested time slot is no longer available', 'Capacity is full for that date', etc.)",rows:"4",className:"rejection-reason-input"}),(0,je.jsxs)("div",{className:"rejection-reason-suggestions",children:[(0,je.jsx)("p",{children:(0,je.jsx)("strong",{children:"Common reasons:"})}),(0,je.jsx)("button",{type:"button",onClick:()=>V("The requested time slot is no longer available."),className:"suggestion-btn",children:"Time slot unavailable"}),(0,je.jsx)("button",{type:"button",onClick:()=>V("We are at full capacity for the requested date."),className:"suggestion-btn",children:"Full capacity"}),(0,je.jsx)("button",{type:"button",onClick:()=>V("Unable to accommodate the requested party size."),className:"suggestion-btn",children:"Party size issue"})]})]}),(0,je.jsxs)("div",{className:"rejection-modal-actions",children:[(0,je.jsx)("button",{onClick:Q,className:"cancel-btn",children:"Cancel"}),(0,je.jsx)("button",{onClick:async()=>{if(q)try{const t=o.find(e=>e.id===q);if(t.email&&""!==t.email.trim()||r("This booking doesn't have an email address. Rejecting without sending email."),await uy(cv(gy,"bookings",q),{status:"rejected",rejectedAt:new Date,rejectedBy:"admin",rejectionReason:U}),l(o.map(e=>e.id===q?{...e,status:"rejected",rejectedAt:new Date,rejectionReason:U}:e)),t.email&&""!==t.email.trim()){console.log("Attempting to send rejection email to:",t.email);const n=await async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";try{if(!e.email||""===e.email.trim())throw new Error("No email address provided");const n={to_email:e.email.trim(),to_name:e.name,from_name:"Bowling Center Team",reply_to:"noreply@bowlingcenter.com",subject:`\u274c Bowling Booking Update - ${e.date}`,booking_date:e.date,booking_time:e.time,booking_people:e.people,booking_rounds:e.rounds||"N/A",booking_phone:e.phone,booking_type:e.type,booking_package:e.bundleName||"Regular Bowling",booking_id:e.id,rejection_reason:t||"Unfortunately, we cannot accommodate your booking at the requested time.",message:"We regret to inform you that your booking request cannot be confirmed.",user_name:e.name,user_email:e.email.trim()};return console.log("Sending rejection email with params:",n),{success:!0,response:await rk(ik,"template_a0rqonu",n)}}catch(n){return console.error("Error sending rejection email:",n),{success:!1,error:n.message}}}(t,U);n.success?e("Booking rejected and notification email sent!"):(console.error("Email sending failed:",n.error),r(`Booking rejected but email failed to send: ${n.error}`))}else e("Booking rejected! (No email on file)");B(!1),$(null),V("")}catch(t){n("Error rejecting booking: "+t.message)}},className:"confirm-reject-btn",disabled:!U.trim(),children:"Reject & Send Email"})]})]})}),(0,je.jsx)("style",{jsx:!0,children:"\n        .bookings-header {\n          display: flex;\n          justify-content: space-between;\n          align-items: center;\n          margin-bottom: 20px;\n          flex-wrap: wrap;\n          gap: 16px;\n        }\n\n        .booking-filters {\n          display: flex;\n          gap: 8px;\n          flex-wrap: wrap;\n        }\n\n        .filter-btn {\n          padding: 8px 16px;\n          border: 2px solid #e5e7eb;\n          background: white;\n          border-radius: 6px;\n          cursor: pointer;\n          transition: all 0.2s;\n          font-size: 14px;\n        }\n\n        .filter-btn.active {\n          background: #3b82f6;\n          color: white;\n          border-color: #3b82f6;\n        }\n\n        .filter-btn:hover:not(.active) {\n          border-color: #3b82f6;\n          color: #3b82f6;\n        }\n\n        .booking-status-header {\n          display: flex;\n          justify-content: space-between;\n          align-items: center;\n          margin-bottom: 12px;\n        }\n\n        .booking-status {\n          font-weight: bold;\n          font-size: 14px;\n        }\n\n        .booking-date-created {\n          font-size: 12px;\n          color: #6b7280;\n        }\n\n        .contact-attempts {\n          color: #f59e0b;\n          font-weight: 500;\n        }\n\n        .booking-actions {\n          display: flex;\n          gap: 8px;\n          flex-wrap: wrap;\n          margin-top: 12px;\n        }\n\n        .approve-btn {\n          background: #22c55e;\n          color: white;\n          border: none;\n          padding: 8px 16px;\n          border-radius: 4px;\n          cursor: pointer;\n          font-size: 14px;\n        }\n\n        .approve-btn:hover {\n          background: #16a34a;\n        }\n\n        .reject-btn {\n          background: #ef4444;\n          color: white;\n          border: none;\n          padding: 8px 16px;\n          border-radius: 4px;\n          cursor: pointer;\n          font-size: 14px;\n        }\n\n        .reject-btn:hover {\n          background: #dc2626;\n        }\n\n        .contact-btn {\n          background: #f59e0b;\n          color: white;\n          border: none;\n          padding: 8px 16px;\n          border-radius: 4px;\n          cursor: pointer;\n          font-size: 14px;\n        }\n\n        .contact-btn:hover {\n          background: #d97706;\n        }\n\n        .rejection-modal-overlay {\n          position: fixed;\n          top: 0;\n          left: 0;\n          right: 0;\n          bottom: 0;\n          background-color: rgba(0, 0, 0, 0.5);\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          z-index: 10002;\n        }\n\n        .rejection-modal {\n          background: white;\n          border-radius: 12px;\n          box-shadow: 0 20px 60px rgba(0, 0, 0, 0.2);\n          max-width: 500px;\n          width: 90%;\n          max-height: 90vh;\n          overflow-y: auto;\n        }\n\n        .rejection-modal-header {\n          padding: 20px 24px 16px;\n          border-bottom: 1px solid #e5e7eb;\n        }\n\n        .rejection-modal-header h3 {\n          margin: 0;\n          color: #ef4444;\n        }\n\n        .rejection-modal-body {\n          padding: 24px;\n        }\n\n        .rejection-modal-body p {\n          margin-bottom: 16px;\n          color: #6b7280;\n          line-height: 1.5;\n        }\n\n        .rejection-reason-input {\n          width: 100%;\n          padding: 12px;\n          border: 2px solid #e5e7eb;\n          border-radius: 8px;\n          font-family: inherit;\n          font-size: 14px;\n          resize: vertical;\n          margin-bottom: 16px;\n        }\n\n        .rejection-reason-input:focus {\n          outline: none;\n          border-color: #ef4444;\n        }\n\n        .rejection-reason-suggestions {\n          margin-bottom: 16px;\n        }\n\n        .rejection-reason-suggestions p {\n          margin-bottom: 8px;\n          font-size: 14px;\n          font-weight: 500;\n        }\n\n        .suggestion-btn {\n          display: inline-block;\n          margin: 4px 8px 4px 0;\n          padding: 6px 12px;\n          background: #f3f4f6;\n          border: 1px solid #d1d5db;\n          border-radius: 6px;\n          font-size: 12px;\n          cursor: pointer;\n          transition: all 0.2s;\n        }\n\n        .suggestion-btn:hover {\n          background: #e5e7eb;\n        }\n\n        .rejection-modal-actions {\n          padding: 16px 24px 24px;\n          display: flex;\n          gap: 12px;\n          justify-content: flex-end;\n        }\n\n        .cancel-btn {\n          padding: 8px 16px;\n          background: #f3f4f6;\n          border: 1px solid #d1d5db;\n          border-radius: 6px;\n          cursor: pointer;\n        }\n\n        .confirm-reject-btn {\n          padding: 8px 16px;\n          background: #ef4444;\n          color: white;\n          border: none;\n          border-radius: 6px;\n          cursor: pointer;\n        }\n\n        .confirm-reject-btn:disabled {\n          background: #9ca3af;\n          cursor: not-allowed;\n        }\n\n        .confirm-reject-btn:hover:not(:disabled) {\n          background: #dc2626;\n        }\n\n        @media (max-width: 768px) {\n          .bookings-header {\n            flex-direction: column;\n            align-items: stretch;\n          }\n\n          .booking-filters {\n            justify-content: center;\n          }\n\n          .booking-actions {\n            flex-direction: column;\n          }\n        }\n      "})]})},ok=()=>{const{showSuccess:e,showError:n}=Pe(),[r,i]=(0,t.useState)({name:"",email:"",password:"",role:"reception"}),[s,a]=(0,t.useState)(!1),[o,l]=(0,t.useState)({}),c=ee(),u=e=>{const{name:t,value:n}=e.target;i(e=>({...e,[t]:n})),o[t]&&l(e=>({...e,[t]:""}))};return(0,je.jsx)("div",{className:"add-user",children:(0,je.jsxs)("div",{className:"container",children:[(0,je.jsx)("h1",{children:"Add New User"}),(0,je.jsxs)("div",{className:"form-container",children:[(0,je.jsxs)("form",{onSubmit:async t=>{if(t.preventDefault(),(()=>{const e={};return r.name.trim()||(e.name="Name is required"),r.email.trim()?/\S+@\S+\.\S+/.test(r.email)||(e.email="Email is invalid"):e.email="Email is required",r.password?r.password.length<6&&(e.password="Password must be at least 6 characters"):e.password="Password is required",r.role||(e.role="Role is required"),l(e),0===Object.keys(e).length})()){a(!0);try{var s;const t=await async function(e,t,n){var r;const i=qr(e),s={returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"};let a;if(null===(r=i._getRecaptchaConfig())||void 0===r?void 0:r.emailPasswordEnabled){const e=await Vr(i,s,"signUpPassword");a=ui(i,e)}else a=ui(i,s).catch(async e=>{if("auth/missing-recaptcha-token"===e.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const e=await Vr(i,s,"signUpPassword");return ui(i,e)}return Promise.reject(e)});const o=await a.catch(e=>Promise.reject(e)),l=await di._fromIdTokenResponse(i,"signIn",o);return await i._updateCurrentUser(l.user),l}(vy,r.email,r.password);await function(e,t,n){e=tv(e,sv);const r=tv(e.firestore,dv),i=ty(e.converter,t,n);return fy(r,[_v(Sv(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,of.none())])}(cv(gy,"admins",t.user.uid),{name:r.name,email:r.email,role:r.role,createdAt:(new Date).toISOString(),createdBy:(null===(s=vy.currentUser)||void 0===s?void 0:s.email)||"Unknown"}),e(`User ${r.name} created successfully with role: ${r.role}`),i({name:"",email:"",password:"",role:"reception"})}catch(o){console.error("Error creating user:",o);let e="Failed to create user. ";"auth/email-already-in-use"===o.code?e+="Email is already in use.":"auth/weak-password"===o.code?e+="Password is too weak.":"auth/invalid-email"===o.code?e+="Invalid email address.":e+=o.message,n(e)}a(!1)}},className:"add-user-form",children:[(0,je.jsx)("h2",{children:"Create User Account"}),(0,je.jsxs)("div",{className:"form-group",children:[(0,je.jsx)("label",{htmlFor:"name",children:"Full Name"}),(0,je.jsx)("input",{type:"text",id:"name",name:"name",value:r.name,onChange:u,placeholder:"Enter full name",className:o.name?"error":"",disabled:s}),o.name&&(0,je.jsx)("span",{className:"error-message",children:o.name})]}),(0,je.jsxs)("div",{className:"form-group",children:[(0,je.jsx)("label",{htmlFor:"email",children:"Email Address"}),(0,je.jsx)("input",{type:"email",id:"email",name:"email",value:r.email,onChange:u,placeholder:"Enter email address",className:o.email?"error":"",disabled:s}),o.email&&(0,je.jsx)("span",{className:"error-message",children:o.email})]}),(0,je.jsxs)("div",{className:"form-group",children:[(0,je.jsx)("label",{htmlFor:"password",children:"Password"}),(0,je.jsx)("input",{type:"password",id:"password",name:"password",value:r.password,onChange:u,placeholder:"Enter password (min. 6 characters)",className:o.password?"error":"",disabled:s}),o.password&&(0,je.jsx)("span",{className:"error-message",children:o.password})]}),(0,je.jsxs)("div",{className:"form-group",children:[(0,je.jsx)("label",{htmlFor:"role",children:"User Role"}),(0,je.jsxs)("select",{id:"role",name:"role",value:r.role,onChange:u,className:o.role?"error":"",disabled:s,children:[(0,je.jsx)("option",{value:"reception",children:"Reception Staff"}),(0,je.jsx)("option",{value:"jana",children:"Jana (Manager)"})]}),o.role&&(0,je.jsx)("span",{className:"error-message",children:o.role})]}),(0,je.jsxs)("div",{className:"form-actions",children:[(0,je.jsx)("button",{type:"button",onClick:()=>{c("/admin/dashboard")},className:"cancel-btn",disabled:s,children:"Cancel"}),(0,je.jsx)("button",{type:"submit",className:"submit-btn",disabled:s,children:s?"Creating User...":"Create User"})]})]}),(0,je.jsxs)("div",{className:"info-panel",children:[(0,je.jsx)("h3",{children:"User Roles Information"}),(0,je.jsxs)("div",{className:"role-info",children:[(0,je.jsxs)("div",{className:"role-item",children:[(0,je.jsx)("div",{className:"role-icon",children:"\ud83d\udc65"}),(0,je.jsxs)("div",{className:"role-details",children:[(0,je.jsx)("h4",{children:"Reception Staff"}),(0,je.jsx)("p",{children:"Access to calendar and booking management"}),(0,je.jsxs)("ul",{children:[(0,je.jsx)("li",{children:"View reception calendar"}),(0,je.jsx)("li",{children:"Manage daily bookings"}),(0,je.jsx)("li",{children:"Search customer bookings"})]})]})]}),(0,je.jsxs)("div",{className:"role-item",children:[(0,je.jsx)("div",{className:"role-icon",children:"\ud83d\udc69\u200d\ud83d\udcbc"}),(0,je.jsxs)("div",{className:"role-details",children:[(0,je.jsx)("h4",{children:"Jana (Manager)"}),(0,je.jsx)("p",{children:"Complete system management access"}),(0,je.jsxs)("ul",{children:[(0,je.jsx)("li",{children:"Manage all bookings"}),(0,je.jsx)("li",{children:"Menu and bundle management"}),(0,je.jsx)("li",{children:"Feedback moderation"}),(0,je.jsx)("li",{children:"Full administrative control"})]})]})]})]})]})]})]})})},lk=()=>{const{showSuccess:e,showError:n,showConfirm:r}=Pe(),[i,s]=(0,t.useState)([]),[a,o]=(0,t.useState)(!0),[l,c]=(0,t.useState)(null),[u,d]=(0,t.useState)({name:"",email:"",role:""});(0,t.useEffect)(()=>{h()},[]);const h=async()=>{o(!0);try{const e=(await cy(lv(gy,"admins"))).docs.map(e=>({id:e.id,...e.data()}));s(e)}catch(e){n("Error fetching users: "+e.message)}o(!1)},f=()=>{c(null),d({name:"",email:"",role:""})},p=e=>{switch(e){case"jana":return"#e74c3c";case"reception":return"#3498db";default:return"#95a5a6"}},m=e=>{switch(e){case"jana":return"Manager";case"reception":return"Reception Staff";default:return"Unknown"}},g=e=>e?new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A";return a?(0,je.jsxs)("div",{className:"manage-users-page",children:[(0,je.jsx)("div",{className:"manage-users-enzo-helper"}),(0,je.jsx)("div",{className:"manage-users-icon-1"}),(0,je.jsx)("div",{className:"manage-users-icon-2"}),(0,je.jsx)("div",{className:"manage-users-container",children:(0,je.jsx)("div",{className:"manage-users-loading",children:"Loading users..."})})]}):(0,je.jsxs)("div",{className:"manage-users-page",children:[(0,je.jsx)("div",{className:"manage-users-enzo-helper"}),(0,je.jsx)("div",{className:"manage-users-icon-1"}),(0,je.jsx)("div",{className:"manage-users-icon-2"}),(0,je.jsxs)("div",{className:"manage-users-container",children:[(0,je.jsxs)("div",{className:"manage-users-page-header",children:[(0,je.jsx)("h1",{children:"Manage Users"}),(0,je.jsx)("p",{children:"View and manage all admin user accounts"})]}),(0,je.jsxs)("div",{className:"manage-users-stats",children:[(0,je.jsxs)("div",{className:"manage-users-stat-card",children:[(0,je.jsx)("div",{className:"manage-users-stat-number",children:i.length}),(0,je.jsx)("div",{className:"manage-users-stat-label",children:"Total Users"})]}),(0,je.jsxs)("div",{className:"manage-users-stat-card",children:[(0,je.jsx)("div",{className:"manage-users-stat-number",children:i.filter(e=>"jana"===e.role).length}),(0,je.jsx)("div",{className:"manage-users-stat-label",children:"Managers"})]}),(0,je.jsxs)("div",{className:"manage-users-stat-card",children:[(0,je.jsx)("div",{className:"manage-users-stat-number",children:i.filter(e=>"reception"===e.role).length}),(0,je.jsx)("div",{className:"manage-users-stat-label",children:"Reception Staff"})]})]}),(0,je.jsx)("div",{className:"manage-users-list",children:0===i.length?(0,je.jsxs)("div",{className:"manage-users-no-users",children:[(0,je.jsx)("h3",{children:"No users found"}),(0,je.jsx)("p",{children:"Add some users to get started."})]}):i.map(t=>{var a,o;return(0,je.jsx)("div",{className:"manage-users-user-card",children:l===t.id?(0,je.jsxs)("div",{className:"manage-users-edit-form",children:[(0,je.jsxs)("div",{className:"manage-users-edit-fields",children:[(0,je.jsxs)("div",{className:"manage-users-field-group",children:[(0,je.jsx)("label",{children:"Name:"}),(0,je.jsx)("input",{type:"text",value:u.name,onChange:e=>d({...u,name:e.target.value})})]}),(0,je.jsxs)("div",{className:"manage-users-field-group",children:[(0,je.jsx)("label",{children:"Email:"}),(0,je.jsx)("input",{type:"email",value:u.email,disabled:!0,className:"manage-users-disabled-field"}),(0,je.jsx)("small",{children:"Email cannot be changed"})]}),(0,je.jsxs)("div",{className:"manage-users-field-group",children:[(0,je.jsx)("label",{children:"Role:"}),(0,je.jsxs)("select",{value:u.role,onChange:e=>d({...u,role:e.target.value}),children:[(0,je.jsx)("option",{value:"reception",children:"Reception Staff"}),(0,je.jsx)("option",{value:"jana",children:"Manager"})]})]})]}),(0,je.jsxs)("div",{className:"manage-users-edit-actions",children:[(0,je.jsx)("button",{onClick:()=>(async t=>{try{await uy(cv(gy,"admins",t),{name:u.name,role:u.role,updatedAt:(new Date).toISOString()}),s(i.map(e=>e.id===t?{...e,name:u.name,role:u.role}:e)),c(null),e("User updated successfully!")}catch(r){n("Error updating user: "+r.message)}})(t.id),className:"manage-users-save-btn",children:"Save Changes"}),(0,je.jsx)("button",{onClick:f,className:"manage-users-cancel-btn",children:"Cancel"})]})]}):(0,je.jsxs)("div",{className:"manage-users-user-info",children:[(0,je.jsxs)("div",{className:"manage-users-user-header",children:[(0,je.jsx)("div",{className:"manage-users-user-avatar",children:(null===(a=t.name)||void 0===a||null===(o=a.charAt(0))||void 0===o?void 0:o.toUpperCase())||"?"}),(0,je.jsxs)("div",{className:"manage-users-user-details",children:[(0,je.jsx)("h3",{children:t.name}),(0,je.jsx)("p",{className:"manage-users-user-email",children:t.email}),(0,je.jsx)("div",{className:"manage-users-user-role",style:{color:p(t.role)},children:m(t.role)})]})]}),(0,je.jsxs)("div",{className:"manage-users-user-meta",children:[(0,je.jsxs)("div",{className:"manage-users-meta-item",children:[(0,je.jsx)("span",{className:"manage-users-meta-label",children:"Created:"}),(0,je.jsx)("span",{className:"manage-users-meta-value",children:g(t.createdAt)})]}),t.createdBy&&(0,je.jsxs)("div",{className:"manage-users-meta-item",children:[(0,je.jsx)("span",{className:"manage-users-meta-label",children:"Created by:"}),(0,je.jsx)("span",{className:"manage-users-meta-value",children:t.createdBy})]}),t.updatedAt&&(0,je.jsxs)("div",{className:"manage-users-meta-item",children:[(0,je.jsx)("span",{className:"manage-users-meta-label",children:"Last updated:"}),(0,je.jsx)("span",{className:"manage-users-meta-value",children:g(t.updatedAt)})]})]}),(0,je.jsxs)("div",{className:"manage-users-user-actions",children:[(0,je.jsx)("button",{onClick:()=>(e=>{c(e.id),d({name:e.name,email:e.email,role:e.role})})(t),className:"manage-users-edit-btn",children:"Edit"}),(0,je.jsx)("button",{onClick:()=>(async(t,a)=>{if(await r({title:"Delete User Account",message:`Are you sure you want to delete ${a}'s account? This action cannot be undone and will remove all their access.`,confirmText:"Delete User",cancelText:"Cancel",type:"danger"}))try{await dy(cv(gy,"admins",t)),s(i.filter(e=>e.id!==t)),e(`${a}'s account has been deleted successfully!`)}catch(o){n("Error deleting user: "+o.message)}})(t.id,t.name),className:"manage-users-delete-btn",children:"Delete"})]})]})},t.id)})})]})]})},ck=()=>{const[e,n]=(0,t.useState)({currentPassword:"",newPassword:"",confirmPassword:""}),[r,i]=(0,t.useState)(!1),[s,a]=(0,t.useState)(""),[o,l]=(0,t.useState)(""),c=t=>{n({...e,[t.target.name]:t.target.value}),a(""),l("")};return(0,je.jsxs)("div",{className:"settings-admin-page",children:[(0,je.jsx)("div",{className:"settings-zoe-helper"}),(0,je.jsx)("div",{className:"settings-security-icon-1"}),(0,je.jsx)("div",{className:"settings-security-icon-2"}),(0,je.jsxs)("div",{className:"settings-container",children:[(0,je.jsx)("h1",{children:"Admin Settings"}),(0,je.jsxs)("div",{className:"settings-content",children:[(0,je.jsx)("h2",{children:"Change Password"}),s&&(0,je.jsx)("div",{className:"settings-error-message",children:s}),o&&(0,je.jsx)("div",{className:"settings-success-message",children:o}),(0,je.jsxs)("form",{onSubmit:async t=>{if(t.preventDefault(),e.newPassword===e.confirmPassword)if(e.newPassword.length<8)a("Password must be at least 8 characters long!");else{i(!0),a("");try{const t=vy.currentUser;if(!t)return void a("No user logged in!");const r=ri.credential(t.email,e.currentPassword);await bi(t,r),await function(e,t){return wi(st(e),null,t)}(t,e.newPassword),l("Password updated successfully!"),n({currentPassword:"",newPassword:"",confirmPassword:""})}catch(s){switch(console.error("Password update error:",s),s.code){case"auth/wrong-password":a("Current password is incorrect!");break;case"auth/weak-password":a("New password is too weak!");break;case"auth/requires-recent-login":a("Please log out and log back in before changing password!");break;default:a("Failed to update password. Please try again.")}}finally{i(!1)}}else a("New passwords don't match!")},className:"settings-password-form",children:[(0,je.jsxs)("div",{className:"settings-group",children:[(0,je.jsx)("label",{children:"Current Password"}),(0,je.jsx)("input",{type:"password",name:"currentPassword",value:e.currentPassword,onChange:c,required:!0})]}),(0,je.jsxs)("div",{className:"settings-group",children:[(0,je.jsx)("label",{children:"New Password"}),(0,je.jsx)("input",{type:"password",name:"newPassword",value:e.newPassword,onChange:c,required:!0,minLength:"8"})]}),(0,je.jsxs)("div",{className:"settings-group",children:[(0,je.jsx)("label",{children:"Confirm New Password"}),(0,je.jsx)("input",{type:"password",name:"confirmPassword",value:e.confirmPassword,onChange:c,required:!0,minLength:"8"})]}),(0,je.jsxs)("div",{className:"settings-actions",children:[(0,je.jsx)("button",{type:"submit",className:"settings-btn-save",disabled:r,children:r?"Updating...":"Change Password"}),(0,je.jsx)("button",{type:"button",className:"settings-btn-cancel",onClick:()=>{n({currentPassword:"",newPassword:"",confirmPassword:""}),a(""),l("")},disabled:r,children:"Cancel"})]})]})]})]})]})};const uk=function(){return(0,je.jsx)(Re,{children:(0,je.jsx)(Se,{children:(0,je.jsxs)("div",{className:"App",children:[(0,je.jsx)(yy,{}),(0,je.jsxs)(ye,{children:[(0,je.jsx)(ge,{path:"/",element:(0,je.jsx)(xy,{})}),(0,je.jsx)(ge,{path:"/dashboard",element:(0,je.jsx)(ky,{})}),(0,je.jsx)(ge,{path:"/menu",element:(0,je.jsx)(Ey,{})}),(0,je.jsx)(ge,{path:"/offers",element:(0,je.jsx)(Sy,{})}),(0,je.jsx)(ge,{path:"/booking",element:(0,je.jsx)(_y,{})}),(0,je.jsx)(ge,{path:"/feedback",element:(0,je.jsx)(Ny,{})}),(0,je.jsx)(ge,{path:"/birthday-packages",element:(0,je.jsx)(Ty,{})}),(0,je.jsx)(ge,{path:"/faq",element:(0,je.jsx)(Cy,{})}),(0,je.jsx)(ge,{path:"/admin",element:(0,je.jsx)(wy,{children:(0,je.jsx)(Iy,{})})}),(0,je.jsx)(ge,{path:"/admin/dashboard",element:(0,je.jsx)(by,{requiredRole:"jana",children:(0,je.jsx)(jy,{})})}),(0,je.jsx)(ge,{path:"/admin/calendar",element:(0,je.jsx)(by,{requiredRole:"reception",children:(0,je.jsx)(Wx,{})})}),(0,je.jsx)(ge,{path:"/admin/jana",element:(0,je.jsx)(by,{requiredRole:"jana",children:(0,je.jsx)(ak,{})})}),(0,je.jsx)(ge,{path:"/admin/add-user",element:(0,je.jsx)(by,{requiredRole:"jana",children:(0,je.jsx)(ok,{})})}),(0,je.jsx)(ge,{path:"/admin/manage-users",element:(0,je.jsx)(by,{requiredRole:"jana",children:(0,je.jsx)(lk,{})})}),(0,je.jsx)(ge,{path:"/admin/settings",element:(0,je.jsx)(by,{children:(0,je.jsx)(ck,{})})})]})]})})})};i.createRoot(document.getElementById("root")).render((0,je.jsx)(t.StrictMode,{children:(0,je.jsx)(uk,{})}))})()})();
//# sourceMappingURL=main.822a8ebf.js.map